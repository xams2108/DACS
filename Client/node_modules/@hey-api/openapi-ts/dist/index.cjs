'use strict';var fe=require('fs'),re=require('path'),y=require('typescript'),os$1=require('os'),jsonSchemaRefParser=require('@hey-api/json-schema-ref-parser'),c12=require('c12'),g=require('handlebars');function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var fe__default=/*#__PURE__*/_interopDefault(fe);var re__default=/*#__PURE__*/_interopDefault(re);var y__default=/*#__PURE__*/_interopDefault(y);var g__default=/*#__PURE__*/_interopDefault(g);var dm=Object.create;var rs=Object.defineProperty;var ym=Object.getOwnPropertyDescriptor;var gm=Object.getOwnPropertyNames;var hm=Object.getPrototypeOf,xm=Object.prototype.hasOwnProperty;var xe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var bm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gm(t))!xm.call(e,o)&&o!==r&&rs(e,o,{get:()=>t[o],enumerable:!(n=ym(t,o))||n.enumerable});return e};var Om=(e,t,r)=>(r=e!=null?dm(hm(e)):{},bm(rs(r,"default",{value:e,enumerable:true}),e));var Ca=ie((pS,Sa)=>{Sa.exports=Ra;Ra.sync=uu;var ba=xe("fs");function lu(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return  true;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return  true}return  false}function Oa(e,t,r){return !e.isSymbolicLink()&&!e.isFile()?false:lu(t,r)}function Ra(e,t,r){ba.stat(e,function(n,o){r(n,n?false:Oa(o,e,t));});}function uu(e,t){return Oa(ba.statSync(e),e,t)}});var va=ie((cS,Aa)=>{Aa.exports=Pa;Pa.sync=fu;var Ta=xe("fs");function Pa(e,t,r){Ta.stat(e,function(n,o){r(n,n?false:Ia(o,t));});}function fu(e,t){return Ia(Ta.statSync(e),t)}function Ia(e,t){return e.isFile()&&du(e,t)}function du(e,t){var r=e.mode,n=e.uid,o=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),i=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),p=parseInt("010",8),m=parseInt("001",8),l=a|p,u=r&m||r&p&&o===i||r&a&&n===s||r&l&&s===0;return u}});var ja=ie((lS,Ea)=>{xe("fs");var un;process.platform==="win32"||global.TESTING_WINDOWS?un=Ca():un=va();Ea.exports=oo;oo.sync=yu;function oo(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){oo(e,t||{},function(s,i){s?o(s):n(i);});})}un(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=false),r(n,o);});}function yu(e,t){try{return un.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return  false;throw r}}});var Ma=ie((uS,Da)=>{var Jt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",qa=xe("path"),gu=Jt?";":":",ka=ja(),Na=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),$a=(e,t)=>{let r=t.colon||gu,n=e.match(/\//)||Jt&&e.match(/\\/)?[""]:[...Jt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Jt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Jt?o.split(r):[""];return Jt&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},wa=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:s}=$a(e,t),i=[],a=m=>new Promise((l,u)=>{if(m===n.length)return t.all&&i.length?l(i):u(Na(e));let f=n[m],d=/^".*"$/.test(f)?f.slice(1,-1):f,h=qa.join(d,e),x=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;l(p(x,m,0));}),p=(m,l,u)=>new Promise((f,d)=>{if(u===o.length)return f(a(l+1));let h=o[u];ka(m+h,{pathExt:s},(x,O)=>{if(!x&&O)if(t.all)i.push(m+h);else return f(m+h);return f(p(m,l,u+1))});});return r?a(0).then(m=>r(null,m),r):a(0)},hu=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=$a(e,t),s=[];for(let i=0;i<r.length;i++){let a=r[i],p=/^".*"$/.test(a)?a.slice(1,-1):a,m=qa.join(p,e),l=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;for(let u=0;u<n.length;u++){let f=l+n[u];try{if(ka.sync(f,{pathExt:o}))if(t.all)s.push(f);else return f}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw Na(e)};Da.exports=wa;wa.sync=hu;});var La=ie((fS,so)=>{var Fa=(e={})=>{let t=e.env||process.env;return (e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};so.exports=Fa;so.exports.default=Fa;});var Ka=ie((dS,Ha)=>{var _a=xe("path"),xu=Ma(),bu=La();function Ba(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd);}catch{}let i;try{i=xu.sync(e.command,{path:r[bu({env:r})],pathExt:t?_a.delimiter:void 0});}catch{}finally{s&&process.chdir(n);}return i&&(i=_a.resolve(o?e.options.cwd:"",i)),i}function Ou(e){return Ba(e)||Ba(e,true)}Ha.exports=Ou;});var Va=ie((yS,ao)=>{var io=/([()\][%!^"`<>&|;, *?])/g;function Ru(e){return e=e.replace(io,"^$1"),e}function Su(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(io,"^$1"),t&&(e=e.replace(io,"^$1")),e}ao.exports.command=Ru;ao.exports.argument=Su;});var Ua=ie((gS,Wa)=>{Wa.exports=/^#!(.*)/;});var Xa=ie((hS,Qa)=>{var Cu=Ua();Qa.exports=(e="")=>{let t=e.match(Cu);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o};});var Ga=ie((xS,za)=>{var po=xe("fs"),Tu=Xa();function Pu(e){let r=Buffer.alloc(150),n;try{n=po.openSync(e,"r"),po.readSync(n,r,0,150,0),po.closeSync(n);}catch{}return Tu(r.toString())}za.exports=Pu;});var ep=ie((bS,Ya)=>{var Iu=xe("path"),Ja=Ka(),Za=Va(),Au=Ga(),vu=process.platform==="win32",Eu=/\.(?:com|exe)$/i,ju=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function qu(e){e.file=Ja(e);let t=e.file&&Au(e.file);return t?(e.args.unshift(e.file),e.command=t,Ja(e)):e.file}function ku(e){if(!vu)return e;let t=qu(e),r=!Eu.test(t);if(e.options.forceShell||r){let n=ju.test(t);e.command=Iu.normalize(e.command),e.command=Za.command(e.command),e.args=e.args.map(s=>Za.argument(s,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=true;}return e}function Nu(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:ku(n)}Ya.exports=Nu;});var np=ie((OS,rp)=>{var co=process.platform==="win32";function mo(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function $u(e,t){if(!co)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let s=tp(o,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)};}function tp(e,t){return co&&e===1&&!t.file?mo(t.original,"spawn"):null}function wu(e,t){return co&&e===1&&!t.file?mo(t.original,"spawnSync"):null}rp.exports={hookChildProcess:$u,verifyENOENT:tp,verifyENOENTSync:wu,notFoundError:mo};});var ip=ie((RS,Zt)=>{var op=xe("child_process"),lo=ep(),uo=np();function sp(e,t,r){let n=lo(e,t,r),o=op.spawn(n.command,n.args,n.options);return uo.hookChildProcess(o,n),o}function Du(e,t,r){let n=lo(e,t,r),o=op.spawnSync(n.command,n.args,n.options);return o.error=o.error||uo.verifyENOENTSync(o.status,n),o}Zt.exports=sp;Zt.exports.spawn=sp;Zt.exports.sync=Du;Zt.exports._parse=lo;Zt.exports._enoent=uo;});var qt=/^[^$_\p{ID_Start}]+/u,He=/^-?\d+(\.\d+)?$/,ns=/^(document|history|location|navigator|window)$/g,os=/^(console|Array|Date|Error|Function|JSON|Map|Math|Object|Promise|RegExp|Set|WeakMap|WeakSet)$/g,ce=/^(arguments|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|eval|export|extends|false|finally|for|from|function|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)$/g,ss=/^(global|process|Buffer)$/g,is=/^(any|as|bigint|boolean|namespace|never|null|number|string|symbol|type|undefined|unknown|void)$/g,be=/^[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*$/u;var me=e=>(e||e==="")&&(be.lastIndex=0,!be.test(e))?`'${e}'`:e,kt=e=>e&&e.startsWith("'")&&e.endsWith("'")?e.slice(1,e.length-1):e,k=e=>e.replace(/\*\//g,"*").replace(/\/\*/g,"*").replace(/\r?\n(.*)/g,(t,r)=>os$1.EOL+r.trim());var Te="client",le=e=>{let t=P(e);return t.name==="@hey-api/client-axios"||t.name==="@hey-api/client-nuxt"?"baseURL":"baseUrl"},P=e=>{for(let t of e.pluginOrder){let r=e.plugins[t];if(r?._tags?.includes("client"))return r}return {name:""}};var as,b=()=>{let e=as,t=P(e);return e.client=t,e},ps=e=>(as=e,b()),j=e=>P(e).name.startsWith("legacy/"),D=e=>{if(j(e))return e.name};var Sm=y__default.default.createPrinter({newLine:y__default.default.NewLineKind.LineFeed,removeComments:false}),cs=e=>y__default.default.createSourceFile("",e,y__default.default.ScriptTarget.ESNext,false,y__default.default.ScriptKind.TS),Cm=cs(""),Tm=e=>e.replace(/\\u([0-9a-fA-F]{4})/g,(t,r)=>String.fromCharCode(Number.parseInt(r,16)));function Pe({node:e,unescape:t=false}){let r=Sm.printNode(y__default.default.EmitHint.Unspecified,e,Cm);if(!t)return r;try{return Tm(r)}catch{return b().logs.level==="debug"&&console.warn("Could not decode value:",r),r}}function ms(e){return cs(e).statements[0]}var C=({text:e})=>y__default.default.factory.createIdentifier(e),ae={boolean:e=>e?y__default.default.factory.createTrue():y__default.default.factory.createFalse(),export:({alias:e,asType:t=false,name:r})=>{let n=C({text:r});if(e){let o=C({text:e});return y__default.default.factory.createExportSpecifier(t,n,o)}return y__default.default.factory.createExportSpecifier(t,void 0,n)},import:({alias:e,asType:t=false,name:r})=>{let n=C({text:r});if(e){let o=C({text:e});return y__default.default.factory.createImportSpecifier(t,n,o)}return y__default.default.factory.createImportSpecifier(t,void 0,n)},number:e=>e<0?y__default.default.factory.createPrefixUnaryExpression(y__default.default.SyntaxKind.MinusToken,y__default.default.factory.createNumericLiteral(Math.abs(e))):y__default.default.factory.createNumericLiteral(e),string:(e,t=false)=>{let r=e;t&&(r=kt(r));let n=r.includes("'")&&r.includes('"'),o=r.includes(`
`),s=r.startsWith("`"),i=r.startsWith("\\`")&&r.endsWith("\\`");return (o||n||s)&&!i&&(r=`\`${r.replace(/(?<!\\)`/g,"\\`").replace(/\${/g,"\\${")}\``),r.startsWith("`")?C({text:r}):bt({text:r})}},xt=e=>e!==null&&typeof e=="object"&&typeof e.kind=="number"&&typeof e.flags=="number"&&typeof e.pos=="number"&&typeof e.end=="number",ot=e=>e!==void 0,Pm=({commentObject:e,node:t})=>{let r=e.lines.filter(i=>!!i||i==="");if(!r.length)return;if(!e.jsdoc){for(let i of r)y__default.default.addSyntheticLeadingComment(t,y__default.default.SyntaxKind.SingleLineCommentTrivia,` ${i}`,true);return}let n=r.map((i,a)=>{let p=i;return a!==r.length&&(p=`${p}
`),y__default.default.factory.createJSDocText(p)}),o=y__default.default.factory.createJSDocComment(y__default.default.factory.createNodeArray(n),void 0),s=Pe({node:o,unescape:true}).replace("/*","").replace("*  */","");y__default.default.addSyntheticLeadingComment(t,y__default.default.SyntaxKind.MultiLineCommentTrivia,s,true);},z=({comments:e=[],node:t})=>{let r=!!e.find(o=>typeof o=="object"&&o),n=e;r||(n=[{jsdoc:true,lines:e}]);for(let o of n)Pm({commentObject:o,node:t});};var ee=(e,t)=>y__default.default.isTypeNode(e)?e:typeof e=="number"?y__default.default.factory.createLiteralTypeNode(ae.number(e)):Oe({typeArguments:t?.map(r=>ee(r)),typeName:e}),Dn=({expression:e,name:t})=>y__default.default.factory.createPropertyAccessChain(e,y__default.default.factory.createToken(y__default.default.SyntaxKind.QuestionDotToken),t),Ae=({expression:e,isOptional:t,name:r})=>{let n=typeof e=="string"?C({text:e}):e;if(t)return Dn({expression:n,name:r});if(typeof r=="string"&&(be.lastIndex=0,!be.test(r))){!r.startsWith("'")&&!r.endsWith("'")&&(r=`'${r}'`);let s=C({text:r});return y__default.default.factory.createElementAccessExpression(n,s)}let o=typeof r=="string"?C({text:r}):r;return y__default.default.factory.createPropertyAccessExpression(n,o)},Mn=()=>y__default.default.factory.createNull(),Ie=({identifiers:e=[],isValueAccess:t,shorthand:r,unescape:n,value:o})=>{if(o===null)return Mn();if(Array.isArray(o))return Ln({elements:o});if(typeof o=="object")return Er({identifiers:e,obj:o,shorthand:r});if(typeof o=="number")return ae.number(o);if(typeof o=="boolean")return ae.boolean(o);if(typeof o=="string"){if(t){let s=o.split(".");return Ae({expression:s[0],name:s[1]})}return ae.string(o,n)}},Ar=e=>{let t=e==="public"?y__default.default.SyntaxKind.PublicKeyword:e==="protected"?y__default.default.SyntaxKind.ProtectedKeyword:e==="private"?y__default.default.SyntaxKind.PrivateKeyword:void 0,r=[];return t&&r.push(y__default.default.factory.createModifier(t)),r},rr=e=>e.map(t=>{if("destructure"in t)return Nt({name:y__default.default.factory.createObjectBindingPattern(t.destructure.map(n=>"destructure"in n?void 0:y__default.default.factory.createBindingElement(void 0,void 0,C({text:n.name}),void 0)).filter(Boolean))});let r=Ar(t.accessLevel);return t.isReadOnly&&(r=[...r,y__default.default.factory.createModifier(y__default.default.SyntaxKind.ReadonlyKeyword)]),Nt({initializer:t.default!==void 0?Ie({value:t.default}):void 0,modifiers:r,name:C({text:t.name}),required:t.isRequired!==false,type:t.type!==void 0?ee(t.type):void 0})}),$t=({keyword:e})=>{let t=y__default.default.SyntaxKind.AnyKeyword;switch(e){case "boolean":t=y__default.default.SyntaxKind.BooleanKeyword;break;case "never":t=y__default.default.SyntaxKind.NeverKeyword;break;case "number":t=y__default.default.SyntaxKind.NumberKeyword;break;case "string":t=y__default.default.SyntaxKind.StringKeyword;break;case "undefined":t=y__default.default.SyntaxKind.UndefinedKeyword;break;case "unknown":t=y__default.default.SyntaxKind.UnknownKeyword;break;case "void":t=y__default.default.SyntaxKind.VoidKeyword;break}return y__default.default.factory.createKeywordTypeNode(t)},nr=e=>e.map(t=>y__default.default.isTypeParameterDeclaration(t)?t:Fn({constraint:t.extends?typeof t.extends=="string"?$t({keyword:"boolean"}):t.extends:void 0,defaultType:t.default!==void 0?xt(t.default)?t.default:y__default.default.factory.createLiteralTypeNode(t.default?y__default.default.factory.createTrue():y__default.default.factory.createFalse()):void 0,name:t.name})),ls=({operator:e,type:t})=>{let r=e==="keyof"?y__default.default.SyntaxKind.KeyOfKeyword:e==="readonly"?y__default.default.SyntaxKind.ReadonlyKeyword:y__default.default.SyntaxKind.UniqueKeyword;return y__default.default.factory.createTypeOperatorNode(r,t)},Fn=({constraint:e,defaultType:t,modifiers:r,name:n})=>y__default.default.factory.createTypeParameterDeclaration(r,n,e,t),us=({members:e,nameType:t,questionToken:r,readonlyToken:n,type:o,typeParameter:s})=>y__default.default.factory.createMappedTypeNode(n,s,t,r,o,e),fs=({literal:e})=>y__default.default.factory.createLiteralTypeNode(e),vr=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:o,statements:s=[],types:i=[]})=>{let a=y__default.default.factory.createArrowFunction(e?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.AsyncKeyword)]:void 0,i?nr(i):void 0,rr(n),o?ee(o):void 0,void 0,Array.isArray(s)?ue({multiLine:r,statements:s}):s);return z({comments:t,node:a}),a},ds=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:o,statements:s=[],types:i=[]})=>{let a=y__default.default.factory.createFunctionExpression(e?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.AsyncKeyword)]:void 0,void 0,void 0,i?nr(i):void 0,rr(n),o?ee(o):void 0,ue({multiLine:r,statements:s}));return z({comments:t,node:a}),a},Ln=({elements:e,multiLine:t=false})=>y__default.default.factory.createArrayLiteralExpression(e.map(n=>xt(n)?n:Ie({value:n})).filter(ot),t||!Array.isArray(e[0])&&typeof e[0]=="object"),ys=({expression:e})=>y__default.default.factory.createAwaitExpression(e),gs=({parameters:e=[],returnType:t,typeParameters:r})=>y__default.default.factory.createFunctionTypeNode(r,e,t),Er=({comments:e,identifiers:t=[],multiLine:r=true,obj:n,shorthand:o,unescape:s=false})=>{let i=Array.isArray(n)?n.map(p=>{let m=false;if("key"in p){let{key:u}=p;m=u===p.value,(u.match(/^[0-9]/)&&u.match(/\D+/g)||u.match(/\W/g)||u==="")&&!u.startsWith("'")&&!u.endsWith("'")&&(p.key=`'${u}'`);}let l;if("spread"in p){let u=xt(p.spread)?p.spread:C({text:p.spread});l=y__default.default.factory.createSpreadAssignment(p.assertion?sr({expression:u,type:typeof p.assertion=="string"?$t({keyword:p.assertion}):p.assertion}):u);}else if(p.shorthand||o&&m)l=y__default.default.factory.createShorthandPropertyAssignment(p.value);else {let u=xt(p.value)?p.value:Array.isArray(p.value)?Er({multiLine:r,obj:p.value,shorthand:o,unescape:s}):Ie({identifiers:t.includes(p.key)?Object.keys(p.value):[],isValueAccess:p.isValueAccess,shorthand:o,unescape:s,value:p.value});if(!u)return;t.includes(p.key)&&!y__default.default.isObjectLiteralExpression(u)&&(u=C({text:p.value})),l=Ir({initializer:u,name:p.key});}return z({comments:p.comments,node:l}),l}).filter(ot):Object.entries(n).map(([p,m])=>{let l=Ie({identifiers:t.includes(p)?Object.keys(m):[],shorthand:o,unescape:s,value:m});if(!l)return;t.includes(p)&&!y__default.default.isObjectLiteralExpression(l)&&(l=C({text:m}));let u=p===m;return p.match(/^[0-9]/)&&p.match(/\D+/g)&&!p.startsWith("'")&&!p.endsWith("'")&&(p=`'${p}'`),p.match(/\W/g)&&!p.startsWith("'")&&!p.endsWith("'")&&(p=`'${p}'`),o&&u?y__default.default.factory.createShorthandPropertyAssignment(m):Ir({initializer:l,name:p})}).filter(ot),a=y__default.default.factory.createObjectLiteralExpression(i,r);return z({comments:e,node:a}),a},hs=({comments:e={},leadingComment:t,name:r,obj:n})=>{let o=Array.isArray(n)?n.map(i=>{let a=Am({initializer:Ie({value:i.value}),name:i.key});return z({comments:i.comments,node:a}),a}):Object.entries(n).map(([i,a])=>{let p=y__default.default.factory.createEnumMember(i,Ie({unescape:true,value:a}));return z({comments:e[i],node:p}),p}),s=y__default.default.factory.createEnumDeclaration([y__default.default.factory.createModifier(y__default.default.SyntaxKind.ExportKeyword)],C({text:r}),o);return z({comments:t,node:s}),s},Am=({initializer:e,name:t})=>{let r=t;return typeof r=="string"&&(r.startsWith("'")&&r.endsWith("'")?r=bt({isSingleQuote:false,text:r}):r=me(r)),y__default.default.factory.createEnumMember(r,e)},xs=({name:e,statements:t})=>y__default.default.factory.createModuleDeclaration([y__default.default.factory.createModifier(y__default.default.SyntaxKind.ExportKeyword)],C({text:e}),y__default.default.factory.createModuleBlock(t),y__default.default.NodeFlags.Namespace),bs=({indexType:e,objectType:t})=>y__default.default.factory.createIndexedAccessTypeNode(t,e),bt=({isSingleQuote:e,text:t})=>(e===void 0&&(e=!t.includes("'")),y__default.default.factory.createStringLiteral(t,e)),Os=({condition:e,whenFalse:t,whenTrue:r})=>y__default.default.factory.createConditionalExpression(e,y__default.default.factory.createToken(y__default.default.SyntaxKind.QuestionToken),r,y__default.default.factory.createToken(y__default.default.SyntaxKind.ColonToken),t),Rs=({text:e})=>y__default.default.factory.createTypeOfExpression(C({text:e})),Ss=({comment:e,exportType:t,name:r,type:n,typeParameters:o=[]})=>{let s=y__default.default.factory.createTypeAliasDeclaration(t?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.ExportKeyword)]:void 0,C({text:r}),nr(o),ee(n));return z({comments:e,node:s}),s},Oe=({typeArguments:e,typeName:t})=>y__default.default.factory.createTypeReferenceNode(t,e),Cs=({type:e})=>y__default.default.factory.createParenthesizedType(e),Nt=({initializer:e,modifiers:t,name:r,required:n=true,type:o})=>y__default.default.factory.createParameterDeclaration(t,void 0,r,n?void 0:y__default.default.factory.createToken(y__default.default.SyntaxKind.QuestionToken),o,e),or=({argumentsArray:e,expression:t,typeArguments:r})=>y__default.default.factory.createNewExpression(t,r,e),Ts=({awaitModifier:e,expression:t,initializer:r,statement:n})=>y__default.default.factory.createForOfStatement(e,r,t,n),Ps=({left:e,right:t})=>y__default.default.factory.createAssignment(e,t),ue=({multiLine:e=true,statements:t})=>y__default.default.factory.createBlock(t,e),Ir=({initializer:e,name:t})=>y__default.default.factory.createPropertyAssignment(t,e),Is=({flags:e=[],text:t})=>y__default.default.factory.createRegularExpressionLiteral(`/${t}/${e.join("")}`),sr=({expression:e,type:t})=>y__default.default.factory.createAsExpression(e,t),As=({value:e})=>{let t=[],r="";for(let o of e.slice(0).reverse())if(typeof o=="string")r=`${o}${r}`;else {let s=t.length?y__default.default.factory.createTemplateMiddle(r):y__default.default.factory.createTemplateTail(r),i=y__default.default.factory.createTemplateLiteralTypeSpan(o,s);t.push(i),r="";}return y__default.default.factory.createTemplateLiteralType(y__default.default.factory.createTemplateHead(r),t.reverse())};var vs=({module:e})=>y__default.default.factory.createExportDeclaration(void 0,false,void 0,ae.string(e)),ve=({functionName:e,parameters:t=[],types:r})=>{let n=typeof e=="string"?C({text:e}):e,o=t.filter(i=>i!==void 0).map(i=>typeof i=="string"?C({text:i}):i);return y__default.default.factory.createCallExpression(n,r,o)},Es=({exports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(p=>typeof p!="object"||!p.asType),o=r.map(p=>{let m=typeof p=="string"?{name:p}:p;return ae.export({alias:m.alias,asType:n&&m.asType,name:m.name})}),s=y__default.default.factory.createNamedExports(o),i=ae.string(t);return y__default.default.factory.createExportDeclaration(void 0,!n,s,i)},js=({assertion:e,comment:t,destructure:r,exportConst:n,expression:o,name:s,typeName:i})=>{let a=e?sr({expression:o,type:typeof e=="string"?Oe({typeName:e}):e}):o,p=C({text:s}),m=y__default.default.factory.createVariableDeclaration(r?y__default.default.factory.createObjectBindingPattern([y__default.default.factory.createBindingElement(void 0,void 0,p,void 0)]):p,void 0,i?typeof i=="string"?Oe({typeName:i}):i:void 0,a),l=y__default.default.factory.createVariableStatement(n?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.ExportKeyword)]:void 0,y__default.default.factory.createVariableDeclarationList([m],y__default.default.NodeFlags.Const));return z({comments:t,node:l}),l},qs=({imports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(m=>typeof m!="object"||!m.asType),o=r.map(m=>{let l=typeof m=="string"?{name:m}:m;return ae.import({alias:l.alias,asType:n&&l.asType,name:l.name})}),s=y__default.default.factory.createNamedImports(o),i=y__default.default.factory.createImportClause(!n,void 0,s),a=ae.string(t);return y__default.default.factory.createImportDeclaration(void 0,i,a)};var ks=({accessLevel:e,comment:t,multiLine:r=true,parameters:n=[],statements:o=[]})=>{let s=y__default.default.factory.createConstructorDeclaration(Ar(e),rr(n),ue({multiLine:r,statements:o}));return z({comments:t,node:s}),s},Ns=({accessLevel:e,comment:t,isStatic:r=false,multiLine:n=true,name:o,parameters:s=[],returnType:i,statements:a=[],types:p=[]})=>{let m=Ar(e);r&&(m=[...m,y__default.default.factory.createModifier(y__default.default.SyntaxKind.StaticKeyword)]);let l=y__default.default.factory.createMethodDeclaration(m,void 0,C({text:o}),void 0,p?nr(p):void 0,rr(s),i?ee(i):void 0,ue({multiLine:n,statements:a}));return z({comments:t,node:l}),l},$s=({decorator:e,members:t=[],name:r})=>{let n=[y__default.default.factory.createModifier(y__default.default.SyntaxKind.ExportKeyword)];e&&(n=[y__default.default.factory.createDecorator(ve({functionName:e.name,parameters:e.args.map(s=>Ie({value:s})).filter(ot)})),...n]);let o=[];return t.forEach(s=>{o=[...o,s,C({text:`
`})];}),y__default.default.factory.createClassDeclaration(n,C({text:r}),[],[],o)};var Ot=({expression:e})=>y__default.default.factory.createExpressionStatement(e);var jr=({expression:e})=>y__default.default.factory.createReturnStatement(e),Ds=({args:e=[],name:t,types:r=[]})=>{let n=r.map(a=>Oe({typeName:a})),o=e.map(a=>y__default.default.isExpression(a)?a:C({text:a})).filter(ot),s=ve({functionName:t,parameters:o,types:n});return jr({expression:s})},Ms=({expression:e})=>jr({expression:typeof e=="string"?C({text:e}):e});var wt=e=>e.slice(1).reduce((t,r)=>(be.lastIndex=0,be.test(r)?Dn({expression:t,name:r}):y__default.default.factory.createElementAccessChain(t,y__default.default.factory.createToken(y__default.default.SyntaxKind.QuestionDotToken),C({text:r}))),C({text:e[0]})),qr=e=>e.slice(1).reduce((t,r)=>Ae({expression:t,name:r}),C({text:e[0]})),Fs=({expressions:e})=>e.reduce((r,n)=>Ae({expression:r,name:n})),kr=({left:e,operator:t="=",right:r})=>y__default.default.factory.createBinaryExpression(e,t==="="?y__default.default.SyntaxKind.EqualsToken:t==="==="?y__default.default.SyntaxKind.EqualsEqualsEqualsToken:t==="??"?y__default.default.SyntaxKind.QuestionQuestionToken:y__default.default.SyntaxKind.InKeyword,typeof r=="string"?C({text:r}):r),Dt=({elseStatement:e,expression:t,thenStatement:r})=>y__default.default.factory.createIfStatement(t,r,e),Ls=({path:e})=>{let t=wt(e),r=qr(e),n=ue({statements:[Ot({expression:kr({left:r,right:or({argumentsArray:[r],expression:C({text:"Date"})})})})]});return Dt({expression:t,thenStatement:n})},_s=({path:e,transformerName:t})=>{let r=wt(e),n=qr(e),o=ue({statements:[Ot({expression:ve({functionName:t,parameters:[n]})})]});return [Dt({expression:r,thenStatement:o})]},Bs=({path:e,transformerName:t})=>{let r=wt(e),n=qr(e);return Dt({expression:ve({functionName:Ae({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:ue({statements:[Ot({expression:y__default.default.factory.createCallChain(Ae({expression:n,name:"forEach"}),void 0,void 0,[C({text:t})])})]})})},Hs=({parameterName:e})=>{let t=C({text:"Date"});return or({argumentsArray:[C({text:e})],expression:t})},Ks=({path:e,transformExpression:t})=>{let r=wt(e),n=qr(e);return Dt({expression:ve({functionName:Ae({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:ue({statements:[Ot({expression:kr({left:n,right:y__default.default.factory.createCallChain(Ae({expression:n,name:"map"}),void 0,void 0,[vr({parameters:[{name:"item"}],statements:t})])})})]})})};var wm=Oe({typeName:"null"}),Mt=({isNullable:e,node:t})=>e?y__default.default.factory.createUnionTypeNode([t,wm]):t,_n=({indexProperty:e,isNullable:t,properties:r,useLegacyResolution:n})=>{let s=r.map(a=>{let p=a.isReadOnly?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.ReadonlyKeyword)]:void 0,m=a.isRequired!==false?void 0:y__default.default.factory.createToken(y__default.default.SyntaxKind.QuestionToken),l=ee(a.type);let u=y__default.default.factory.createPropertySignature(p,n||typeof a.name=="string"&&a.name.match(be)||typeof a.name!="string"&&y__default.default.isPropertyName(a.name)?a.name:bt({text:a.name}),m,l);return z({comments:a.comment,node:u}),u});if(e){let a=e.isReadOnly?[y__default.default.factory.createModifier(y__default.default.SyntaxKind.ReadonlyKeyword)]:void 0,p=y__default.default.factory.createIndexSignature(a,[Nt({name:C({text:String(e.name)}),type:$t({keyword:"string"})})],ee(e.type));s.push(p);}let i=y__default.default.factory.createTypeLiteralNode(s);return Mt({isNullable:t,node:i})},ir=({isNullable:e,types:t})=>{let r=t.map(o=>ee(o)),n=y__default.default.factory.createUnionTypeNode(r);return Mt({isNullable:e,node:n})},Vs=({isNullable:e,types:t})=>{let r=t.map(o=>ee(o)),n=y__default.default.factory.createIntersectionTypeNode(r);return Mt({isNullable:e,node:n})},Ws=({isNullable:e=false,types:t})=>{let r=t.map(o=>ee(o)),n=y__default.default.factory.createTupleTypeNode(r);return Mt({isNullable:e,node:n})},Us=(e,t,r=false,n=true)=>{let o=ir({types:e}),s=ir({types:t}),i=_n({properties:[{name:`[key: ${Pe({node:o,unescape:true})}]`,type:s}],useLegacyResolution:n});return Mt({isNullable:r,node:i})},Qs=(e,t=false)=>{let r=Oe({typeArguments:[Array.isArray(e)?ir({types:e}):e],typeName:"Array"});return Mt({isNullable:t,node:r})};var c={anonymousFunction:ds,arrayLiteralExpression:Ln,arrowFunction:vr,asExpression:sr,assignment:Ps,awaitExpression:ys,binaryExpression:kr,block:ue,callExpression:ve,classDeclaration:$s,conditionalExpression:Os,constVariable:js,constructorDeclaration:ks,enumDeclaration:hs,exportAllDeclaration:vs,exportNamedDeclaration:Es,expressionToStatement:Ot,forOfStatement:Ts,functionTypeNode:gs,identifier:C,ifStatement:Dt,indexedAccessTypeNode:bs,isTsNode:xt,keywordTypeNode:$t,literalTypeNode:fs,mappedTypeNode:us,methodDeclaration:Ns,namedImportDeclarations:qs,namespaceDeclaration:xs,newExpression:or,nodeToString:Pe,null:Mn,objectExpression:Er,ots:ae,parameterDeclaration:Nt,propertyAccessExpression:Ae,propertyAccessExpressions:Fs,propertyAssignment:Ir,regularExpressionLiteral:Is,returnFunctionCall:Ds,returnStatement:jr,returnVariable:Ms,safeAccessExpression:wt,stringLiteral:bt,stringToTsNodes:ms,templateLiteralType:As,transformArrayMap:Ks,transformArrayMutation:Bs,transformDateMutation:Ls,transformFunctionMutation:_s,transformNewDate:Hs,typeAliasDeclaration:Ss,typeArrayNode:Qs,typeInterfaceNode:_n,typeIntersectionNode:Vs,typeNode:ee,typeOfExpression:Rs,typeOperatorNode:ls,typeParameterDeclaration:Fn,typeParenthesizedNode:Cs,typeRecordNode:Us,typeReferenceNode:Oe,typeTupleNode:Ws,typeUnionNode:ir,valueToExpression:Ie};var Xs=async({context:e})=>{await e.broadcast("before");for(let t of e.ir.servers??[])await e.broadcast("server",{server:t});if(e.ir.components){for(let t in e.ir.components.schemas){let r=e.ir.components.schemas[t],n=`#/components/schemas/${t}`;await e.broadcast("schema",{$ref:n,name:t,schema:r});}for(let t in e.ir.components.parameters){let r=e.ir.components.parameters[t],n=`#/components/parameters/${t}`;await e.broadcast("parameter",{$ref:n,name:t,parameter:r});}for(let t in e.ir.components.requestBodies){let r=e.ir.components.requestBodies[t],n=`#/components/requestBodies/${t}`;await e.broadcast("requestBody",{$ref:n,name:t,requestBody:r});}}for(let t in e.ir.paths){let r=e.ir.paths[t];for(let n in r){let o=n,s=r[o];await e.broadcast("operation",{method:o,operation:s,path:t});}}await e.broadcast("after");};var Nr=e=>{switch(e){case "legacy/angular":return "AngularHttpRequest";case "legacy/axios":return "AxiosHttpRequest";case "legacy/fetch":return "FetchHttpRequest";case "legacy/node":return "NodeHttpRequest";case "legacy/xhr":return "XHRHttpRequest";default:return ""}};function Ft(e,t){let r=e.toLocaleLowerCase(),n=t.toLocaleLowerCase();return r.localeCompare(n,"en")}var ar=(e,t)=>Ft(e.name,t.name);function pr(e){return e.sort(ar)}var it=e=>{fe__default.default.existsSync(e)||fe__default.default.mkdirSync(e,{recursive:true});},Bn=e=>{fe__default.default.existsSync(e)&&fe__default.default.rmSync(e,{force:true,recursive:true});},Lt=({moduleOutput:e,sourceOutput:t})=>{let r=t.split("/");return `${Array.from({length:r.length}).fill("").join("../")||"./"}${e}`};var zs=async(e,t,r,n)=>{let o=b(),s=P(o),i=n.client({$config:o,...r,httpRequest:Nr(s.name),models:pr(r.models),services:pr(r.services)});D(o)&&(it(t),fe__default.default.writeFileSync(re__default.default.resolve(t,`${D(o)}.ts`),i));};var Js=e=>{let t=e.split(re__default.default.sep);return t.slice(0,t.length-1).join(re__default.default.sep)},U=({config:e,sourceOutput:t})=>{let r=P(e);if("bundle"in r&&r.bundle)return Lt({moduleOutput:"client",sourceOutput:t});if(re__default.default.isAbsolute(r.name)){let n=Js(r.name),o=re__default.default.resolve(e.output.path);return re__default.default.relative(o,n).replace(/\\/g,"/")}return r.name},L={Options:{asType:true,name:"Options"},OptionsLegacyParser:{asType:true,name:"OptionsLegacyParser"}},Hn=({outputPath:e,plugin:t})=>{let r=re__default.default.resolve(e,"client");it(r);let n="";if(re__default.default.isAbsolute(t.name)&&(n=Js(t.name)),t.bundleSource_EXPERIMENTAL&&!n){let l=re__default.default.normalize(xe.resolve(t.name)).split(re__default.default.sep);n=[...l.slice(0,l.indexOf("dist")),"src"].join(re__default.default.sep);}if(n){fe__default.default.cpSync(n,r,{recursive:true});return}let s=re__default.default.normalize(xe.resolve(t.name)).split(re__default.default.sep),i=s.slice(0,s.indexOf("dist")+1).join(re__default.default.sep),p=[s[s.length-1],"index.d.ts"];t.name!=="@hey-api/client-nuxt"&&p.push("index.d.cts");for(let m of p)fe__default.default.copyFileSync(re__default.default.resolve(i,m),re__default.default.resolve(r,m));};var Zs=async(e,t,r)=>{let n=b();if(n.exportCore){let o=P(n),s={httpRequest:Nr(o.name),server:n.base!==void 0?n.base:t.server,version:t.version};if(fe__default.default.rmSync(re__default.default.resolve(e),{force:true,recursive:true}),fe__default.default.mkdirSync(re__default.default.resolve(e),{recursive:true}),await fe__default.default.writeFileSync(re__default.default.resolve(e,"OpenAPI.ts"),r.core.settings({$config:n,...s})),await fe__default.default.writeFileSync(re__default.default.resolve(e,"ApiError.ts"),r.core.apiError({$config:n,...s})),await fe__default.default.writeFileSync(re__default.default.resolve(e,"ApiRequestOptions.ts"),r.core.apiRequestOptions({$config:n,...s})),await fe__default.default.writeFileSync(re__default.default.resolve(e,"ApiResult.ts"),r.core.apiResult({$config:n,...s})),o.name!=="legacy/angular"&&await fe__default.default.writeFileSync(re__default.default.resolve(e,"CancelablePromise.ts"),r.core.cancelablePromise({$config:n,...s})),await fe__default.default.writeFileSync(re__default.default.resolve(e,"request.ts"),r.core.request({$config:n,...s})),D(n)&&(await fe__default.default.writeFileSync(re__default.default.resolve(e,"BaseHttpRequest.ts"),r.core.baseHttpRequest({$config:n,...s})),await fe__default.default.writeFileSync(re__default.default.resolve(e,`${s.httpRequest}.ts`),r.core.httpRequest({$config:n,...s}))),n.request){let i=re__default.default.resolve(process.cwd(),n.request);if(!await fe__default.default.existsSync(i))throw new Error(`Custom request file "${i}" does not exists`);await fe__default.default.copyFileSync(i,re__default.default.resolve(e,"request.ts"));}}};var Lm=[ce,is,os,ss,ns],wr=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");if(qt.lastIndex=0,qt.test(t))return `_${t}`;for(let r of Lm){if(t.startsWith("_"))return t;t=t.replace(r,"_$1");}return t};var Ys=/[\p{Lu}]/u,Kn=/[\p{Ll}]/u,ti=/([\p{Alpha}\p{N}_]|$)/u,_t=/[_.\- `\\[\]{}\\/]+/,_m=new RegExp(`^${_t.source}`),Vn=new RegExp(`${_t.source}${ti.source}`,"gu"),ei=new RegExp(`\\d+${ti.source}`,"gu"),Bm=({case:e,string:t})=>{let r=false,n=false,o=false,s=false,i=e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?"_":"-";for(let a=0;a<t.length;a++){let p=t[a];s=a>2?t[a-3]===i:true;let m=a+1,l=t[m];for(_t.lastIndex=0;l&&_t.test(l);)m+=1,l=t[m];let u=m!==a+1;if(Kn.lastIndex=0,Ys.lastIndex=0,Ys.test(p)&&(r||l&&!u&&l!=="s"&&Kn.test(l)))t=`${t.slice(0,a)}${i}${t.slice(a)}`,a++,o=n,r=false,n=true;else if(n&&o&&Kn.test(p)&&!s&&!(p==="s"&&(!l||l.toLocaleLowerCase()!==l)))t=`${t.slice(0,a-1)}${i}${t.slice(a-1)}`,o=n,r=true,n=false;else {let f=p.toLocaleLowerCase(),d=p.toLocaleUpperCase();o=n,r=f===p&&d!==p,n=d===p&&f!==p;}}return t},A=({case:e,stripLeadingSeparators:t=true,value:r})=>{let n=r.trim();return n.length?!e||e==="preserve"?n:n.length===1?(_t.lastIndex=0,_t.test(n)?"":e==="PascalCase"||e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase()):(n!==n.toLocaleLowerCase()&&(n=Bm({case:e,string:n})),(t||n[0]!==r[0])&&(n=n.replace(_m,"")),n=e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase(),e==="PascalCase"&&(n=`${n.charAt(0).toLocaleUpperCase()}${n.slice(1)}`),e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?(n=n.replaceAll(Vn,(s,i,a)=>a===0&&!t?s:`_${i}`),n[n.length-1]==="_"&&(n=n.slice(0,n.length-1))):(Vn.lastIndex=0,ei.lastIndex=0,n=n.replaceAll(ei,(s,i,a)=>["_","-","."].includes(n.charAt(a+s.length))?s:s.toLocaleUpperCase()),n=n.replaceAll(Vn,(s,i,a)=>a===0&&!t&&s[0]&&r.startsWith(s[0])?s:i.toLocaleUpperCase())),n):""};var se=class{_exportFromIndex;_headers=[];_id;_identifierCase;_imports=new Map;_items=[];_name;_path;namespaces={type:{},value:{}};constructor({dir:t,exportFromIndex:r=false,header:n=true,id:o,identifierCase:s,name:i}){this._exportFromIndex=r,this._id=o,this._identifierCase=s,this._name=this._setName(i),this._path=re__default.default.resolve(t,this._name),n&&this._headers.push("// This file is auto-generated by @hey-api/openapi-ts");}add(...t){this._items=this._items.concat(t);}blockIdentifier({$ref:t,namespace:r}){let n=this.namespaces[r][t];if(!n)throw new Error(`Identifier for $ref ${t} in namespace ${r} not found`);return n.name=false,{created:false,name:n.name}}get exportFromIndex(){return this._exportFromIndex}get id(){return this._id}identifier({namespace:t,...r}){return ni({case:this._identifierCase,namespace:this.namespaces[t],...r})}import({module:t,...r}){let n=this._imports.get(t);n||(n=new Map,this._imports.set(t,n));let o=n.get(r.name);return o?{...o,name:o.alias||o.name}:(n.set(r.name,r),{...r,name:r.alias||r.name})}isEmpty(){return !this._items.length}nameWithoutExtension(){let{name:t}=Wn(this._name);return t}relativePathToFile({context:t,id:r}){let n="";if(r.startsWith(".")){let m=[];if(t.config.configFile){let l=t.config.configFile.split("/");m=l.slice(0,l.length-1);}n=re__default.default.resolve(process.cwd(),...m,r);}else {let m=t.file({id:r});if(!m)throw new Error(`File with id ${r} does not exist`);n=m._path;}let o=this._path.split(re__default.default.sep),s=n.split(re__default.default.sep),i=-1,a="";for(let m of o)if(i+=1,s[i]!==m){let l=Array.from({length:o.length-i}).fill(""),u=s.slice(i),f=u.slice(0,u.length-1);f.length&&f.push(""),a=(l.join("../")||"./")+f.join("/");break}let p=s[s.length-1];return `${a}${Wn(p).name}`}remove(t){fe__default.default.rmSync(this._path,t);}removeNode(){this._items=this._items.slice(0,this._items.length-1);}_setName(t){if(t.includes("index"))return t;let{extension:r,name:n}=Wn(t);return [n,"gen",r].filter(Boolean).join(".")}toString(t=`
`){let r=[];this._headers.length&&r.push(this._headers.join(`
`));let n=[];for(let[o,s]of this._imports.entries()){let i=Array.from(s.values()),a=c.namedImportDeclarations({imports:i,module:o});n.push(Pe({node:a}));}return n.length&&r.push(n.join(`
`)),r=r.concat(this._items.map(o=>typeof o=="string"?o:Pe({node:o,unescape:true}))),r.join(t)}write(t=`
`){if(this.isEmpty()){this.remove({force:true});return}let r=this._path;if(typeof this._path=="string"){let n=this._path.split(re__default.default.sep);r=n.slice(0,n.length-1).join(re__default.default.sep);}it(r),fe__default.default.writeFileSync(this._path,this.toString(t));}},ni=({$ref:e,case:t,count:r=1,create:n=false,nameTransformer:o,namespace:s})=>{let i=e.split("/"),a=i[i.length-1]||"";if(!a)return {created:false,name:""};let p=s[e];if(p)return {created:false,name:p.name};let m=o?.(a)??a,l=A({case:t,value:m});r>1&&(l=`${l}${r}`);let u=s[l];return u?u.$ref===e?{created:false,name:u.name}:ni({$ref:e,case:t,count:r+1,create:n,nameTransformer:o,namespace:s}):n?(u={$ref:e,name:wr(l)},s[l]=u,s[u.$ref]=u,{created:true,name:u.name}):{created:false,name:""}},Wn=e=>{let t=e.match(/\.[0-9a-z]+$/i),r=t?t[0].slice(1):"",n=e.slice(0,e.length-(r?r.length+1:0));return {extension:r,name:n}};var oi=({files:e})=>{let t=b();e.index=new se({dir:t.output.path,id:"index",name:"index.ts"}),D(t)&&e.index.add(c.exportNamedDeclaration({exports:D(t),module:`./${D(t)}`})),t.exportCore&&(e.index.add(c.exportNamedDeclaration({exports:"ApiError",module:"./core/ApiError"})),t.plugins["@hey-api/sdk"]?.response==="response"&&e.index.add(c.exportNamedDeclaration({exports:{asType:true,name:"ApiResult"},module:"./core/ApiResult"})),D(t)&&e.index.add(c.exportNamedDeclaration({exports:"BaseHttpRequest",module:"./core/BaseHttpRequest"})),P(t).name!=="legacy/angular"&&e.index.add(c.exportNamedDeclaration({exports:["CancelablePromise","CancelError"],module:"./core/CancelablePromise"})),e.index.add(c.exportNamedDeclaration({exports:["OpenAPI",{asType:true,name:"OpenAPIConfig"}],module:"./core/OpenAPI"}))),Object.keys(e).sort().forEach(r=>{let n=e[r];r==="index"||n.isEmpty()||["sdk","types"].includes(r)&&e.index.add(c.exportAllDeclaration({module:`./${n.nameWithoutExtension()}`}));});};var si=async({client:e,openApi:t,templates:r})=>{let n=b(),o=t;if(e){if(n.plugins["@hey-api/sdk"]?.include&&n.plugins["@hey-api/sdk"].asClass){let p=new RegExp(n.plugins["@hey-api/sdk"].include);e.services=e.services.filter(m=>p.test(m.name));}if(n.plugins["@hey-api/typescript"]?.include){let p=new RegExp(n.plugins["@hey-api/typescript"].include);e.models=e.models.filter(m=>p.test(m.name));}}let s=re__default.default.resolve(n.output.path);n.output.clean&&Bn(s);let i=P(n);!j(n)&&"bundle"in i&&i.bundle&&Hn({outputPath:s,plugin:i}),await zs(o,s,e,r),await Zs(re__default.default.resolve(n.output.path,"core"),e,r);let a={};for(let p of n.pluginOrder){let m=n.plugins[p],l=(m.output??"").split("/"),u=re__default.default.resolve(n.output.path,...l.slice(0,l.length-1));a[m.name]=new se({dir:u,id:`legacy-unused-${m.name}`,name:`${l[l.length-1]}.ts`}),m._handlerLegacy({client:e,files:a,openApi:o,plugin:m});}oi({files:a}),Object.entries(a).forEach(([p,m])=>{n.dryRun||(p==="index"?m.write():m.write(`

`));});},ii=async({context:e})=>{let t=re__default.default.resolve(e.config.output.path);e.config.output.clean&&Bn(t);let r=P(e.config);"bundle"in r&&r.bundle&&Hn({outputPath:t,plugin:r});for(let n of e.config.pluginOrder){let o=e.config.plugins[n];o._handler({context:e,plugin:o});}if(await Xs({context:e}),!e.config.dryRun){let n=e.createFile({id:"_index",path:"index"});for(let o of Object.values(e.files))o.nameWithoutExtension()!==n.nameWithoutExtension()&&(!o.isEmpty()&&o.exportFromIndex&&e.config.output.indexFile&&n.add(c.exportAllDeclaration({module:n.relativePathToFile({context:e,id:o.id})})),o.write(`

`));e.config.output.indexFile&&n.write();}};var ai=(...e)=>{let t=new Headers;for(let r of e){if(!r||typeof r!="object")continue;let n=r instanceof Headers?r.entries():Object.entries(r);for(let[o,s]of n)if(s===null)t.delete(o);else if(Array.isArray(s))for(let i of s)t.append(o,i);else s!==void 0&&t.set(o,typeof s=="object"?JSON.stringify(s):s);}return t};var ci=async({fetchOptions:e,inputPath:t,timeout:r,watch:n})=>{let o=new jsonSchemaRefParser.$RefParser,s=jsonSchemaRefParser.getResolvedInput({pathOrUrlOrSchema:t}),i,a,p;if(s.type==="url"){if(n.lastValue&&n.isHeadMethodSupported!==false){try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"HEAD",...e,headers:ai(e?.headers,n.headers)},timeout:r,url:s.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};p=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!p.ok&&n.isHeadMethodSupported)return {error:"not-ok",response:p};if(n.isHeadMethodSupported===void 0&&(n.isHeadMethodSupported=p.ok),p.status===304)return {error:"not-modified",response:p};if(a===void 0){let l=p.headers.get("ETag");l&&(a=l!==n.headers.get("If-None-Match"),a&&n.headers.set("If-None-Match",l));}if(a===void 0){let l=p.headers.get("Last-Modified");l&&(a=l!==n.headers.get("If-Modified-Since"),a&&n.headers.set("If-Modified-Since",l));}if(a===false)return {error:"not-modified",response:p}}try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"GET",...e},timeout:r,url:s.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};p=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!p.ok)return {error:"not-ok",response:p};if(i=p.body?await p.arrayBuffer():new ArrayBuffer(0),a===void 0){let l=new TextDecoder().decode(i);a=l!==n.lastValue,n.lastValue=l;}}else n.lastValue?a=false:n.lastValue=s.type;return a===false?{error:"not-modified",response:p}:{data:await o.bundle({arrayBuffer:i,pathOrUrlOrSchema:void 0,resolvedInput:s})}};var Ht="#/ir/",Mr=e=>{let t=Un(e);return t.length===3&&t[0]==="components"},G=e=>{let t=Un(e),r=t[t.length-1];return decodeURI(r)},Un=e=>e.replace(/^#\//,"").split("/"),Qn=({$ref:e,spec:t})=>{let r=Un(decodeURI(e)),n=t;for(let o of r){let s=o;if(n[s]===void 0)throw new Error(`Reference not found: ${e}`);n=n[s];}return n};var Fr=class{config;files;ir;spec;listeners;constructor({config:t,spec:r}){this.config=t,this.files={},this.ir={},this.listeners={},this.spec=r;}async broadcast(t,...r){this.listeners[t]&&await Promise.all(this.listeners[t].map((n,o)=>{try{let s=n(...r);return Promise.resolve(s)}catch(s){throw console.error(`\u{1F525} Event broadcast: "${t}"
index: ${o}
arguments: ${JSON.stringify(r,null,2)}`),s}}));}createFile(t){let r=t.path.split("/"),n=re__default.default.resolve(this.config.output.path,...r.slice(0,r.length-1)),o=new se({dir:n,exportFromIndex:t.exportFromIndex,id:t.id,identifierCase:t.identifierCase,name:`${r[r.length-1]}.ts`});return this.files[t.id]=o,o}file({id:t}){return this.files[t]}resolveIrRef(t){return Qn({$ref:t,spec:this.ir})}resolveRef(t){return Qn({$ref:t,spec:this.spec})}subscribe(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r);}};var mi=({$ref:e,filters:t,schema:r})=>{for(let n of t)if(n instanceof RegExp){if(n.lastIndex=0,n.test(e))return  true}else {let o=n[0]||"",s=n[1];if(s===void 0){if(r[o])return  true}else if(r[o]===s)return  true}return  false},Kt=({excludeFilters:e,includeFilters:t,...r})=>!e&&!t?true:e&&mi({...r,filters:e})?false:t?mi({...r,filters:t}):true,li=e=>e.startsWith("@")?e.slice(1).split(":"):new RegExp(e),Ke=e=>{if(e)return typeof e=="string"?[li(e)]:e.map(t=>li(t))};var E=({source:e,target:t})=>{let r={...t};if(e&&(e.cookie&&(r.cookie?r.cookie={...r.cookie,...e.cookie}:r.cookie=e.cookie),e.header&&(r.header?r.header={...r.header,...e.header}:r.header=e.header),e.path&&(r.path?r.path={...r.path,...e.path}:r.path=e.path),e.query&&(r.query?r.query={...r.query,...e.query}:r.query=e.query)),!!Object.keys(r).length)return r};var Se=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");return qt.lastIndex=0,qt.test(t)?`_${t}`:t},at=e=>e.replace(/^[^\p{ID_Start}]+/u,"").replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"-").replace(/[$+]/g,"-"),Xn=e=>{let t=e.replace("[]","Array");return at(t)};var Vt=({context:e,id:t,method:r,operationIds:n,path:o})=>{if(!t)return;let s=`${r.toUpperCase()} ${o}`;n.has(t)?e.config.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${t} in ${s}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):n.set(t,s);},Rt=({context:e,count:t=1,id:r,method:n,path:o,state:s})=>{let i;if(r&&(!e.config.plugins["@hey-api/sdk"]||e.config.plugins["@hey-api/sdk"].operationId))i=A({case:"camelCase",value:at(r)});else {let p=o.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-");i=A({case:"camelCase",value:`${n}-${p}`});}if(t>1&&(i=`${i}${t}`),s.ids.has(i))return Rt({context:e,count:t+1,id:r,method:n,path:o,state:s});let a=`${n.toUpperCase()} ${o}`;return s.ids.set(i,a),i};var ui=/^(application\/(pdf|rtf|msword|vnd\.(ms-|openxmlformats-officedocument\.)|zip|x-(7z|tar|rar|zip|iso)|octet-stream|gzip|x-msdownload|json\+download|xml|x-yaml|x-7z-compressed|x-tar)|text\/(yaml|css|javascript)|audio\/(mpeg|wav)|video\/(mp4|x-matroska)|image\/(vnd\.adobe\.photoshop|svg\+xml))(; ?charset=[^;]+)?$/i,fi=/^application\/(.*\+)?json(;.*)?$/i,di=/^multipart\/form-data(;.*)?$/i,yi=/^text\/[a-z0-9.+-]+(;.*)?$/i,gi=/^application\/x-www-form-urlencoded(;.*)?$/i,hi=/^application\/octet-stream(;.*)?$/i,Ve=({mediaType:e})=>(ui.lastIndex=0,ui.test(e)),Wt=({mediaType:e})=>{if(fi.lastIndex=0,fi.test(e))return "json";if(di.lastIndex=0,di.test(e))return "form-data";if(yi.lastIndex=0,yi.test(e))return "text";if(gi.lastIndex=0,gi.test(e))return "url-search-params";if(hi.lastIndex=0,hi.test(e))return "octet-stream"};var xi=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ve({mediaType:t})?{...r,format:"binary"}:r:Ve({mediaType:t})?{format:"binary",type:"string"}:void 0},zn=({mimeTypes:e,response:t})=>{for(let r of e??[])return {mediaType:r,schema:t.schema,type:Wt({mediaType:r})}};var bi=["after","before","cursor","offset","page","start"];function pe({keywords:e=bi}={}){e.length===0&&(e=bi);let t=`^(${e.join("|")})$`;return new RegExp(t)}var N=({items:e,logicalOperator:t="or",mutateSchemaOneItem:r=false,schema:n})=>e.length?n.type==="tuple"?(n.items=e,n):e.length!==1?(n.items=e,n.logicalOperator=t,n):r?(n={...n,...e[0]},n):(n.items=e,n):n;var Ee=(e,t)=>{let r=[];for(let n in t)t[n]===e&&r.push(n);return r.length?r:[G(e)]};var S=(e,t)=>{if(!e?.length)return t?.length?t:void 0;if(!t?.length)return e;let r=new Set(e);for(let n of t)r.add(n);return r.size>e.length?Array.from(r):e};var cr=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},Wm=({irSchema:e,schema:t})=>{t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Lr=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=S(e.accessScopes,["read"])):r.isProperty&&(e.accessScopes=S(e.accessScopes,["both"]));},Um=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let o=[];if(r.items){let s=ye({context:e,schema:r.items,state:n});if(t.accessScopes=S(t.accessScopes,s.accessScopes),!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else if("$ref"in r.items)o.push(s);else {let i=r.items.allOf;i&&i.length>1&&!r.items["x-nullable"]?t={...t,...s}:o.push(s);}}return t=N({items:o,schema:t}),t},Qm=({irSchema:e={}})=>(e.type="boolean",e),Xm=({irSchema:e={},schema:t})=>(e.type=t.type,e),zm=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let i=r.properties[s];if(typeof i!="boolean"){let a=ye({context:e,schema:i,state:{...n,isProperty:true}});t.accessScopes=S(t.accessScopes,a.accessScopes),o[s]=a;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=ye({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}return r.required&&(t.required=r.required),t},Gm=({irSchema:e={}})=>(e.type="string",e),Ut=({schema:e})=>{let t={};return Wm({irSchema:t,schema:e}),t},Jm=({context:e,schema:t,state:r})=>{let n=Ut({schema:t}),o=[],s=cr({schema:t}),i=t.allOf;for(let a of i){let p=ye({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.required&&(p.required?p.required=[...p.required,...t.required]:p.required=t.required),o.push(p),a.$ref){let m=e.resolveRef(a.$ref);if(m.discriminator&&r.$ref){let u=Ee(r.$ref).map(d=>({const:d,type:"string"})),f={properties:{[m.discriminator]:u.length>1?{items:u,logicalOperator:"or"}:u[0]},type:"object"};m.required?.includes(m.discriminator)&&(f.required=[m.discriminator]),o.push(f);}if(!r.circularReferenceTracker.has(a.$ref)){let l=ye({context:e,schema:m,state:{...r,$ref:a.$ref}});n.accessScopes=S(n.accessScopes,l.accessScopes);}}}if(s==="object"){let a=mr({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties){for(let p of a.required??[])if(!a.properties[p])for(let m of i){let l=m.$ref?e.resolveRef(m.$ref):m;if(cr({schema:l})==="object"){let u=mr({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,u.accessScopes),u.properties?.[p]){a.properties[p]=u.properties[p];break}}}o.push(a);}}if(n=N({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t["x-nullable"]){let a=[{type:"null"}];o.length&&a.unshift(n),n={items:a,logicalOperator:"or"},a[0].deprecated&&(n.deprecated=a[0].deprecated),a[0].description&&(n.description=a[0].description);}return n},Zm=({context:e,schema:t,state:r})=>{let n=Ut({schema:t});n.type="enum";let o=[];for(let[s,i]of t.enum.entries()){let a=typeof i,p;if(a==="string"||a==="number"||a==="boolean"?p=a:i===null?t["x-nullable"]&&(p="null"):console.warn("\u{1F6A8}",`unhandled "${a}" typeof value "${i}" for enum`,t.enum),!p)continue;let m=mr({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:p==="null"?"string":p},state:r});m.const=i,p==="null"&&(m.type=p),n.accessScopes=S(n.accessScopes,m.accessScopes),o.push(m);}return n=N({items:o,schema:n}),n},Ym=({context:e,schema:t,state:r})=>{let n={};if(n.$ref=decodeURI(t.$ref),n.$ref=n.$ref.replace(/#\/definitions\/([^/]+)/g,"#/components/schemas/$1"),!r.circularReferenceTracker.has(t.$ref)){let o=e.resolveRef(t.$ref),s=ye({context:e,schema:o,state:{...r,$ref:t.$ref,isProperty:false}});n.accessScopes=S(n.accessScopes,s.accessScopes);}return n},el=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=Ut({schema:r}));let o={};Lr({irSchema:o,schema:r,state:n}),o.default===null&&delete o.default;let s=[mr({context:e,irSchema:o,schema:r,state:n}),{type:"null"}];return t=N({items:s,schema:t}),t},tl=({context:e,schema:t,state:r})=>{let n=Ut({schema:t});Lr({irSchema:n,schema:t,state:r});let o=cr({schema:t});return o?t["x-nullable"]?el({context:e,irSchema:n,schema:{...t,type:o},state:r}):mr({context:e,irSchema:n,schema:{...t,type:o},state:r}):n},mr=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=Ut({schema:r}),Lr({irSchema:t,schema:r,state:n})),r.type){case "array":return Um({context:e,irSchema:t,schema:r,state:n});case "boolean":return Qm({irSchema:t});case "integer":case "number":return Xm({irSchema:t,schema:r});case "object":return zm({context:e,irSchema:t,schema:r,state:n});case "string":return Gm({irSchema:t});default:return Oi({irSchema:t,schema:r,state:n})}},Oi=({irSchema:e,schema:t,state:r})=>(e||(e=Ut({schema:t})),e.type="unknown",Lr({irSchema:e,schema:t,state:r}),e),ye=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?Ym({context:e,schema:t,state:r}):t.enum?Zm({context:e,schema:t,state:r}):t.allOf?Jm({context:e,schema:t,state:r}):t.type||t.properties?tl({context:e,schema:t,state:r}):Oi({schema:t,state:r})),Ri=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[G(e)]=ye({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var rl=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",pt=({context:e,name:t,schema:r})=>{if(pe(e.config.input.pagination).test(t))return  true;if("$ref"in r){let o=e.resolveRef(r.$ref??"");if("in"in o&&o.in){let s="schema"in o?o.schema:{...o,in:void 0};return pt({context:e,name:t,schema:s})}return pt({context:e,name:t,schema:o})}if("in"in r){if(!r.in)return  false;let o="schema"in r?r.schema:{...r,in:void 0};return pt({context:e,name:t,schema:o})}for(let o in r.properties)if(pe(e.config.input.pagination).test(o)){let i=r.properties[o];if(typeof i!="boolean"&&!("$ref"in i)){let a=cr({schema:i});if(rl(a))return o}}for(let o of r.allOf??[]){let s=pt({context:e,name:t,schema:o});if(s)return s}return  false};var nl=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},ol=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Rt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return nl({irOperation:s,operation:r}),s},sl=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let i=ol({context:e,method:t,operation:r,path:n,state:s});r.parameters&&(i.parameters=r.parameters);let a=false,p={mediaType:"",schema:{properties:{},required:[],type:"object"}},m=[];for(let l of r.requestBody??[]){let u="$ref"in l?e.resolveRef(l.$ref):l,f=u.in==="body"?u.schema:{...u,format:u.type==="file"?"binary":u.format,required:void 0,type:u.type==="file"?"string":u.type},d=zn({mimeTypes:r.consumes,response:{schema:f}});if(d){let h=pt({context:e,name:"",schema:d.schema&&"$ref"in d.schema?{allOf:[{...d.schema}],description:u.description}:{description:u.description,...d.schema}}),x=ye({context:e,schema:"$ref"in u?{allOf:[{...u,$ref:u.$ref,required:[],type:"string"}],description:u.description}:d.schema&&"$ref"in d.schema?{allOf:[{...d.schema}],description:u.description}:{description:u.description,...d.schema},state:void 0});p.mediaType=d.mediaType,u.in==="body"?p.schema=x:(p.schema.properties[u.name]=x,u.required&&m.push(u.name)),h&&(p.pagination=h),d.type&&(p.type=d.type);}u.required&&(a=true);}p.mediaType&&(m.length&&(p.schema.required=m),i.body=p,a&&(i.body.required=a));for(let l in r.responses){i.responses||(i.responses={});let u=r.responses[l],f="$ref"in u?e.resolveRef(u.$ref):u,d=zn({mimeTypes:r.produces?r.produces:["application/json"],response:f});d?i.responses[l]={mediaType:d.mediaType,schema:ye({context:e,schema:{description:f.description,...xi({content:d})},state:void 0})}:i.responses[l]={schema:{description:f.description,type:l==="204"?"void":"unknown"}};}if(r.security){let l=[];for(let u of r.security)for(let f in u){let d=o.get(f);if(!d)continue;let h;if(d.type==="apiKey"&&(h=d),d.type==="basic"&&(h={description:d.description,scheme:"basic",type:"http"}),d.type==="oauth2")switch(h={description:d.description,flows:{},type:"oauth2"},d.flow){case "accessCode":h.flows.authorizationCode={authorizationUrl:d.authorizationUrl,scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "application":h.flows.clientCredentials={scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "implicit":h.flows.implicit={authorizationUrl:d.authorizationUrl,scopes:d.scopes};break;case "password":h.flows.password={scopes:d.scopes,tokenUrl:d.tokenUrl};break}h&&l.push(h);}l.length&&(i.security=l);}return i},ct=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{Vt({context:e,id:r.operationId,method:t,operationIds:s.operationIds,path:n}),e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),e.ir.paths[n][t]=sl({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s});};var il=e=>{switch(e){case "multi":return  true;case "csv":case "pipes":case "ssv":case "tsv":default:return  false}},al=e=>{switch(e){case "header":case "path":return "simple";case "query":default:return "form"}},We=({context:e,operation:t,parameters:r})=>{if(!r||!Object.keys(r).length)return;let n={};for(let o of r){let s="$ref"in o?e.resolveRef(o.$ref):o;if(s.in==="body"||s.in==="formData"){t.requestBody||(t.requestBody=[]),t.requestBody.push(s);continue}n[s.in]||(n[s.in]={}),n[s.in][s.name]=pl({context:e,parameter:s});}return n},pl=({context:e,parameter:t})=>{let r=t,n=r&&"$ref"in r?{allOf:[{...r,$ref:r.$ref,required:Array.isArray(r.required)?r.required:[],type:r.type}],description:t.description}:{description:t.description,...r,required:Array.isArray(r.required)?r.required:[],type:r.type},o=pt({context:e,name:t.name,schema:n}),s=al(t.in),p={allowReserved:false,explode:il(t.collectionFormat),location:t.in,name:t.name,schema:ye({context:e,schema:n,state:void 0}),style:s};return t.description&&(p.description=t.description),o&&(p.pagination=o),t.required&&(p.required=t.required),p};var Si=/^(([^:/?#]+):)?((\/\/)?([^:/?#]*)(:?([^/?#]*)))?([^?#]*)(\?([^#]*))?(#(.*))?/,je=e=>{let t={host:"",path:"",port:"",protocol:""};Si.lastIndex=0;let r=e.match(Si);if(!r)return t;let n=r[5]||"";if(n==="."||n==="..")return t;let o=r[8]||"",s=r[2]||"";return s.length===1?t:{host:n,path:o==="/"?"":o,port:r[7]||"",protocol:s}};var Ci=({context:e})=>{let t=e.spec.schemes??[],r=e.spec.host??"",n=e.spec.basePath??"";if(typeof e.config.input.path=="string"){let s=je(e.config.input.path);t.length||s.protocol&&(t=[s.protocol]),r||(r=`${s.host}${s.port?`:${s.port}`:""}`);}t.length||(t=[""]);let o=t.map(s=>`${s?`${s}://`:""}${r}${n}`).filter(Boolean);o.length&&(e.ir.servers=o.map(s=>({url:s})));};var Gn=e=>{let t={ids:new Map,operationIds:new Map},r=new Map,n=Ke(e.config.input.exclude),o=Ke(e.config.input.include),s=(i,a)=>Kt({$ref:i,excludeFilters:n,includeFilters:o,schema:a});for(let i in e.spec.securityDefinitions){let a=e.spec.securityDefinitions[i];r.set(i,a);}if(e.spec.definitions)for(let i in e.spec.definitions){let a=`#/definitions/${i}`,p=e.spec.definitions[i];s(a,p)&&Ri({$ref:a,context:e,schema:p});}Ci({context:e});for(let i in e.spec.paths){if(i.startsWith("x-"))continue;let a=e.spec.paths[i],p=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={consumes:e.spec.consumes,produces:e.spec.produces,responses:{},security:e.spec.security},l={context:e,operation:{...m,parameters:We({context:e,operation:m,parameters:p.parameters})},path:i,securitySchemesMap:r,state:t},u=`#/paths${i}/delete`;if(p.delete&&s(u,p.delete)){let v=E({source:We({context:e,operation:p.delete,parameters:p.delete.parameters}),target:l.operation.parameters});ct({...l,method:"delete",operation:{...l.operation,...p.delete,parameters:v}});}let f=`#/paths${i}/get`;if(p.get&&s(f,p.get)){let v=E({source:We({context:e,operation:p.get,parameters:p.get.parameters}),target:l.operation.parameters});ct({...l,method:"get",operation:{...l.operation,...p.get,parameters:v}});}let d=`#/paths${i}/head`;if(p.head&&s(d,p.head)){let v=E({source:We({context:e,operation:p.head,parameters:p.head.parameters}),target:l.operation.parameters});ct({...l,method:"head",operation:{...l.operation,...p.head,parameters:v}});}let h=`#/paths${i}/options`;if(p.options&&s(h,p.options)){let v=E({source:We({context:e,operation:p.options,parameters:p.options.parameters}),target:l.operation.parameters});ct({...l,method:"options",operation:{...l.operation,...p.options,parameters:v}});}let x=`#/paths${i}/patch`;if(p.patch&&s(x,p.patch)){let v=E({source:We({context:e,operation:p.patch,parameters:p.patch.parameters}),target:l.operation.parameters});ct({...l,method:"patch",operation:{...l.operation,...p.patch,parameters:v}});}let O=`#/paths${i}/post`;if(p.post&&s(O,p.post)){let v=E({source:We({context:e,operation:p.post,parameters:p.post.parameters}),target:l.operation.parameters});ct({...l,method:"post",operation:{...l.operation,...p.post,parameters:v}});}let R=`#/paths${i}/put`;if(p.put&&s(R,p.put)){let v=E({source:We({context:e,operation:p.put,parameters:p.put.parameters}),target:l.operation.parameters});ct({...l,method:"put",operation:{...l.operation,...p.put,parameters:v}});}}};var Ti=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ve({mediaType:t})?{...r,format:"binary"}:r:Ve({mediaType:t})?{format:"binary",type:"string"}:void 0},Ue=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:Wt({mediaType:t})}};var St=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},cl=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},_r=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=S(e.accessScopes,["read"])):t.writeOnly?(e.accessScope="write",e.accessScopes=S(e.accessScopes,["write"])):r.isProperty&&(e.accessScopes=S(e.accessScopes,["both"]));},ml=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let o=[];if(r.items){let s=J({context:e,schema:r.items,state:n});if(t.accessScopes=S(t.accessScopes,s.accessScopes),!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else if("$ref"in r.items)o.push(s);else {let i=r.items.allOf||r.items.anyOf||r.items.oneOf;i&&i.length>1&&!r.items.nullable?t={...t,...s}:o.push(s);}}return t=N({items:o,schema:t}),t},ll=({irSchema:e={}})=>(e.type="boolean",e),ul=({irSchema:e={},schema:t})=>(e.type=t.type,e),fl=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let i=r.properties[s];if(typeof i!="boolean"){let a=J({context:e,schema:i,state:{...n,isProperty:true}});t.accessScopes=S(t.accessScopes,a.accessScopes),o[s]=a;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=J({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}return r.required&&(t.required=r.required),t},dl=({irSchema:e={}})=>(e.type="string",e),mt=({schema:e})=>{let t={};return cl({irSchema:t,schema:e}),t},yl=({context:e,schema:t,state:r})=>{let n=mt({schema:t}),o=[],s=St({schema:t}),i=t.allOf;for(let a of i){let p=J({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.required&&(p.required?p.required=[...p.required,...t.required]:p.required=t.required),o.push(p),"$ref"in a){let m=e.resolveRef(a.$ref);if(m.discriminator&&r.$ref){let u=Ee(r.$ref,m.discriminator.mapping).map(d=>({const:d,type:"string"})),f={properties:{[m.discriminator.propertyName]:u.length>1?{items:u,logicalOperator:"or"}:u[0]},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(f.required=[m.discriminator.propertyName]),o.push(f);}if(!r.circularReferenceTracker.has(a.$ref)){let l=J({context:e,schema:m,state:{...r,$ref:a.$ref}});n.accessScopes=S(n.accessScopes,l.accessScopes);}}}if(s==="object"){let a=Ct({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties){for(let p of a.required??[])if(!a.properties[p])for(let m of i){let l="$ref"in m?e.resolveRef(m.$ref):m;if(St({schema:l})==="object"){let u=Ct({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,u.accessScopes),u.properties?.[p]){a.properties[p]=u.properties[p];break}}}o.push(a);}}if(n=N({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t.nullable){let a=[{type:"null"}];o.length&&a.unshift(n),n={items:a,logicalOperator:"or"},a[0].deprecated&&(n.deprecated=a[0].deprecated),a[0].description&&(n.description=a[0].description);}return n},gl=({context:e,schema:t,state:r})=>{let n=mt({schema:t}),o=[],s=St({schema:t}),i=t.anyOf;for(let a of i){let p=J({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.discriminator&&"$ref"in a){let l=Ee(a.$ref,t.discriminator.mapping).map(f=>({const:f,type:"string"}));p={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},p],logicalOperator:"and"};}o.push(p);}if(t.nullable&&o.push({type:"null"}),n=N({items:o,mutateSchemaOneItem:true,schema:n}),s==="object"){let a=Ct({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties&&(n={items:[n,a],logicalOperator:"and"});}return n},hl=({context:e,schema:t,state:r})=>{let n=mt({schema:t});n.type="enum";let o=[];for(let[s,i]of t.enum.entries()){let a=typeof i,p;if(a==="string"||a==="number"||a==="boolean"?p=a:i===null?t.nullable&&(p="null"):console.warn("\u{1F6A8}",`unhandled "${a}" typeof value "${i}" for enum`,t.enum),!p)continue;let m=Ct({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:p==="null"?"string":p},state:r});m.const=i,p==="null"&&(m.type=p),n.accessScopes=S(n.accessScopes,m.accessScopes),o.push(m);}return n=N({items:o,schema:n}),n},xl=({context:e,schema:t,state:r})=>{let n=mt({schema:t}),o=[],s=St({schema:t}),i=t.oneOf;for(let a of i){let p=J({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.discriminator&&"$ref"in a){let l=Ee(a.$ref,t.discriminator.mapping).map(f=>({const:f,type:"string"}));p={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},p],logicalOperator:"and"};}p.logicalOperator==="or"&&p.items?o=o.concat(p.items):o.push(p);}if(t.nullable&&o.push({type:"null"}),n=N({items:o,mutateSchemaOneItem:true,schema:n}),s==="object"){let a=Ct({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties&&(n={items:[n,a],logicalOperator:"and"});}return n},bl=({context:e,schema:t,state:r})=>{let n={};if(n.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let o=e.resolveRef(t.$ref),s=J({context:e,schema:o,state:{...r,$ref:t.$ref,isProperty:false}});n.accessScopes=S(n.accessScopes,s.accessScopes);}return n},Ol=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=mt({schema:r}));let o={};_r({irSchema:o,schema:r,state:n}),o.default===null&&delete o.default;let s=[Ct({context:e,irSchema:o,schema:r,state:n}),{type:"null"}];return t=N({items:s,schema:t}),t},Rl=({context:e,schema:t,state:r})=>{let n=mt({schema:t});_r({irSchema:n,schema:t,state:r});let o=St({schema:t});return o?t.nullable?Ol({context:e,irSchema:n,schema:{...t,type:o},state:r}):Ct({context:e,irSchema:n,schema:{...t,type:o},state:r}):n},Ct=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=mt({schema:r}),_r({irSchema:t,schema:r,state:n})),r.type){case "array":return ml({context:e,irSchema:t,schema:r,state:n});case "boolean":return ll({irSchema:t});case "integer":case "number":return ul({irSchema:t,schema:r});case "object":return fl({context:e,irSchema:t,schema:r,state:n});case "string":return dl({irSchema:t});default:return Pi({irSchema:t,schema:r,state:n})}},Pi=({irSchema:e,schema:t,state:r})=>(e||(e=mt({schema:t})),e.type="unknown",_r({irSchema:e,schema:t,state:r}),e),J=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),"$ref"in t?bl({context:e,schema:t,state:r}):t.enum?hl({context:e,schema:t,state:r}):t.allOf?yl({context:e,schema:t,state:r}):t.anyOf?gl({context:e,schema:t,state:r}):t.oneOf?xl({context:e,schema:t,state:r}):t.type||t.properties?Rl({context:e,schema:t,state:r}):Pi({schema:t,state:r})),Ii=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[G(e)]=J({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var Sl=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",Tt=({context:e,name:t,schema:r})=>{if(pe(e.config.input.pagination).test(t))return  true;if("$ref"in r){let o=e.resolveRef(r.$ref);if("content"in o||"in"in o){let s;if("in"in o&&(s=o.schema),!s){let i=Ue({content:o.content});i?.schema&&(s=i.schema);}return s?Tt({context:e,name:t,schema:s}):false}return Tt({context:e,name:t,schema:o})}for(let o in r.properties)if(pe(e.config.input.pagination).test(o)){let i=r.properties[o];if(typeof i!="boolean"&&!("$ref"in i)){let a=St({schema:i});if(Sl(a))return o}}for(let o of r.allOf??[]){let s=Tt({context:e,name:t,schema:o});if(s)return s}return  false};var Cl=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},Tl=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Rt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return Cl({irOperation:s,operation:r}),s},Pl=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let i=Tl({context:e,method:t,operation:r,path:n,state:s});if(r.parameters&&(i.parameters=r.parameters),r.requestBody){let a="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,p=Ue({content:a.content});if(p){let m=Tt({context:e,name:"",schema:p.schema&&"$ref"in p.schema?{allOf:[{...p.schema}],description:a.description}:{description:a.description,...p.schema}});i.body={mediaType:p.mediaType,schema:J({context:e,schema:"$ref"in r.requestBody?{allOf:[{...r.requestBody}],description:a.description}:p.schema&&"$ref"in p.schema?{allOf:[{...p.schema}],description:a.description}:{description:a.description,...p.schema},state:void 0})},m&&(i.body.pagination=m),a.required&&(i.body.required=a.required),p.type&&(i.body.type=p.type);}}for(let a in r.responses){i.responses||(i.responses={});let p=r.responses[a],m="$ref"in p?e.resolveRef(p.$ref):p,l=Ue({content:m.content});l?i.responses[a]={mediaType:l.mediaType,schema:J({context:e,schema:{description:m.description,...Ti({content:l})},state:void 0})}:i.responses[a]={schema:{description:m.description,type:a==="204"?"void":"unknown"}};}if(r.security){let a=[];for(let p of r.security)for(let m in p){let l=o.get(m);l&&a.push(l);}a.length&&(i.security=a);}return i},Qe=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{Vt({context:e,id:r.operationId,method:t,operationIds:s.operationIds,path:n}),e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),e.ir.paths[n][t]=Pl({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s});};var Il=e=>{switch(e){case "query":return  false;default:return}},Al=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},vl=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},qe=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let o="$ref"in n?e.resolveRef(n.$ref):n;r[o.in]||(r[o.in]={}),r[o.in][o.name]=Ai({context:e,parameter:o});}return r},Ai=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=Ue({content:t.content});m&&(r=m.schema);}let n=r&&"$ref"in r?{allOf:[{...r}],deprecated:t.deprecated,description:t.description}:{deprecated:t.deprecated,description:t.description,...r},o=Tt({context:e,name:t.name,schema:n}),s=t.style||vl(t.in),i=t.explode!==void 0?t.explode:Al(s),p={allowReserved:t.allowReserved!==void 0?t.allowReserved:Il(t.in),explode:i,location:t.in,name:t.name,schema:J({context:e,schema:n,state:void 0}),style:s};return t.deprecated&&(p.deprecated=t.deprecated),t.description&&(p.description=t.description),o&&(p.pagination=o),t.required&&(p.required=t.required),p},vi=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[G(e)]=Ai({context:t,parameter:r});};var El=({context:e,requestBody:t})=>{let r=Ue({content:t.content}),n=r?r.schema:void 0,o={description:t.description,...n},s={schema:J({context:e,schema:o,state:void 0})};return t.description&&(s.description=t.description),t.required&&(s.required=t.required),s},Ei=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[G(e)]=El({context:t,requestBody:r});};var ji=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=je(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var Jn=e=>{let t={ids:new Map,operationIds:new Map},r=new Map,n=Ke(e.config.input.exclude),o=Ke(e.config.input.include),s=(i,a)=>Kt({$ref:i,excludeFilters:n,includeFilters:o,schema:a});if(e.spec.components){for(let i in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[i],p="$ref"in a?e.resolveRef(a.$ref):a;r.set(i,p);}for(let i in e.spec.components.parameters){let a=`#/components/parameters/${i}`,p=e.spec.components.parameters[i],m="$ref"in p?e.resolveRef(p.$ref):p;s(a,m)&&vi({$ref:a,context:e,parameter:m});}for(let i in e.spec.components.requestBodies){let a=`#/components/requestBodies/${i}`,p=e.spec.components.requestBodies[i],m="$ref"in p?e.resolveRef(p.$ref):p;s(a,m)&&Ei({$ref:a,context:e,requestBody:m});}for(let i in e.spec.components.schemas){let a=`#/components/schemas/${i}`,p=e.spec.components.schemas[i];s(a,p)&&Ii({$ref:a,context:e,schema:p});}}ji({context:e});for(let i in e.spec.paths){let a=e.spec.paths[i],p=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={context:e,operation:{description:p.description,parameters:qe({context:e,parameters:p.parameters}),security:e.spec.security,servers:p.servers,summary:p.summary},path:i,securitySchemesMap:r,state:t},l=`#/paths${i}/delete`;p.delete&&s(l,p.delete)&&Qe({...m,method:"delete",operation:{...m.operation,...p.delete,parameters:E({source:qe({context:e,parameters:p.delete.parameters}),target:m.operation.parameters})}});let u=`#/paths${i}/get`;p.get&&s(u,p.get)&&Qe({...m,method:"get",operation:{...m.operation,...p.get,parameters:E({source:qe({context:e,parameters:p.get.parameters}),target:m.operation.parameters})}});let f=`#/paths${i}/head`;p.head&&s(f,p.head)&&Qe({...m,method:"head",operation:{...m.operation,...p.head,parameters:E({source:qe({context:e,parameters:p.head.parameters}),target:m.operation.parameters})}});let d=`#/paths${i}/options`;p.options&&s(d,p.options)&&Qe({...m,method:"options",operation:{...m.operation,...p.options,parameters:E({source:qe({context:e,parameters:p.options.parameters}),target:m.operation.parameters})}});let h=`#/paths${i}/patch`;p.patch&&s(h,p.patch)&&Qe({...m,method:"patch",operation:{...m.operation,...p.patch,parameters:E({source:qe({context:e,parameters:p.patch.parameters}),target:m.operation.parameters})}});let x=`#/paths${i}/post`;p.post&&s(x,p.post)&&Qe({...m,method:"post",operation:{...m.operation,...p.post,parameters:E({source:qe({context:e,parameters:p.post.parameters}),target:m.operation.parameters})}});let O=`#/paths${i}/put`;p.put&&s(O,p.put)&&Qe({...m,method:"put",operation:{...m.operation,...p.put,parameters:E({source:qe({context:e,parameters:p.put.parameters}),target:m.operation.parameters})}});let R=`#/paths${i}/trace`;p.trace&&s(R,p.trace)&&Qe({...m,method:"trace",operation:{...m.operation,...p.trace,parameters:E({source:qe({context:e,parameters:p.trace.parameters}),target:m.operation.parameters})}});}};var qi=({content:e})=>{let{mediaType:t,schema:r}=e;return r?r.type==="string"&&!r.format&&Ve({mediaType:t})?{...r,format:"binary"}:r:Ve({mediaType:t})?{format:"binary",type:"string"}:void 0},Xe=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:Wt({mediaType:t})}};var ke=({schema:e})=>typeof e.type=="string"?[e.type]:e.type?e.type:e.properties?["object"]:[],jl=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Br=({irSchema:e,schema:t,state:r})=>{if(t.const!==void 0&&(e.const=t.const,!t.type))if(t.const===null)e.type="null";else switch(typeof t.const){case "bigint":case "number":e.type="number";break;case "boolean":e.type="boolean";break;case "string":e.type="string";break}t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum&&(e.exclusiveMaximum=t.exclusiveMaximum),t.exclusiveMinimum&&(e.exclusiveMinimum=t.exclusiveMinimum),t.format&&(e.format=t.format),t.maximum!==void 0&&(e.maximum=t.maximum),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minimum!==void 0&&(e.minimum=t.minimum),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=S(e.accessScopes,["read"])):t.writeOnly?(e.accessScope="write",e.accessScopes=S(e.accessScopes,["write"])):r.isProperty&&(e.accessScopes=S(e.accessScopes,["both"]));},ql=({context:e,irSchema:t={},schema:r,state:n})=>{r.prefixItems&&r.prefixItems.length||r.maxItems&&r.maxItems===r.minItems||r.const!==void 0?t.type="tuple":t.type="array";let o=[];for(let s of r.prefixItems??[]){let i=Q({context:e,schema:s,state:n});t.accessScopes=S(t.accessScopes,i.accessScopes),o.push(i);}if(r.items){let s=Q({context:e,schema:r.items,state:n});if(t.accessScopes=S(t.accessScopes,s.accessScopes),!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else {let i=r.items.allOf||r.items.anyOf||r.items.oneOf;i&&i.length>1&&!ke({schema:r.items}).includes("null")?t={...t,...s}:o.push(s);}}return t=N({items:o,schema:t}),t},kl=({irSchema:e={}})=>(e.type="boolean",e),Nl=({irSchema:e={}})=>(e.type="null",e),$l=({irSchema:e={},schema:t})=>(e.type=t.type,e),wl=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let i=r.properties[s];if(typeof i!="boolean"){let a=Q({context:e,schema:i,state:{...n,isProperty:true}});t.accessScopes=S(t.accessScopes,a.accessScopes),o[s]=a;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=Q({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}return r.required&&(t.required=r.required),t},Dl=({irSchema:e={}})=>(e.type="string",e),ze=({schema:e})=>{let t={};return jl({irSchema:t,schema:e}),t},Ml=({context:e,schema:t,state:r})=>{let n=ze({schema:t}),o=[],s=ke({schema:t}),i=t.allOf;for(let a of i){let p=Q({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.required&&(p.required?p.required=[...p.required,...t.required]:p.required=t.required),o.push(p),a.$ref){let m=e.resolveRef(a.$ref);if(m.discriminator&&r.$ref){let u=Ee(r.$ref,m.discriminator.mapping).map(d=>({const:d,type:"string"})),f={properties:{[m.discriminator.propertyName]:u.length>1?{items:u,logicalOperator:"or"}:u[0]},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(f.required=[m.discriminator.propertyName]),o.push(f);}if(!r.circularReferenceTracker.has(a.$ref)){let l=Q({context:e,schema:m,state:{...r,$ref:a.$ref}});n.accessScopes=S(n.accessScopes,l.accessScopes);}}}if(s.includes("object")){let a=Pt({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties){for(let p of a.required??[])if(!a.properties[p])for(let m of i){let l=m.$ref?e.resolveRef(m.$ref):m;if(ke({schema:l}).includes("object")){let u=Pt({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=S(n.accessScopes,u.accessScopes),u.properties?.[p]){a.properties[p]=u.properties[p];break}}}o.push(a);}}if(n=N({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),s.includes("null")){let a=[{type:"null"}];o.length&&a.unshift(n),n={items:a,logicalOperator:"or"};}return n},Fl=({context:e,schema:t,state:r})=>{let n=ze({schema:t}),o=[],s=ke({schema:t}),i=t.anyOf;for(let a of i){let p=Q({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.discriminator&&a.$ref){let l=Ee(a.$ref,t.discriminator.mapping).map(f=>({const:f,type:"string"}));p={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},p],logicalOperator:"and"};}o.push(p);}if(s.includes("null")&&o.push({type:"null"}),n=N({items:o,mutateSchemaOneItem:true,schema:n}),s.includes("object")){let a=Pt({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties&&(n={items:[n,a],logicalOperator:"and"});}return n},Ll=({context:e,schema:t,state:r})=>{let n=ze({schema:t});n.type="enum";let o=[],s=ke({schema:t});for(let[i,a]of t.enum.entries()){let p=typeof a,m;if(p==="string"||p==="number"||p==="boolean"?m=p:a===null?s.includes("null")&&(m="null"):console.warn("\u{1F6A8}",`unhandled "${p}" typeof value "${a}" for enum`,t.enum),!m)continue;let l=Pt({context:e,schema:{const:a,description:t["x-enum-descriptions"]?.[i],title:t["x-enum-varnames"]?.[i]??t["x-enumNames"]?.[i],type:m},state:r});n.accessScopes=S(n.accessScopes,l.accessScopes),o.push(l);}return n=N({items:o,schema:n}),n},_l=({context:e,schema:t,state:r})=>{let n=ze({schema:t}),o=[],s=ke({schema:t}),i=t.oneOf;for(let a of i){let p=Q({context:e,schema:a,state:r});if(n.accessScopes=S(n.accessScopes,p.accessScopes),t.discriminator&&a.$ref){let l=Ee(a.$ref,t.discriminator.mapping).map(f=>({const:f,type:"string"}));p={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},p],logicalOperator:"and"};}p.logicalOperator==="or"&&p.items?o=o.concat(p.items):o.push(p);}if(s.includes("null")&&o.push({type:"null"}),n=N({items:o,mutateSchemaOneItem:true,schema:n}),s.includes("object")){let a=Pt({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=S(n.accessScopes,a.accessScopes),a.properties&&(n={items:[n,a],logicalOperator:"and"});}return n},Bl=({context:e,schema:t,state:r})=>{let n=ze({schema:t}),o={};if(o.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let i=e.resolveRef(t.$ref),a=Q({context:e,schema:i,state:{...r,$ref:t.$ref,isProperty:false}});o.accessScopes=S(o.accessScopes,a.accessScopes);}let s=[];return s.push(o),t.type&&typeof t.type!="string"&&t.type.includes("null")&&s.push({type:"null"}),n=N({items:s,mutateSchemaOneItem:true,schema:n}),n},Pt=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=ze({schema:r}),Br({irSchema:t,schema:r,state:n})),r.type){case "array":return ql({context:e,irSchema:t,schema:r,state:n});case "boolean":return kl({irSchema:t});case "integer":case "number":return $l({irSchema:t,schema:r});case "null":return Nl({irSchema:t});case "object":return wl({context:e,irSchema:t,schema:r,state:n});case "string":return Dl({irSchema:t});default:return ki({irSchema:t,schema:r,state:n})}},Hl=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=ze({schema:r}));let o={};Br({irSchema:o,schema:r,state:n}),r.type.includes("null")&&o.default===null&&delete o.default;let s=[];for(let i of r.type)if(i==="null")s.push({type:"null"});else {let a=Pt({context:e,irSchema:o,schema:{...r,type:i},state:n});t.accessScopes=S(t.accessScopes,a.accessScopes),s.push(a);}return t=N({items:s,schema:t}),t},Kl=({context:e,schema:t,state:r})=>{let n=ze({schema:t});Br({irSchema:n,schema:t,state:r});let o=ke({schema:t});return o.length===1?Pt({context:e,irSchema:n,schema:{...t,type:o[0]},state:r}):Hl({context:e,irSchema:n,schema:{...t,type:o},state:r})},ki=({irSchema:e,schema:t,state:r})=>(e||(e=ze({schema:t})),e.type="unknown",Br({irSchema:e,schema:t,state:r}),e),Q=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?Bl({context:e,schema:t,state:r}):t.enum?Ll({context:e,schema:t,state:r}):t.allOf?Ml({context:e,schema:t,state:r}):t.anyOf?Fl({context:e,schema:t,state:r}):t.oneOf?_l({context:e,schema:t,state:r}):t.type||t.properties?Kl({context:e,schema:t,state:r}):ki({schema:t,state:r})),Ni=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[G(e)]=Q({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var $i=e=>e.includes("boolean")||e.includes("integer")||e.includes("number")||e.includes("string"),It=({context:e,name:t,schema:r})=>{if(pe(e.config.input.pagination).test(t))return  true;if(r.$ref){let o=e.resolveRef(r.$ref);if("content"in o||"in"in o){let s;if("in"in o&&(s=o.schema),!s){let i=Xe({content:o.content});i?.schema&&(s=i.schema);}return s?It({context:e,name:t,schema:s}):false}return It({context:e,name:t,schema:o})}for(let o in r.properties)if(pe(e.config.input.pagination).test(o)){let i=r.properties[o];if(typeof i!="boolean"){let a=ke({schema:i});if(!a.length){let m=(i.anyOf??i.oneOf??[]).filter(l=>l.type!=="null");if(m.length===1){let l=ke({schema:m[0]});if($i(l))return o}}if($i(a))return o}}for(let o of r.allOf??[]){let s=It({context:e,name:t,schema:o});if(s)return s}return  false};var Vl=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},Wl=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Rt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return Vl({irOperation:s,operation:r}),s},Ul=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let i=Wl({context:e,method:t,operation:r,path:n,state:s});if(r.parameters&&(i.parameters=r.parameters),r.requestBody){let a="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,p=Xe({content:a.content});if(p){let m=It({context:e,name:"",schema:{description:a.description,...p.schema}});i.body={mediaType:p.mediaType,schema:Q({context:e,schema:{description:a.description,..."$ref"in r.requestBody?r.requestBody:p.schema},state:void 0})},m&&(i.body.pagination=m),a.required&&(i.body.required=a.required),p.type&&(i.body.type=p.type);}}for(let a in r.responses){i.responses||(i.responses={});let p=r.responses[a],m="$ref"in p?e.resolveRef(p.$ref):p,l=Xe({content:m.content});l?i.responses[a]={mediaType:l.mediaType,schema:Q({context:e,schema:{description:m.description,...qi({content:l})},state:void 0})}:i.responses[a]={schema:{description:m.description,type:a==="204"?"void":"unknown"}};}if(r.security){let a=[];for(let p of r.security)for(let m in p){let l=o.get(m);l&&a.push(l);}a.length&&(i.security=a);}return i},Ge=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{Vt({context:e,id:r.operationId,method:t,operationIds:s.operationIds,path:n}),e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),e.ir.paths[n][t]=Ul({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s});};var Ql=e=>{switch(e){case "query":return  false;default:return}},Xl=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},zl=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},Ne=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let o="$ref"in n?e.resolveRef(n.$ref):n;r[o.in]||(r[o.in]={}),r[o.in][o.name]=wi({context:e,parameter:o});}return r},wi=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=Xe({content:t.content});m&&(r=m.schema);}let n={deprecated:t.deprecated,description:t.description,...r},o=It({context:e,name:t.name,schema:n}),s=t.style||zl(t.in),i=t.explode!==void 0?t.explode:Xl(s),p={allowReserved:t.allowReserved!==void 0?t.allowReserved:Ql(t.in),explode:i,location:t.in,name:t.name,schema:Q({context:e,schema:n,state:void 0}),style:s};return t.deprecated&&(p.deprecated=t.deprecated),t.description&&(p.description=t.description),o&&(p.pagination=o),t.required&&(p.required=t.required),p},Di=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[G(e)]=wi({context:t,parameter:r});};var Gl=({context:e,requestBody:t})=>{let r=Xe({content:t.content}),n=r?r.schema:void 0,o={description:t.description,...n},s={schema:Q({context:e,schema:o,state:void 0})};return t.description&&(s.description=t.description),t.required&&(s.required=t.required),s},Mi=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[G(e)]=Gl({context:t,requestBody:r});};var Fi=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=je(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var Zn=e=>{let t={ids:new Map,operationIds:new Map},r=new Map,n=Ke(e.config.input.exclude),o=Ke(e.config.input.include),s=(i,a)=>Kt({$ref:i,excludeFilters:n,includeFilters:o,schema:a});if(e.spec.components){for(let i in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[i],p="$ref"in a?e.resolveRef(a.$ref):a;r.set(i,p);}for(let i in e.spec.components.parameters){let a=`#/components/parameters/${i}`,p=e.spec.components.parameters[i],m="$ref"in p?e.resolveRef(p.$ref):p;s(a,m)&&Di({$ref:a,context:e,parameter:m});}for(let i in e.spec.components.requestBodies){let a=`#/components/requestBodies/${i}`,p=e.spec.components.requestBodies[i],m="$ref"in p?e.resolveRef(p.$ref):p;s(a,m)&&Mi({$ref:a,context:e,requestBody:m});}for(let i in e.spec.components.schemas){let a=`#/components/schemas/${i}`,p=e.spec.components.schemas[i];s(a,p)&&Ni({$ref:a,context:e,schema:p});}}Fi({context:e});for(let i in e.spec.paths){let a=e.spec.paths[i],p=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={context:e,operation:{description:p.description,parameters:Ne({context:e,parameters:p.parameters}),security:e.spec.security,servers:p.servers,summary:p.summary},path:i,securitySchemesMap:r,state:t},l=`#/paths${i}/delete`;p.delete&&s(l,p.delete)&&Ge({...m,method:"delete",operation:{...m.operation,...p.delete,parameters:E({source:Ne({context:e,parameters:p.delete.parameters}),target:m.operation.parameters})}});let u=`#/paths${i}/get`;p.get&&s(u,p.get)&&Ge({...m,method:"get",operation:{...m.operation,...p.get,parameters:E({source:Ne({context:e,parameters:p.get.parameters}),target:m.operation.parameters})}});let f=`#/paths${i}/head`;p.head&&s(f,p.head)&&Ge({...m,method:"head",operation:{...m.operation,...p.head,parameters:E({source:Ne({context:e,parameters:p.head.parameters}),target:m.operation.parameters})}});let d=`#/paths${i}/options`;p.options&&s(d,p.options)&&Ge({...m,method:"options",operation:{...m.operation,...p.options,parameters:E({source:Ne({context:e,parameters:p.options.parameters}),target:m.operation.parameters})}});let h=`#/paths${i}/patch`;p.patch&&s(h,p.patch)&&Ge({...m,method:"patch",operation:{...m.operation,...p.patch,parameters:E({source:Ne({context:e,parameters:p.patch.parameters}),target:m.operation.parameters})}});let x=`#/paths${i}/post`;p.post&&s(x,p.post)&&Ge({...m,method:"post",operation:{...m.operation,...p.post,parameters:E({source:Ne({context:e,parameters:p.post.parameters}),target:m.operation.parameters})}});let O=`#/paths${i}/put`;p.put&&s(O,p.put)&&Ge({...m,method:"put",operation:{...m.operation,...p.put,parameters:E({source:Ne({context:e,parameters:p.put.parameters}),target:m.operation.parameters})}});let R=`#/paths${i}/trace`;p.trace&&s(R,p.trace)&&Ge({...m,method:"trace",operation:{...m.operation,...p.trace,parameters:E({source:Ne({context:e,parameters:p.trace.parameters}),target:m.operation.parameters})}});}};var Hr=["connect","delete","get","head","options","patch","post","put","trace"];function Kr(e="1.0"){return String(e).replace(/^v/gi,"")}var Qt="#/components/parameters/",Vr="#/components/schemas/";var $e=({config:e,name:t})=>e.plugins["@hey-api/sdk"]?.serviceNameBuilder?e.plugins["@hey-api/sdk"].serviceNameBuilder.replace("{{name}}",t):t,Yn=e=>b().plugins["@hey-api/typescript"]?.style==="PascalCase"?A({case:"PascalCase",value:e}):e,Li=e=>{let t=Yn(e);return Se(t).replace(ce,"_$1")};var _i=(e,t)=>{if(e.enum&&!t.includes("boolean"))return "enum"},eo=e=>Xt(e).includes("null"),lt=e=>e.nullable===true||eo(e),Xt=({type:e})=>Array.isArray(e)?e:e?[e]:[];var lr=e=>e.trim().replace(/^#\/definitions\//,"").replace(/^#\/parameters\//,"").replace(/^#\/responses\//,"").replace(/^#\/securityDefinitions\//,"").replace(/^#\/components\/schemas\//,"").replace(/^#\/components\/responses\//,"").replace(/^#\/components\/parameters\//,"").replace(/^#\/components\/examples\//,"").replace(/^#\/components\/requestBodies\//,"").replace(/^#\/components\/headers\//,"").replace(/^#\/components\/securitySchemes\//,"").replace(/^#\/components\/links\//,"").replace(/^#\/components\/callbacks\//,"");var Bi=(e,t)=>{if(t==="binary")return "binary";switch(e){case "any":case "object":case "unknown":return "unknown";case "array":return "unknown[]";case "boolean":return "boolean";case "byte":case "double":case "float":case "int":case "integer":case "long":case "number":case "short":return "number";case "char":case "date":case "date-time":case "password":case "string":return "string";case "file":return "binary";case "null":return "null";case "void":return "void"}},Hi=/(?<!`1)\[.*\]$/g,T=({debug:e,format:t,type:r="unknown"})=>{let n={$refs:[],base:"unknown",imports:[],isNullable:false,template:null,type:"unknown"};if(Array.isArray(r)){let i=r.filter(a=>a!=="null").map(a=>Bi(a,t)).filter(Boolean).join(" | ");return n.type=i,n.base=i,n.isNullable=eo({type:r}),n}let o=Bi(r,t);if(o)return n.type=o,n.base=o,n;let s=decodeURIComponent(lr(r));if(Hi.lastIndex=0,Hi.test(s)){let i=s.match(/(.*?)\[(.*)\]$/);if(i?.length){let a=T({debug:e,type:Se(i[1])}),p=T({debug:e,type:Se(i[2])});return a.type==="unknown[]"?(n.type=`${p.type}[]`,n.base=`${p.type}`,a.$refs=[],a.imports=[]):p.type?(n.type=`${a.type}<${p.type}>`,n.base=a.type,n.template=p.type):(n.type=a.type,n.base=a.type,n.template=a.type),n.$refs=[...n.$refs,...a.$refs,...p.$refs],n.imports=[...n.imports,...a.imports,...p.imports],n}}if(s){let i=Yn(Se(s));return r.startsWith(Qt)&&(i=`Parameter${i}`),n.type=i,n.base=i,r.startsWith("#")&&(n.$refs=[...n.$refs,decodeURIComponent(r)]),n.imports=[...n.imports,i],n}return n};function ne(e,t,r){return r.indexOf(e)===t}var zt=(e,t)=>{if(!Array.isArray(t))return [];let r=(e["x-enum-descriptions"]??[]).filter(o=>typeof o=="string"),n=(e["x-enum-varnames"]??e["x-enumNames"]??[]).filter(o=>typeof o=="string");return t.filter(ne).filter(o=>typeof o=="number"||typeof o=="string").map((o,s)=>({customDescription:r[s],customName:n[s],description:void 0,value:o}))};var B=e=>e?.replace(/\\/g,"\\\\").replace(/'/g,"\\'");var Wr=({definition:e,getModel:t,openApi:r,types:n})=>{let o=[];return Object.entries(e.properties??{}).forEach(([s,i])=>{let a=!!e.required?.includes(s);if(i.$ref){let p=T({type:i.$ref});o.push({$refs:[],base:p.base,description:i.description||null,enum:[],enums:[],exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:"reference",format:i.format,imports:p.imports,in:"",isDefinition:false,isNullable:i["x-nullable"]===true,isReadOnly:i.readOnly===true,isRequired:a,link:null,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,name:me(s),pattern:B(i.pattern),properties:[],template:p.template,type:p.type,uniqueItems:i.uniqueItems});}else {let p=t({definition:i,openApi:r,types:n});o.push({$refs:[],base:p.base,description:i.description||null,enum:p.enum,enums:p.enums,exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:p.export,format:i.format,imports:p.imports,in:"",isDefinition:false,isNullable:i["x-nullable"]===true,isReadOnly:i.readOnly===true,isRequired:a,link:p.link,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,name:me(s),pattern:B(i.pattern),properties:p.properties,template:p.template,type:p.type,uniqueItems:i.uniqueItems});}}),o};var Jl=/~1/g,Zl=/~0/g;function $(e,t){if(t.$ref){let r=t.$ref.replace(/^#/g,"").split("/").filter(Boolean),n=e;return r.forEach(o=>{let s=decodeURIComponent(o.replace(Jl,"/").replace(Zl,"~"));if(n.hasOwnProperty(s))n=n[s];else throw new Error(`Could not find reference: "${t.$ref}"`)}),n}return t}var Ki=({definitions:e,getModel:t,openApi:r,required:n,types:o})=>e.reduce((s,i)=>{if(i.$ref){let a=$(r,i);return [...s,...t({definition:a,openApi:r,types:o}).properties]}return [...s,...t({definition:i,openApi:r,types:o}).properties]},[]).filter(s=>!s.isRequired&&n.includes(s.name)).map(s=>({...s,isRequired:true}));var Vi=({definition:e,definitions:t,getModel:r,openApi:n,type:o,types:s})=>{let i={$refs:[],enums:[],export:o,imports:[],properties:[]},a=[];if(t.map(p=>r({definition:p,openApi:n,types:s})).filter(p=>{let m=p.properties.length,l=p.enums.length;return !(p.type==="unknown"&&!m&&!l)}).forEach(p=>{i.imports.push(...p.imports),i.enums.push(...p.enums),i.properties.push(p);}),e.required&&o==="all-of"){let p=Ki({definitions:t,getModel:r,openApi:n,required:e.required,types:s});p.forEach(m=>{i.imports.push(...m.imports),i.enums.push(...m.enums);}),a.push(...p);}if(e.properties){let p=Wr({definition:e,getModel:r,openApi:n,types:s});p.forEach(m=>{i.imports.push(...m.imports),i.enums.push(...m.enums),m.export==="enum"&&i.enums.push(m);}),a.push(...p);}return a.length&&i.properties.push({$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:a,template:null,type:"unknown"}),i};var we=({definition:e,isDefinition:t=false,meta:r,openApi:n,types:o})=>{let s={$refs:[],base:"unknown",description:e.description||null,enum:[],enums:[],exclusiveMaximum:e.exclusiveMaximum,exclusiveMinimum:e.exclusiveMinimum,export:"interface",format:e.format,imports:[],in:"",isDefinition:t,isNullable:e["x-nullable"]===true,isReadOnly:e.readOnly===true,isRequired:false,link:null,maxItems:e.maxItems,maxLength:e.maxLength,maxProperties:e.maxProperties,maximum:e.maximum,meta:r,minItems:e.minItems,minLength:e.minLength,minProperties:e.minProperties,minimum:e.minimum,multipleOf:e.multipleOf,name:r?.name??"",pattern:B(e.pattern),properties:[],template:null,type:"unknown",uniqueItems:e.uniqueItems};if(e.$ref){let i=T({type:e.$ref});return s.export="reference",s.type=i.type,s.base=i.base,s.template=i.template,s.imports.push(...i.imports),s}if(e.enum&&e.type!=="boolean"){let i=zt(e,e.enum);if(i.length)return s.base="string",s.enum=[...s.enum,...i],s.export="enum",s.type="string",s}if(e.type==="array"&&e.items)if(e.items.$ref){let i=T({type:e.items.$ref});return s.export="array",s.type=i.type,s.base=i.base,s.template=i.template,s.imports.push(...i.imports),s}else {let i=we({definition:e.items,openApi:n,types:o});return s.export="array",s.type=i.type,s.base=i.base,s.template=i.template,s.link=i,s.imports.push(...i.imports),s}if(e.type==="object"&&typeof e.additionalProperties=="object")if(e.additionalProperties.$ref){let i=T({type:e.additionalProperties.$ref});return s.export="dictionary",s.type=i.type,s.base=i.base,s.template=i.template,s.imports.push(...i.imports),s}else {let i=we({definition:e.additionalProperties,openApi:n,types:o});return s.export="dictionary",s.type=i.type,s.base=i.base,s.template=i.template,s.link=i,s.imports.push(...i.imports),s}if(e.allOf?.length){let i=Vi({definition:e,definitions:e.allOf,getModel:we,openApi:n,type:"all-of",types:o});return s.export=i.export,s.imports.push(...i.imports),s.properties.push(...i.properties),s.enums=[...s.enums,...i.enums],s}if(e.type==="object")return s.export="interface",s.type="unknown",s.base="unknown",e.properties&&Wr({definition:e,getModel:we,openApi:n,types:o}).forEach(a=>{s.imports.push(...a.imports),s.enums=[...s.enums,...a.enums],s.properties.push(a),a.export==="enum"&&(s.enums=[...s.enums,a]);}),s;if(e.type){let i=T({format:e.format,type:e.type});return s.export="generic",s.type=i.type,s.base=i.base,s.template=i.template,s.imports.push(...i.imports),s}return s};var Wi=e=>{let t={},r=[];return Object.entries(e.definitions??{}).forEach(([n,o])=>{let i=T({type:n}).base.replace(ce,"_$1"),a={$ref:`#/definitions/${n}`,name:i};t[i]=a;let p=we({definition:o,isDefinition:true,meta:a,openApi:e,types:t});r=[...r,p];}),{models:r,types:t}};var Yl=(e,t)=>{if(t)return t;if(typeof e=="number")return `'_${e}'`;let r="";return typeof e=="string"&&(r=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_").replace(/^([^$_\p{ID_Start}])/u,"_$1").replace(/(\p{Lowercase})(\p{Uppercase}+)/gu,"$1_$2")),r=r.trim(),r||(r="empty_string"),r.toUpperCase()},Ui=e=>e.map(t=>Ur(t.value,true)).filter(ne).join(" | "),Ur=(e,t=false)=>typeof e=="string"?e.includes("'")&&t?`"${e}"`:`'${e}'`:e,Qr=e=>{let t=Yl(e.value,e.customName),r=Ur(e.value);return {key:t,value:r}},Xr=e=>{let t=e.enum.map(r=>Qr(r)).sort((r,n)=>Ft(r.key,n.key)).map(r=>`${r.key}=${r.value}`).join("&");return {$ref:`enum/${e.name}/${t}`,name:Se(kt(e.name))}};var Qi=e=>{let r=`Parameter${T({type:e}).base.replace(ce,"_$1")}`;return {$ref:Qt+e,name:r}},zr=e=>{let t=Li(e);return {$ref:Vr+e,name:t}};var ur=e=>e.format==="date"||e.format==="date-time",to=e=>{let t=b();return e.base==="binary"?c.typeUnionNode({types:["Blob","File"]}):t.plugins["@hey-api/transformers"]?.dates&&ur(e)?c.typeNode("Date"):c.typeNode(e.base)},eu=e=>{let t=e.base==="null"?false:e.isNullable,r=to(e);if(e.export==="reference"&&e.$refs.length===1&&e.$refs[0].startsWith(Vr)){let o=zr(e.base);r=c.typeNode(o.name);}return c.typeUnionNode({isNullable:t,types:[r]})},tu=e=>{if(e.link){if(Array.isArray(e.link)){let t=e.link.map(n=>ge(n));return c.typeTupleNode({isNullable:e.isNullable,types:t})}if(e.export==="array"&&e.maxItems&&e.minItems&&e.maxItems===e.minItems&&e.maxItems<=100){let t=Array(e.maxItems).fill(ge(e.link));return c.typeTupleNode({isNullable:e.isNullable,types:t})}return c.typeArrayNode([ge(e.link)],e.isNullable)}return c.typeArrayNode([to(e)],e.isNullable)},ru=e=>{let t=e.enum.map(r=>Ur(r.value));return c.typeUnionNode({isNullable:e.isNullable,types:t})},nu=e=>{let t=e.link&&!Array.isArray(e.link)?ge(e.link):to(e);return c.typeRecordNode(["string"],[t],e.isNullable,true)},Xi=({model:e,style:t})=>{let r=e.properties.map(o=>c.nodeToString({node:ge(o),unescape:true})).filter(ne),n=t==="union"?c.typeUnionNode({isNullable:e.isNullable&&!e.properties.find(o=>o.isNullable),types:r}):c.typeIntersectionNode({isNullable:e.isNullable,types:r});return e.meta?n:c.typeParenthesizedNode({type:n})},ou=e=>{if(!e.properties.length)return c.typeNode("unknown");let t=b(),r=j(t),n=e.properties.map(o=>{let s=o.isRequired?"":"?",i=ge(o),a=r?/^\dXX$/.test(o.name)?me(o.name):o.name:me(kt(ro(o.name)));return o.name==="[key: string]"&&(a=o.name,s&&(s="",i=c.typeUnionNode({types:[i,"undefined"]}))),{comment:[o.description&&k(o.description),o.deprecated&&"@deprecated"],isReadOnly:o.isReadOnly,isRequired:s==="",name:a,type:i}});return c.typeInterfaceNode({isNullable:e.isNullable,properties:n,useLegacyResolution:true})},ge=e=>{switch(e.export){case "all-of":return Xi({model:e,style:"intersection"});case "any-of":case "one-of":return Xi({model:e,style:"union"});case "array":return tu(e);case "dictionary":return nu(e);case "enum":return ru(e);case "interface":return ou(e);case "const":case "generic":case "reference":default:return eu(e)}},he=({client:e,count:t=1,create:r=false,meta:n,nameTransformer:o})=>{let s={created:false,name:""},i=n.name;o&&(i=o(i)),t>1&&(i=`${i}${t}`);let a=e.types[i];return a?a.$ref===n.$ref?s={created:false,name:i}:s=he({client:e,count:t+1,create:r,meta:n,nameTransformer:o}):r&&(e.types[i]=n,s={created:true,name:i}),s},zi=({client:e,name:t})=>{let r={deleted:false,name:""};return e.types[t]&&(delete e.types[t],r={deleted:true,name:t}),r},ro=e=>{let t=b();return j(t)?A({case:"camelCase",value:Xn(e)}).replace(ce,"_$1"):e};var ut=e=>`${e.method.toUpperCase()} ${e.path}`,Gr=e=>{let t=e.find(r=>r.in==="header");return t?t.name:null},De=e=>e.some(r=>r.isRequired),Jr=e=>{if(e==="default")return "default";if(e==="1XX")return "1XX";if(e==="2XX")return "2XX";if(e==="3XX")return "3XX";if(e==="4XX")return "4XX";if(e==="5XX")return "5XX";if(/\d{3}/g.test(e)){let t=Number.parseInt(e,10);if(t>=100&&t<600)return t}return null},Zr=(e,t)=>e.code>t.code?1:e.code<t.code?-1:0,su=e=>e==="3XX"||e==="4XX"||e==="5XX"||typeof e=="number"&&e>=300,Gi=e=>e==="2XX"||typeof e=="number"&&e>=200&&e<300,iu=(e,t)=>{let r=[],n=m=>{r.includes(m)||(r=[...r,m]);};t.some(({code:m})=>Gi(m))||n("success");let s=(e.description??"").toLocaleLowerCase(),i=e.$refs.join("|").toLocaleLowerCase(),a=["error","problem"];return ["success"].some(m=>s.includes(m)||i.includes(m))&&n("success"),a.some(m=>s.includes(m)||i.includes(m))&&n("error"),r.length||n("error"),r},Yr=({config:e,operationKey:t})=>{let r=e.plugins["@hey-api/sdk"]?.filter?new RegExp(e.plugins["@hey-api/sdk"]?.filter):void 0;return !r||r.test(t)},en=({config:e,method:t,operationId:r,path:n})=>{if(e.plugins["@hey-api/sdk"]?.operationId&&r)return A({case:"camelCase",value:at(r)});let o=n;return j(e)&&(o=o.replace(/[^/]*?{api-version}.*?\//g,"")),o=o.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-"),A({case:"camelCase",value:`${t}-${o}`})},tn=e=>{let t=b();return !j(t)||e.prop!=="api-version"},rn=e=>{let t=b();return j(t)?ro(e.prop):e.prop},nn=e=>e.map(t=>{let{code:r}=t;return r==="default"?t.responseTypes=iu(t,e):Gi(r)?t.responseTypes=["success"]:su(r)&&(t.responseTypes=["error"]),t});var w=(e,t)=>{if(e.default===void 0||e.default===null)return e.default;switch(Xt(e).find(o=>o!=="null")||typeof e.default){case "int":case "integer":case "number":if(t?.export==="enum"&&t.enum?.[e.default]){let{value:o}=t.enum[e.default];return o}return e.default;case "array":case "boolean":case "object":case "string":return e.default;default:return}};var Ji=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:t.in,isDefinition:false,isNullable:t["x-nullable"]===true,isReadOnly:false,isRequired:t.required===true,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maximum:t.maximum,mediaType:null,minItems:t.minItems,minLength:t.minLength,minimum:t.minimum,multipleOf:t.multipleOf,pattern:B(t.pattern),prop:t.name,properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems},o={...n,name:rn(n)};if(t.$ref){let i=T({type:t.$ref});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,export:"reference",imports:[...o.imports,...i.imports],template:i.template,type:i.type},o.default=w(t,o),o}if(t.enum){let i=zt(t,t.enum);if(i.length)return o={...o,base:"string",enum:[...o.enum,...i],export:"enum",type:"string"},o.default=w(t,o),o}if(t.type==="array"&&t.items){let i=T({format:t.items.format,type:t.items.type});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,export:"array",imports:[...o.imports,...i.imports],template:i.template,type:i.type},o.default=w(t,o),o}if(t.type==="object"&&t.items){let i=T({format:t.items.format,type:t.items.type});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,export:"dictionary",imports:[...o.imports,...i.imports],template:i.template,type:i.type},o.default=w(t,o),o}let s=t.schema;if(s){if(s.$ref?.startsWith("#/parameters/")&&(s=$(e,s)),s.$ref){let a=T({type:s.$ref});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"reference",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=w(t,o),o}let i=we({definition:s,openApi:e,types:r});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,enum:[...o.enum,...i.enum],enums:[...o.enums,...i.enums],export:i.export,imports:[...o.imports,...i.imports],link:i.link,properties:[...o.properties,...i.properties],template:i.template,type:i.type},o.default=w(t,o),o}if(t.type){let i=T({format:t.format,type:t.type});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,export:"generic",imports:[...o.imports,...i.imports],template:i.template,type:i.type},o.default=w(t,o),o}return o};var au=["body","formData","header","path","query"],on=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(o=>{let s=$(e,o),i=Ji({openApi:e,parameter:s,types:r}),a=!tn(i);if(!(!au.includes(s.in)||a)){switch(s.in){case "body":n.parametersBody=i;break;case "formData":n.parametersForm=[...n.parametersForm,i];break;case "header":n.parametersHeader=[...n.parametersHeader,i];break;case "path":n.parametersPath=[...n.parametersPath,i];break;case "query":n.parametersQuery=[...n.parametersQuery,i];break}n.$refs=[...n.$refs,...i.$refs],n.imports=[...n.imports,...i.imports],n.parameters=[...n.parameters,i];}}),n};function sn(e){return e.sort((t,r)=>{let n=t.isRequired&&t.default===void 0,o=r.isRequired&&r.default===void 0;return n&&!o?-1:o&&!n?1:0})}var Zi=({code:e,openApi:t,response:r,types:n})=>{let o={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"},s=r.schema;if(s){if(s.$ref?.startsWith("#/responses/")&&(s=$(t,s)),s.$ref){let a=T({type:s.$ref});return o.export="reference",o.type=a.type,o.base=a.base,o.template=a.template,o.imports=[...o.imports,...a.imports],o}let i=we({definition:s,openApi:t,types:n});return o.export=i.export,o.type=i.type,o.base=i.base,o.template=i.template,o.link=i.link,o.isReadOnly=i.isReadOnly,o.isRequired=i.isRequired,o.isNullable=i.isNullable,o.format=i.format,o.maximum=i.maximum,o.exclusiveMaximum=i.exclusiveMaximum,o.minimum=i.minimum,o.exclusiveMinimum=i.exclusiveMinimum,o.multipleOf=i.multipleOf,o.maxLength=i.maxLength,o.minLength=i.minLength,o.maxItems=i.maxItems,o.minItems=i.minItems,o.uniqueItems=i.uniqueItems,o.maxProperties=i.maxProperties,o.minProperties=i.minProperties,o.pattern=B(i.pattern),o.imports=[...o.imports,...i.imports],o.enum=[...o.enum,...i.enum],o.enums=[...o.enums,...i.enums],o.properties=[...o.properties,...i.properties],o}if(r.headers)for(let i in r.headers)return o.in="header",o.name=i,o.type="string",o.base="string",o;return o};var Yi=({openApi:e,responses:t,types:r})=>{let n=[];return Object.entries(t).forEach(([o,s])=>{let i=Jr(o);if(!i)return;let a=$(e,s),p=Zi({code:i,openApi:e,response:a,types:r});n=[...n,p];}),n=nn(n),n.sort(Zr)};var ea=({method:e,op:t,openApi:r,pathParams:n,types:o,url:s})=>{let i={$refs:[],deprecated:t.deprecated===true,description:t.description||null,id:t.operationId||null,imports:[],method:e.toUpperCase(),parameters:[...n.parameters],parametersBody:n.parametersBody,parametersCookie:[...n.parametersCookie],parametersForm:[...n.parametersForm],parametersHeader:[...n.parametersHeader],parametersPath:[...n.parametersPath],parametersQuery:[...n.parametersQuery],path:s,responseHeader:null,responses:[],summary:t.summary||null,tags:t.tags||null},a={...i,name:en({config:b(),method:i.method,operationId:t.operationId,path:i.path})};if(t.parameters){let p=on({openApi:r,parameters:t.parameters,types:o});a.$refs=[...a.$refs,...p.$refs],a.imports=[...a.imports,...p.imports],a.parameters=[...a.parameters,...p.parameters],a.parametersBody=p.parametersBody,a.parametersCookie=[...a.parametersCookie,...p.parametersCookie],a.parametersForm=[...a.parametersForm,...p.parametersForm],a.parametersHeader=[...a.parametersHeader,...p.parametersHeader],a.parametersPath=[...a.parametersPath,...p.parametersPath],a.parametersQuery=[...a.parametersQuery,...p.parametersQuery];}if(t.responses){a.responses=Yi({openApi:r,responses:t.responses,types:o});let p=a.responses.filter(m=>m.responseTypes.includes("success"));a.responseHeader=Gr(p),p.forEach(m=>{a.$refs=[...a.$refs,...m.$refs],a.imports=[...a.imports,...m.imports];});}return a.parameters=sn(a.parameters),a};var ta=({openApi:e,types:t})=>{let r=new Map,n=[],o=b();for(let s in e.paths){let i=e.paths[s],a=on({openApi:e,parameters:i.parameters??[],types:t});for(let p in i){let m=p,l=ut({method:m,path:s});if(Hr.includes(m)){let u=i[m];if(u.operationId&&(r.has(u.operationId)?o.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${u.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(u.operationId,l)),Yr({config:o,operationKey:l})){let f=ea({method:m,op:u,openApi:e,pathParams:a,types:t,url:s});n.push(f);}}}}return n};var ra=e=>{let t=e.schemes?.[0]||"http",r=e.host,n=e.basePath||"";return (r?`${t}://${r}${n}`:n).replace(/\/$/g,"")};var na=e=>{let t=Kr(e.info.version),r=ra(e),{models:n,types:o}=Wi(e),s=ta({openApi:e,types:o});return {models:n,operations:s,server:r,types:o,version:t}};var pu=e=>{let t={};for(let r in e)t[e[r]]=r;return t},oa=(e,t)=>{if(e.components&&t){for(let r in e.components.schemas)if(e.components.schemas.hasOwnProperty(r)){let n=e.components.schemas[r];if(n.discriminator&&n.oneOf?.length&&n.oneOf.some(o=>o.$ref&&lr(o.$ref)==t.name))return n.discriminator}}},sa=(e,t)=>{if(e.mapping){let r=pu(e.mapping),n=Object.keys(r).find(o=>lr(o)==t.name);if(n&&r[n])return r[n]}return t.name};var no=({debug:e,definition:t,getModel:r,model:n,openApi:o,types:s})=>{let i=typeof t.additionalProperties=="object"?t.additionalProperties:{},a=r({debug:e,definition:i,openApi:o,parentDefinition:t,types:s});if(i.$ref){let p=T({type:i.$ref});return n.base=p.base,n.default=w(t,n),n.export="dictionary",n.imports.push(...p.imports),n.template=p.template,n.type=p.type,n}if(t.additionalProperties&&t.properties&&Object.keys(t.properties).length>0){let p=typeof t.additionalProperties=="object"&&t.additionalProperties.type&&!Array.isArray(t.additionalProperties.type)?t.additionalProperties.type:a.base,m=[T({type:p}).base,...n.properties.map(l=>l.base)];return a.base=m.filter(ne).join(" | "),a.default=w(t,n),a.export="generic",a.isRequired=t.additionalProperties===true,a.name="[key: string]",a}return n.base=a.base,n.default=w(t,n),n.export="dictionary",n.imports.push(...a.imports),n.link=a,n.template=a.template,n.type=a.type,n},an=({debug:e,definition:t,getModel:r,openApi:n,parent:o,types:s})=>{let i=[],a=oa(n,o);return Object.entries(t.properties??{}).forEach(([p,m])=>{let l=!!t.required?.includes(p),u={default:m.default,deprecated:m.deprecated===true,description:m.description||null,exclusiveMaximum:m.exclusiveMaximum,exclusiveMinimum:m.exclusiveMinimum,format:m.type==="array"?m.items?.format??m.format:m.format,in:"",isDefinition:false,isReadOnly:m.readOnly===true,isRequired:l,maxItems:m.maxItems,maxLength:m.maxLength,maxProperties:m.maxProperties,maximum:m.maximum,minItems:m.minItems,minLength:m.minLength,minProperties:m.minProperties,minimum:m.minimum,multipleOf:m.multipleOf,name:me(p),pattern:B(m.pattern),uniqueItems:m.uniqueItems};if(o&&a?.propertyName==p){i=[...i,{...u,$refs:[],base:`'${sa(a,o)}'`,enum:[],enums:[],export:"reference",imports:[],isNullable:lt(m),link:null,properties:[],template:null,type:"string"}];return}if(m.$ref){let d=T({type:m.$ref});i=[...i,{...u,$refs:d.$refs,base:d.base,enum:[],enums:[],export:"reference",imports:d.imports,isNullable:d.isNullable||lt(m),link:null,properties:[],template:d.template,type:d.type}];return}let f=r({debug:e,definition:m,initialValues:u,openApi:n,parentDefinition:t,types:s});f.isNullable=f.isNullable||lt(m),i=[...i,f];}),i};var ia=({debug:e,definitions:t,getModel:r,openApi:n,required:o,types:s})=>t.reduce((a,p)=>{if(p.$ref){let m=T({type:p.$ref}),l={$ref:p.$ref,name:m.base};s[m.base]=l;let u=$(n,p);return [...a,...r({debug:e,definition:u,meta:l,openApi:n,types:s}).properties]}return [...a,...r({debug:e,definition:p,openApi:n,parentDefinition:p,types:s}).properties]},[]).filter(a=>!a.isRequired&&o.includes(a.name)).map(a=>({...a,isRequired:true}));var pn=e=>[{definitions:e.allOf,type:"all-of"},{definitions:e.anyOf,type:"any-of"},{definitions:e.oneOf,type:"one-of"}].find(r=>r.definitions?.length),aa=({debug:e,definition:t,definitions:r,getModel:n,model:o,openApi:s,type:i,types:a})=>{let p={$refs:o.$refs,enums:o.enums,export:i,imports:o.imports,properties:o.properties},m=[];if(r.map(l=>n({debug:e,definition:l,openApi:s,parentDefinition:t,types:a})).forEach(l=>{p.$refs=[...p.$refs,...l.$refs],p.imports=[...p.imports,...l.imports],p.enums=[...p.enums,...l.enums],p.properties=[...p.properties,l];}),t.required&&i==="all-of"){let l=ia({debug:e,definitions:r,getModel:n,openApi:s,required:t.required,types:a});l.forEach(u=>{p.$refs=[...p.$refs,...u.$refs],p.imports=[...p.imports,...u.imports],p.enums=[...p.enums,...u.enums];}),m=[...m,...l];}if(t.properties){let l=an({definition:t,getModel:n,openApi:s,types:a});l.forEach(u=>{p.$refs=[...p.$refs,...u.$refs],p.imports=[...p.imports,...u.imports],p.enums=[...p.enums,...u.enums],u.export==="enum"&&(p.enums=[...p.enums,u]);}),m=[...m,...l];}if(m.length){let l=pn(t);if(l){let u={$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:m,template:null,type:"unknown"};l.type==="one-of"?(p.properties=[{...p,base:"",description:null,enum:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:true,link:null,name:"",template:null,type:""},u],p.export="all-of"):p.properties=[...p.properties,u];}}return p};var Z=({debug:e,definition:t,initialValues:r={},isDefinition:n=false,meta:o,openApi:s,parentDefinition:i=null,types:a})=>{let p=Xt(t),m=_i(t,p),l={$refs:[],base:"unknown",deprecated:!!t.deprecated,description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:"",isDefinition:n,isNullable:lt(t),isReadOnly:t.readOnly===true,isRequired:false,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maxProperties:t.maxProperties,maximum:t.maximum,meta:o,minItems:t.minItems,minLength:t.minLength,minProperties:t.minProperties,minimum:t.minimum,multipleOf:t.multipleOf,name:o?.name??"",pattern:B(t.pattern),properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems,...r};if(t.$ref){let f=T({debug:e,type:t.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.$ref)],l.base=f.base,l.export="reference",l.imports=[...l.imports,...f.imports],l.template=f.template,l.type=f.type,l.default=w(t,l),l}if(m==="enum"){let f=zt(t,t.enum);if(f.length)return l.base="string",l.enum=[...l.enum,...f],l.export="enum",l.type="string",l.default=w(t,l),l.meta||(l.meta=Xr(l)),l}if(p.includes("array")&&(t.items||t.prefixItems)){if(t.prefixItems){let h=t.prefixItems.map(x=>Z({definition:x,openApi:s,parentDefinition:t,types:a}));return l.export="array",l.$refs=[...l.$refs,...h.reduce((x,O)=>[...x,...O.$refs],[])],l.imports=[...l.imports,...h.reduce((x,O)=>[...x,...O.imports],[])],l.link=h,l.default=w(t,l),l}if(!t.items)return l;if(t.items.$ref){let h=T({type:t.items.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.items.$ref)],l.base=h.base,l.export="array",l.imports=[...l.imports,...h.imports],l.template=h.template,l.type=h.type,l.default=w(t,l),l}if(t.items.anyOf&&i&&i.type){let h=pn(i);if(h&&h.definitions.some(x=>!Xt(x).includes("array")))return Z({definition:t.items,openApi:s,parentDefinition:t,types:a})}let f=Array.isArray(t.items)?{anyOf:t.items}:t.items,d=Z({definition:f,openApi:s,parentDefinition:t,types:a});return l.base=d.base,l.export="array",l.$refs=[...l.$refs,...d.$refs],l.imports=[...l.imports,...d.imports],l.link=d,l.template=d.template,l.type=d.type,l.default=w(t,l),l}let u=pn(t);if(u){let f=aa({...u,debug:e,definition:t,getModel:Z,model:l,openApi:s,types:a});return {...l,...f}}if(p.includes("object")||t.properties||t.additionalProperties){if(t.properties&&(Object.keys(t.properties).length>0||!t.additionalProperties)){if(l.base="unknown",l.export="interface",l.type="unknown",l.default=w(t,l),an({debug:e,definition:t,getModel:Z,openApi:s,parent:l,types:a}).forEach(h=>{l.$refs=[...l.$refs,...h.$refs],l.enums=[...l.enums,...h.enums],l.imports=[...l.imports,...h.imports],l.properties=[...l.properties,h],h.export==="enum"&&(l.enums=[...l.enums,h]);}),t.additionalProperties){let h=no({debug:e,definition:t,getModel:Z,model:l,openApi:s,types:a});l.properties=[...l.properties,h];}return !l.properties.length&&l.base==="unknown"&&l.type==="unknown"&&(l.export="dictionary",l.name||(l.name="[key: string]")),l}return no({debug:e,definition:t,getModel:Z,model:l,openApi:s,types:a})}if(t.const!==void 0){let f=t.const,d=typeof f=="string"?`"${f}"`:`${f}`;return l.base=d,l.export="const",l.type=d,l}if(p.length){let f=T({format:t.format,type:t.type});return l.base=f.base,l.export="generic",l.$refs=[...l.$refs,...f.$refs],l.imports=[...l.imports,...f.imports],l.isNullable=f.isNullable||l.isNullable,l.template=f.template,l.type=f.type,l.default=w(t,l),l}return l};var cn=e=>{if(e.schema)return e.schema;if(e.content){let t=Object.entries(e.content);for(let[r,n]of t)if(n.schema){let o=r;return e.content[o].schema}}};var pa=e=>{let t={},r=[];return e.components?(Object.entries(e.components.schemas??{}).forEach(([n,o])=>{let s=zr(n);t[s.name]=s;let i=Z({definition:o,isDefinition:true,meta:s,openApi:e,types:t});r=[...r,i];}),Object.entries(e.components.parameters??{}).forEach(([n,o])=>{let s=cn(o);if(!s)return;let i=Qi(n);t[i.name]=i;let a=Z({definition:s,isDefinition:true,meta:i,openApi:e,types:t});a.deprecated=o.deprecated,a.description=o.description||null,r=[...r,a];}),{models:r,types:t}):{models:r,types:t}};var ca=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",deprecated:t.deprecated===true,description:t.description||null,enum:[],enums:[],export:"interface",imports:[],in:t.in,isDefinition:false,isNullable:lt(t),isReadOnly:false,isRequired:t.required===true,link:null,mediaType:null,prop:t.name,properties:[],template:null,type:"unknown"},o={...n,name:rn(n)};if(t.$ref){let i=T({type:t.$ref});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,export:"reference",imports:[...o.imports,...i.imports],template:i.template,type:i.type},o}let s=cn(t);if(s){if(s.$ref?.startsWith(Qt)&&(s=$(e,s)),s.$ref){let a=T({type:s.$ref});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"reference",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=w(s),o}let i=Z({definition:s,openApi:e,types:r});return o={...o,$refs:[...o.$refs,...i.$refs],base:i.base,enum:[...o.enum,...i.enum],enums:[...o.enums,...i.enums],exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:i.export,format:i.format,imports:[...o.imports,...i.imports],isNullable:o.isNullable||i.isNullable,isReadOnly:i.isReadOnly,isRequired:o.isRequired||i.isRequired,link:i.link,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,pattern:B(i.pattern),properties:[...o.properties,...i.properties],template:i.template,type:i.type,uniqueItems:i.uniqueItems},(o.enum.length||o.enums.length)&&!o.meta&&(o.meta=Xr(o)),o.default=i.default,o}return o};var cu=["cookie","formData","header","path","query"],mn=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(o=>{let s=$(e,o),i=ca({openApi:e,parameter:s,types:r}),a=!tn(i);if(!(!cu.includes(s.in)||a)){switch(s.in){case "cookie":n.parametersCookie=[...n.parametersCookie,i];break;case "formData":n.parametersForm=[...n.parametersForm,i];break;case "header":n.parametersHeader=[...n.parametersHeader,i];break;case "path":n.parametersPath=[...n.parametersPath,i];break;case "query":n.parametersQuery=[...n.parametersQuery,i];break}n.$refs=[...n.$refs,...i.$refs],n.imports=[...n.imports,...i.imports],n.parameters=[...n.parameters,i];}}),n};var mu=["application/json-patch+json","application/json","application/ld+json","application/x-www-form-urlencoded","multipart/batch","multipart/form-data","multipart/mixed","multipart/related","text/json","text/plain"],ln=(e,t)=>{let r=Object.keys(t).filter(o=>{let s=o.split(";")[0].trim();return mu.includes(s)}).find(o=>!!t[o]?.schema);if(r)return {mediaType:r,schema:t[r].schema};let n=Object.keys(t).find(o=>!!t[o]?.schema);if(n)return {mediaType:n,schema:t[n].schema}};var ma=({body:e,debug:t,openApi:r,types:n})=>{let o=e["x-body-name"]??"requestBody",s={$refs:[],base:"unknown",default:void 0,description:e.description||null,enum:[],enums:[],export:"interface",imports:[],in:"body",isDefinition:false,isNullable:e.nullable===true,isReadOnly:false,isRequired:e.required===true,link:null,mediaType:null,name:o,prop:o,properties:[],template:null,type:"unknown"};if(!e.content)return s;let i=ln(r,e.content);if(!i)return s;switch(s.mediaType=i.mediaType,s.mediaType){case "application/x-www-form-urlencoded":case "multipart/form-data":s.in="formData",s.name="formData",s.prop="formData";break}if(i.schema.$ref){let p=T({type:i.schema.$ref});return s.export="reference",s.type=p.type,s.base=p.base,s.template=p.template,s.$refs=[...s.$refs,...p.$refs],s.imports=[...s.imports,...p.imports],s}let a=Z({debug:t,definition:i.schema,openApi:r,types:n});return s.$refs=[...s.$refs,...a.$refs],s.base=a.base,s.enum=[...s.enum,...a.enum],s.enums=[...s.enums,...a.enums],s.exclusiveMaximum=a.exclusiveMaximum,s.exclusiveMinimum=a.exclusiveMinimum,s.export=a.export,s.format=a.format,s.imports=[...s.imports,...a.imports],s.isNullable=s.isNullable||a.isNullable,s.isReadOnly=a.isReadOnly,s.isRequired=s.isRequired||a.isRequired,s.link=a.link,s.maximum=a.maximum,s.maxItems=a.maxItems,s.maxLength=a.maxLength,s.maxProperties=a.maxProperties,s.minimum=a.minimum,s.minItems=a.minItems,s.minLength=a.minLength,s.minProperties=a.minProperties,s.multipleOf=a.multipleOf,s.pattern=B(a.pattern),s.properties=[...s.properties,...a.properties],s.template=a.template,s.type=a.type,s.uniqueItems=a.uniqueItems,s};var la=({code:e,openApi:t,response:r,types:n})=>{let o={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"};if(r.content){let s=ln(t,r.content);if(s){if(s.schema.$ref?.startsWith("#/components/responses/")&&(s.schema=$(t,s.schema)),s.schema.$ref){let a=T({type:s.schema.$ref});return o.base=a.base,o.export="reference",o.$refs=[...o.$refs,...a.$refs],o.imports=[...o.imports,...a.imports],o.template=a.template,o.type=a.type,o}let i=Z({definition:s.schema,openApi:t,types:n});return o.export=i.export,o.type=i.type,o.base=i.base,o.template=i.template,o.link=i.link,o.isReadOnly=i.isReadOnly,o.isRequired=i.isRequired,o.isNullable=i.isNullable,o.format=i.format,o.maximum=i.maximum,o.exclusiveMaximum=i.exclusiveMaximum,o.minimum=i.minimum,o.exclusiveMinimum=i.exclusiveMinimum,o.multipleOf=i.multipleOf,o.maxLength=i.maxLength,o.minLength=i.minLength,o.maxItems=i.maxItems,o.minItems=i.minItems,o.uniqueItems=i.uniqueItems,o.maxProperties=i.maxProperties,o.minProperties=i.minProperties,o.pattern=B(i.pattern),o.$refs=[...o.$refs,...i.$refs],o.imports=[...o.imports,...i.imports],o.enum=[...o.enum,...i.enum],o.enums=[...o.enums,...i.enums],o.properties=[...o.properties,...i.properties],o}}if(r.headers)for(let s in r.headers)return o.in="header",o.name=s,o.type="string",o.base="string",o;return o};var ua=({debug:e,openApi:t,responses:r,types:n})=>{let o=[];return Object.entries(r).forEach(([s,i])=>{let a=Jr(s);if(!a)return;let p=$(t,i),m=la({code:a,openApi:t,response:p,types:n});o=[...o,m];}),o=nn(o),o.sort(Zr)};var Gt=(e,t)=>{let r=[...e],n=[...t];for(;n.length>0;){let o=n[0];n=n.slice(1),r.every(i=>i.in!==o.in||i.name!==o.name)&&(r=[...r,o]);}return r},fa=({debug:e,method:t,op:r,openApi:n,pathParams:o,types:s,url:i})=>{let a={$refs:[],deprecated:!!r.deprecated,description:r.description||null,id:r.operationId||null,imports:[],method:t.toUpperCase(),parameters:[],parametersBody:o.parametersBody,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[],path:i,responseHeader:null,responses:[],summary:r.summary||null,tags:r.tags||null},p={...a,name:en({config:b(),method:a.method,operationId:r.operationId,path:a.path})};if(r.parameters){let m=mn({openApi:n,parameters:r.parameters,types:s});p.$refs=[...p.$refs,...m.$refs],p.imports=[...p.imports,...m.imports],p.parameters=[...p.parameters,...m.parameters],p.parametersBody=m.parametersBody,p.parametersCookie=[...p.parametersCookie,...m.parametersCookie],p.parametersForm=[...p.parametersForm,...m.parametersForm],p.parametersHeader=[...p.parametersHeader,...m.parametersHeader],p.parametersPath=[...p.parametersPath,...m.parametersPath],p.parametersQuery=[...p.parametersQuery,...m.parametersQuery];}if(r.requestBody){let m=$(n,r.requestBody),l=ma({body:m,debug:e,openApi:n,types:s});p.$refs=[...p.$refs,...l.$refs],p.imports=[...p.imports,...l.imports],p.parameters=[...p.parameters,l],p.parametersBody=l;}if(r.responses){p.responses=ua({openApi:n,responses:r.responses,types:s});let m=p.responses.filter(l=>l.responseTypes.includes("success"));p.responseHeader=Gr(m),m.forEach(l=>{p.$refs=[...p.$refs,...l.$refs],p.imports=[...p.imports,...l.imports];});}return p.parameters=Gt(p.parameters,o.parameters),p.parametersCookie=Gt(p.parametersCookie,o.parametersCookie),p.parametersForm=Gt(p.parametersForm,o.parametersForm),p.parametersHeader=Gt(p.parametersHeader,o.parametersHeader),p.parametersPath=Gt(p.parametersPath,o.parametersPath),p.parametersQuery=Gt(p.parametersQuery,o.parametersQuery),p.parameters=sn(p.parameters),p};var da=({openApi:e,types:t})=>{let r=new Map,n=[],o=b();for(let s in e.paths){let i=e.paths[s],a=mn({openApi:e,parameters:i.parameters??[],types:t});for(let p in i){let m=p,l=ut({method:m,path:s});if(Hr.includes(m)){let u=i[m];if(u.operationId&&(r.has(u.operationId)?o.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${u.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(u.operationId,l)),Yr({config:o,operationKey:l})){let f=fa({method:m,op:u,openApi:e,pathParams:a,types:t,url:s});n.push(f);}}}}return n};var ya=e=>{let t=e.servers?.[0],r=t?.variables||{},n=t?.url||"";return Object.entries(r).forEach(([o,s])=>{n=n.replace(`{${o}}`,s.default);}),n.replace(/\/$/g,"")};var ga=e=>{let t=Kr(e.info.version),r=ya(e),{models:n,types:o}=pa(e),s=da({openApi:e,types:o});return {models:n,operations:s,server:r,types:o,version:t}};function ha({openApi:e}){let t=e;if("openapi"in t)return ga(t);if("swagger"in t)return na(t);throw new Error(`Unsupported OpenAPI specification: ${JSON.stringify(t,null,2)}`)}var xa=({config:e,spec:t})=>{let r=new Fr({config:e,spec:t});if("swagger"in r.spec)return Gn(r),r;switch(r.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":return Jn(r),r;case "3.1.0":case "3.1.1":return Zn(r),r;}throw new Error("Unsupported OpenAPI specification")};var fo=Om(ip()),Mu={biome:{args:e=>["format","--write",e],command:"biome",name:"Biome (Format)"},prettier:{args:e=>["--ignore-unknown",e,"--write","--ignore-path","./.prettierignore"],command:"prettier",name:"Prettier"}},Fu={biome:{args:e=>["lint","--apply",e],command:"biome",name:"Biome (Lint)"},eslint:{args:e=>[e,"--fix"],command:"eslint",name:"ESLint"},oxlint:{args:e=>["--fix",e],command:"oxlint",name:"oxlint"}},ap=({config:e})=>{if(e.output.format){let t=Mu[e.output.format];console.log(`\u2728 Running ${t.name}`),(0, fo.sync)(t.command,t.args(e.output.path));}if(e.output.lint){let t=Fu[e.output.lint];console.log(`\u2728 Running ${t.name}`),(0, fo.sync)(t.command,t.args(e.output.path));}};var pp=e=>`${e}-end`,yo=e=>`${e}-length`,cp=e=>`${e}-start`,K={clear:()=>{performance.clearMarks(),performance.clearMeasures();},end:e=>performance.mark(pp(e)),getEntriesByName:e=>performance.getEntriesByName(yo(e)),measure:e=>performance.measure(yo(e),cp(e),pp(e)),start:e=>performance.mark(cp(e))},fn=class{totalMeasure;constructor({totalMark:t}){this.totalMeasure=K.measure(t);}report({marks:t}){let r=Math.ceil(this.totalMeasure.duration*100)/100,n=this.totalMeasure.name;console.warn(`${n.substring(0,n.length-yo("").length)}: ${r.toFixed(2)}ms`),t.forEach(o=>{try{let s=K.measure(o),i=Math.ceil(s.duration*100)/100,a=Math.ceil(s.duration/this.totalMeasure.duration*100*100)/100;console.warn(`${o}: ${i.toFixed(2)}ms (${a.toFixed(2)}%)`);}catch{}});}};function mp(e,t){return {...e,config:t,models:e.models.map(r=>Lu(r)),services:_u(e.operations).map(Bu),types:{}}}var Lu=e=>({...e,$refs:e.$refs.filter((t,r,n)=>ne(t,r,n)),enum:e.enum.filter((t,r,n)=>n.findIndex(o=>o.value===t.value)===r),enums:e.enums.filter((t,r,n)=>n.findIndex(o=>o.name===t.name)===r),imports:e.imports.filter((t,r,n)=>ne(t,r,n)&&t!==e.name).sort(Ft)}),_u=e=>{let t=b(),r=new Map;return e.forEach(n=>{(n.tags?.length&&(t.plugins["@hey-api/sdk"]?.asClass||D(t))?n.tags.filter(ne):["Default"]).forEach(s=>{let i={...n,service:fr(s)},a=r.get(i.service)||Ku(i);a.$refs=[...a.$refs,...i.$refs],a.imports=[...a.imports,...i.imports],a.operations=[...a.operations,i],r.set(i.service,a);});}),Array.from(r.values())},Bu=e=>{let t={...e};return t.operations=Hu(t),t.operations.forEach(r=>{t.imports.push(...r.imports);}),t.imports=t.imports.filter(ne).sort(Ft),t},Hu=e=>{let t=new Map;return e.operations.map(r=>{let n={...r};n.imports.push(...n.parameters.flatMap(a=>a.imports));let o=n.responses.filter(a=>a.responseTypes.includes("success"));n.imports.push(...o.flatMap(a=>a.imports));let s=n.name,i=t.get(s)||0;return i>0&&(n.name=`${s}${i}`),t.set(s,i+1),n})},Ku=e=>({$refs:[],imports:[],name:e.service,operations:[]}),fr=e=>A({case:"PascalCase",value:at(e)});var go=e=>e.startsWith("https://get.heyapi.dev"),Wu=e=>{let t={path:""};if(e.path&&(typeof e.path!="string"||!go(e.path)))return t.path=e.path,t;let[r,n]=e.path.split("?"),s=(n||"").split("&").map(H=>H.split("=")),i=r||"";i.endsWith("/")&&(i=i.slice(0,i.length-1));let[,a]=i.split("://"),[p,m,l]=(a||"").split("/");t.organization=m||e.organization,t.project=l||e.project;let u=[],f="api_key";t.api_key=s.find(([H])=>H===f)?.[1]||e.api_key||process.env.HEY_API_TOKEN,t.api_key&&u.push(`${f}=${t.api_key}`);let d="branch";t.branch=s.find(([H])=>H===d)?.[1]||e.branch,t.branch&&u.push(`${d}=${t.branch}`);let h="commit_sha";t.commit_sha=s.find(([H])=>H===h)?.[1]||e.commit_sha,t.commit_sha&&u.push(`${h}=${t.commit_sha}`);let x="tags";t.tags=s.find(([H])=>H===x)?.[1]?.split(",")||e.tags,t.tags?.length&&u.push(`${x}=${t.tags.join(",")}`);let O="version";if(t.version=s.find(([H])=>H===O)?.[1]||e.version,t.version&&u.push(`${O}=${t.version}`),!t.organization)throw new Error("\u{1F6AB} missing organization - from which Hey API platform organization do you want to generate your output?");if(!t.project)throw new Error("\u{1F6AB} missing project - from which Hey API platform project do you want to generate your output?");let R=u.join("&"),v=p||"get.heyapi.dev",X=v.startsWith("localhost"),Ce=[X?"http":"https",v].join("://"),W=X?[Ce,"v1","get",t.organization,t.project].join("/"):[Ce,t.organization,t.project].join("/");return t.path=R?`${W}?${R}`:W,t},Uu=({config:e,inputPath:t,watch:r})=>{if(e.logs.level==="silent")return;r&&console.clear();let n=r?"Input changed, generating from":"Generating from";if(typeof t.path=="string"){let o=go(t.path)?`${t.organization}/${t.project}`:t.path;console.log(`\u23F3 ${n} ${o}`),go(t.path)&&(t.branch&&console.log(`branch: ${t.branch}`),t.commit_sha&&console.log(`commit: ${t.commit_sha}`),t.tags?.length&&console.log(`tags: ${t.tags.join(", ")}`),t.version&&console.log(`version: ${t.version}`));}else console.log(`\u23F3 ${n} raw OpenAPI specification`);},ho=async({config:e,templates:t,watch:r})=>{let n=Wu(e.input),o=e.watch.timeout,s=r||{headers:new Headers};Uu({config:e,inputPath:n,watch:!!r}),K.start("spec");let{data:i,error:a,response:p}=await ci({fetchOptions:e.input.fetch,inputPath:n.path,timeout:o,watch:s});if(K.end("spec"),a&&!r)throw new Error(`Request failed with status ${p.status}: ${p.statusText}`);let m,l;if(i){if(K.start("parser"),e.experimentalParser&&!j(e)&&!D(e)&&(l=xa({config:e,spec:i})),!l){let u=ha({openApi:i});m=mp(u,e);}if(K.end("parser"),K.start("generator"),l?await ii({context:l}):m&&await si({client:m,openApi:i,templates:t}),K.end("generator"),K.start("postprocess"),!e.dryRun&&(ap({config:e}),e.logs.level!=="silent")){let u=process.env.INIT_CWD?`./${re__default.default.relative(process.env.INIT_CWD,e.output.path)}`:e.output.path;console.log(`\u{1F680} Done! Your output is in ${u}`);}K.end("postprocess");}return e.watch.enabled&&typeof n.path=="string"&&setTimeout(()=>{ho({config:e,templates:t,watch:s});},e.watch.interval),l||m};var dn=e=>{let t={file:true,level:"info",path:process.cwd()};return typeof e?.logs=="string"?t.path=e.logs:t={...t,...e?.logs},t};var Je={_dependencies:["@hey-api/typescript"],_tags:["client"],baseUrl:true,bundle:false,exportFromIndex:false,output:"client"};var _=({case:e="PascalCase",id:t,type:r})=>{let n="";switch(r){case "data":n="Data";break;case "error":n="Error";break;case "errors":n="Errors";break;case "response":n="Response";break;case "responses":n="Responses";break}return `${Ht}${A({case:e,value:t})}-${n}`};var I="types";function xo(e,t){return {...e,get name(){return t?.(e),e.name}}}var lp=({context:e,file:t,operation:r})=>{let n=e.file({id:I}).identifier({$ref:_({id:r.id,type:"data"}),namespace:"type"});return xo(n,o=>{o.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:I}),name:o.name});})},yn=({context:e,file:t,operation:r})=>{let n=e.file({id:I}).identifier({$ref:_({id:r.id,type:"error"}),namespace:"type"});return xo(n,o=>{o.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:I}),name:o.name});})},At=({context:e,file:t,operation:r})=>{let n=e.file({id:I}).identifier({$ref:_({id:r.id,type:"response"}),namespace:"type"});return xo(n,o=>{o.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:I}),name:o.name});})};var Qu=({context:e,plugin:t})=>{let{baseUrl:r}=t;if(r===false)return;if(typeof r=="string")return r;let{servers:n}=e.ir;if(n)return n[typeof r=="number"?r:0]?.url},up=({context:e,plugin:t})=>{let r=e.file({id:Te}),n=U({config:e.config,sourceOutput:r.nameWithoutExtension()}),o=r.import({module:n,name:"createClient"}),s=r.import({module:n,name:"createConfig"}),i=r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:"ClientOptions"}),a=t.runtimeConfigPath?r.import({module:r.relativePathToFile({context:e,id:t.runtimeConfigPath}),name:"createClientConfig"}):void 0,p=[],m=Qu({context:e,plugin:t});if(m){let f=je(m);f.protocol&&f.host&&!m.includes("{")&&p.push({key:le(e.config),value:m});}"throwOnError"in t&&t.throwOnError&&p.push({key:"throwOnError",value:true});let l=[c.callExpression({functionName:s.name,parameters:p.length?[c.objectExpression({obj:p})]:void 0,types:[c.typeReferenceNode({typeName:i.name})]})],u=c.constVariable({exportConst:true,expression:c.callExpression({functionName:o.name,parameters:a?[c.callExpression({functionName:a.name,parameters:l})]:l}),name:"client"});r.add(u);};var fp=({context:e})=>{let t=e.file({id:Te}),r=U({config:e.config,sourceOutput:t.nameWithoutExtension()}),n=t.import({asType:true,module:t.relativePathToFile({context:e,id:I}),name:"ClientOptions"}),o=t.import({asType:true,module:r,name:"Config"}),s=t.import({alias:"DefaultClientOptions",asType:true,module:r,name:"ClientOptions"}),i=c.typeReferenceNode({typeName:s.name}),a=c.typeReferenceNode({typeName:"T"}),p=c.typeAliasDeclaration({comment:["The `createClientConfig()` function will be called on client initialization","and the returned object will become the client's initial configuration.","","You may want to initialize your client this way instead of calling","`setConfig()`. This is useful for example if you're using Next.js","to ensure your client always has the correct values."],exportType:true,name:"CreateClientConfig",type:c.functionTypeNode({parameters:[c.parameterDeclaration({name:"override",required:false,type:c.typeReferenceNode({typeArguments:[c.typeIntersectionNode({types:[i,a]})],typeName:o.name})})],returnType:c.typeReferenceNode({typeArguments:[c.typeIntersectionNode({types:[c.typeReferenceNode({typeArguments:[i],typeName:"Required"}),a]})],typeName:o.name})}),typeParameters:[{default:c.typeReferenceNode({typeName:n.name}),extends:i,name:"T"}]});t.add(p);};var Ze=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:Te,path:t.output}),fp({context:e}),up({context:e,plugin:t});};var bo={...Je,_handler:Ze,_handlerLegacy:()=>{},name:"@hey-api/client-axios",throwOnError:false};var Oo={...Je,_handler:Ze,_handlerLegacy:()=>{},name:"@hey-api/client-fetch",throwOnError:false};var Ro={...Je,_handler:Ze,_handlerLegacy:()=>{},name:"@hey-api/client-next",throwOnError:false};var So={...Je,_handler:Ze,_handlerLegacy:()=>{},name:"@hey-api/client-nuxt"};var Co={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/angular",output:"client"};var To={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/axios",output:"client"};var Po={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/fetch",output:"client"};var Io={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/node",output:"client"};var Ao={_handler:()=>{},_handlerLegacy:()=>{},_tags:["client"],name:"legacy/xhr",output:"client"};var gn="schemas",vo=({plugin:e,schema:t})=>{e.type==="form"&&(t.description&&delete t.description,t["x-enum-descriptions"]&&delete t["x-enum-descriptions"],t["x-enum-varnames"]&&delete t["x-enum-varnames"],t["x-enumNames"]&&delete t["x-enumNames"],t.title&&delete t.title);},Yt=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>Yt({context:e,plugin:t,schema:o}));let n=structuredClone(r);if(n.$ref)return n.$ref=decodeURI(n.$ref),n;if(vo({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Yt({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>Yt({context:e,plugin:t,schema:o}))),n.items&&(n.items=Yt({context:e,plugin:t,schema:n.items})),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=Yt({context:e,plugin:t,schema:s}));}return n},ft=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>ft({context:e,plugin:t,schema:o}));let n=structuredClone(r);if("$ref"in n)return n.$ref=decodeURI(n.$ref),n;if(vo({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=ft({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>ft({context:e,plugin:t,schema:o}))),n.anyOf&&(n.anyOf=n.anyOf.map(o=>ft({context:e,plugin:t,schema:o}))),n.items&&(n.items=ft({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(o=>ft({context:e,plugin:t,schema:o}))),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=ft({context:e,plugin:t,schema:s}));}return n},Ye=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>Ye({context:e,plugin:t,schema:o}));let n=structuredClone(r);if(vo({plugin:t,schema:n}),n.$ref&&(n.$ref=decodeURI(n.$ref)),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Ye({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>Ye({context:e,plugin:t,schema:o}))),n.anyOf&&(n.anyOf=n.anyOf.map(o=>Ye({context:e,plugin:t,schema:o}))),n.items&&(n.items=Ye({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(o=>Ye({context:e,plugin:t,schema:o}))),n.prefixItems&&(n.prefixItems=n.prefixItems.map(o=>Ye({context:e,plugin:t,schema:o}))),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=Ye({context:e,plugin:t,schema:s}));}return n},Eo=({name:e,plugin:t,schema:r})=>{let n=t.nameBuilder?.(e,r)??`${e}Schema`;return wr(n)},Xu=({context:e,plugin:t})=>{if(e.spec.definitions)for(let r in e.spec.definitions){let n=e.spec.definitions[r],o=Yt({context:e,plugin:t,schema:n}),s=c.constVariable({assertion:"const",exportConst:true,expression:c.objectExpression({obj:o}),name:Eo({name:r,plugin:t,schema:n})});e.file({id:gn}).add(s);}},zu=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],o=ft({context:e,plugin:t,schema:n}),s=c.constVariable({assertion:"const",exportConst:true,expression:c.objectExpression({obj:o}),name:Eo({name:r,plugin:t,schema:n})});e.file({id:gn}).add(s);}},Gu=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],o=Ye({context:e,plugin:t,schema:n}),s=c.constVariable({assertion:"const",exportConst:true,expression:c.objectExpression({obj:o}),name:Eo({name:r,plugin:t,schema:n})});e.file({id:gn}).add(s);}},dp=({context:e,plugin:t})=>{if(e.createFile({exportFromIndex:t.exportFromIndex,id:gn,path:t.output}),"swagger"in e.spec){Xu({context:e,plugin:t});return}switch(e.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":zu({context:e,plugin:t});break;case "3.1.0":case "3.1.1":Gu({context:e,plugin:t});break;}};var jo=(e,t)=>{let r=b();if(Array.isArray(e))return e.map(o=>jo(o));if(typeof e!="object"||e===null)return e;let n={...e};return Object.entries(n).forEach(([o,s])=>{if(r.plugins["@hey-api/schemas"]?.type==="form"&&["description","x-enum-descriptions","x-enum-varnames","x-enumNames","title"].includes(o)&&t!=="properties"){delete n[o];return}o==="$ref"&&typeof s=="string"&&(n[o]=decodeURIComponent(s)),s&&typeof s=="object"&&(n[o]=jo(s,o));}),n},Ju=(e,t)=>{let r=b(),n=Se(e);return r.plugins["@hey-api/schemas"]?.nameBuilder?r.plugins["@hey-api/schemas"].nameBuilder(n,t):`${n}Schema`},yp=({files:e,openApi:t})=>{let r=b();e.schemas=new se({dir:r.output.path,id:"schemas",name:"schemas.ts"});let n=(o,s)=>{let i=jo(s),a=c.objectExpression({obj:i}),p=c.constVariable({assertion:"const",exportConst:true,expression:a,name:Ju(o,s)});e.schemas.add(p);};"swagger"in t&&Object.entries(t.definitions??{}).forEach(([o,s])=>{n(o,s);}),"openapi"in t&&Object.entries(t.components?.schemas??{}).forEach(([o,s])=>{n(o,s);});};var qo={_handler:dp,_handlerLegacy:yp,exportFromIndex:false,name:"@hey-api/schemas",nameBuilder:e=>`${e}Schema`,output:"schemas",type:"json"};var dt=e=>{for(let t in e)if(e[t].required)return  true;return  false},gp=e=>e?!!(dt(e.cookie)||dt(e.header)||dt(e.path)||dt(e.query)):false,ko=e=>{if(e){for(let t in e.cookie){let r=e.cookie[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.header){let r=e.header[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.path){let r=e.path[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.query){let r=e.query[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}}};var Me=({schema:e})=>{if(!e.items)return e;let t=[],r=[];for(let n of e.items){if(!n.type&&n.items||e.type==="tuple"){t.push(n);continue}if(!n.type||n.type==="boolean"||n.type==="integer"||n.type==="null"||n.type==="number"||n.type==="string"||n.type==="unknown"||n.type==="void"){let o=`${n.$ref??""}${n.type??""}${n.const!==void 0?`const-${n.const}`:""}`;r.includes(o)||(r.push(o),t.push(n));continue}t.push(n);}if(e.items=t,e.items.length<=1&&e.type!=="array"&&e.type!=="enum"&&e.type!=="tuple"){let n=e.items[0];delete e.logicalOperator,delete e.items,e={...e,...n};}return e.type==="unknown"?{}:e};var et=e=>!!(gp(e.parameters)||e.body?.required),hp=({context:e,operation:t})=>{let r=t.body;if(!r||!r.pagination)return ko(t.parameters);if(r.pagination===true)return {in:"body",name:"body",schema:r.schema};let n=r.schema,o=n.$ref?e.resolveIrRef(n.$ref):n,i=("schema"in o?o.schema:o)?.properties?.[r.pagination];return i?{in:"body",name:r.pagination,schema:i}:ko(t.parameters)},No=({statusCode:e})=>{switch(e){case "1XX":return "1XX";case "2XX":return "2XX";case "3XX":return "3XX";case "4XX":return "4XX";case "5XX":return "5XX";case "default":return "default";default:return `${e[0]}XX`}},yt=e=>{let t={};if(!e.responses)return t;let r={properties:{},type:"object"},n={properties:{},type:"object"},o;for(let a in e.responses){let p=e.responses[a];switch(No({statusCode:a})){case "1XX":case "3XX":break;case "2XX":n.properties[a]=p.schema;break;case "4XX":case "5XX":r.properties[a]=p.schema;break;case "default":o=p;break}}if(o){let a=false;Object.keys(n.properties).length||(n.properties.default=o.schema,a=true);let p=(o.schema.description??"").toLocaleLowerCase(),m=(o.schema.$ref??"").toLocaleLowerCase();["success"].some(f=>p.includes(f)||m.includes(f))&&(n.properties.default=o.schema,a=true),["error","problem"].some(f=>p.includes(f)||m.includes(f))&&(r.properties.default=o.schema,a=true),a||(r.properties.default=o.schema);}let s=Object.keys(r.properties);if(s.length){r.required=s,t.errors=r;let a=N({items:Object.values(r.properties),mutateSchemaOneItem:true,schema:{}});a=Me({schema:a}),Object.keys(a).length&&a.type!=="unknown"&&(t.error=a);}let i=Object.keys(n.properties);if(i.length){n.required=i,t.responses=n;let a=N({items:Object.values(n.properties),mutateSchemaOneItem:true,schema:{}});a=Me({schema:a}),Object.keys(a).length&&a.type!=="unknown"&&(t.response=a);}return t};var yr="zod",Zu=c.identifier({text:"and"}),Yu=c.identifier({text:"coerce"}),ef=c.identifier({text:"default"}),tf=c.identifier({text:"intersection"}),rf=c.identifier({text:"lazy"}),bp=c.identifier({text:"length"}),xn=c.identifier({text:"literal"}),Op=c.identifier({text:"max"}),Rp=c.identifier({text:"min"}),nf=c.identifier({text:"object"}),of=c.identifier({text:"optional"}),sf=c.identifier({text:"readonly"}),af=c.identifier({text:"regex"}),pf=c.identifier({text:"union"}),M=c.identifier({text:"z"}),wo=e=>`z-${e}`,cf=({context:e,result:t,schema:r})=>{let n=c.propertyAccessExpression({expression:M,name:c.identifier({text:"array"})}),o;if(!r.items)o=c.callExpression({functionName:n,parameters:[dr({schema:{}})]});else {r=Me({schema:r});let s=r.items.map(i=>vt({context:e,result:t,schema:i}));s.length===1?o=c.callExpression({functionName:n,parameters:s}):(r.logicalOperator,o=c.callExpression({functionName:n,parameters:[dr({schema:{}})]}));}return r.minItems===r.maxItems&&r.minItems!==void 0?o=c.callExpression({functionName:c.propertyAccessExpression({expression:o,name:bp}),parameters:[c.valueToExpression({value:r.minItems})]}):(r.minItems!==void 0&&(o=c.callExpression({functionName:c.propertyAccessExpression({expression:o,name:Rp}),parameters:[c.valueToExpression({value:r.minItems})]})),r.maxItems!==void 0&&(o=c.callExpression({functionName:c.propertyAccessExpression({expression:o,name:Op}),parameters:[c.valueToExpression({value:r.maxItems})]}))),o},mf=({schema:e})=>typeof e.const=="boolean"?c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:xn}),parameters:[c.ots.boolean(e.const)]}):c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"boolean"})})}),lf=({context:e,schema:t})=>{let r=[],n=false;for(let s of t.items??[])s.type==="string"&&typeof s.const=="string"?r.push(c.stringLiteral({text:s.const})):(s.type==="null"||s.const===null)&&(n=true);if(!r.length)return dr({schema:{}});let o=c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"enum"})}),parameters:[c.arrayLiteralExpression({elements:r,multiLine:false})]});return n&&(o=c.callExpression({functionName:c.propertyAccessExpression({expression:o,name:c.identifier({text:"nullable"})})})),o},uf=({schema:e})=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"never"})})}),ff=({schema:e})=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"null"})})}),hn=({isBigInt:e,value:t})=>{let r=c.valueToExpression({value:t});return e?c.callExpression({functionName:"BigInt",parameters:[r]}):r},df=({schema:e})=>{let t=e.type==="integer"&&e.format==="int64";if(typeof e.const=="number")return c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:xn}),parameters:[c.ots.number(e.const)]});let r=c.callExpression({functionName:t?c.propertyAccessExpression({expression:c.propertyAccessExpression({expression:M,name:Yu}),name:c.identifier({text:"bigint"})}):c.propertyAccessExpression({expression:M,name:c.identifier({text:"number"})})});return !t&&e.type==="integer"&&(r=c.callExpression({functionName:c.propertyAccessExpression({expression:r,name:c.identifier({text:"int"})})})),e.exclusiveMinimum!==void 0?r=c.callExpression({functionName:c.propertyAccessExpression({expression:r,name:c.identifier({text:"gt"})}),parameters:[hn({isBigInt:t,value:e.exclusiveMinimum})]}):e.minimum!==void 0&&(r=c.callExpression({functionName:c.propertyAccessExpression({expression:r,name:c.identifier({text:"gte"})}),parameters:[hn({isBigInt:t,value:e.minimum})]})),e.exclusiveMaximum!==void 0?r=c.callExpression({functionName:c.propertyAccessExpression({expression:r,name:c.identifier({text:"lt"})}),parameters:[hn({isBigInt:t,value:e.exclusiveMaximum})]}):e.maximum!==void 0&&(r=c.callExpression({functionName:c.propertyAccessExpression({expression:r,name:c.identifier({text:"lte"})}),parameters:[hn({isBigInt:t,value:e.maximum})]})),r},yf=({context:e,result:t,schema:r})=>{let n=[],o=r.required??[];for(let i in r.properties){let a=r.properties[i],p=o.includes(i),m=vt({context:e,optional:!p,result:t,schema:a});He.lastIndex=0;let l;He.test(i)?l=i.startsWith("-")?y__default.default.factory.createStringLiteral(i):y__default.default.factory.createNumericLiteral(i):l=i,(i.match(/^[0-9]/)&&i.match(/\D+/g)||i.match(/\W/g))&&!i.startsWith("'")&&!i.endsWith("'")&&(l=`'${i}'`),n.push(c.propertyAssignment({initializer:m,name:l}));}return {anyType:"AnyZodObject",expression:c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:nf}),parameters:[y__default.default.factory.createObjectLiteralExpression(n,true)]})}},gf=({schema:e})=>{if(typeof e.const=="string")return c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:xn}),parameters:[c.ots.string(e.const)]});let t=c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"string"})})});if(e.format)switch(e.format){case "date-time":t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:c.identifier({text:"datetime"})})});break;case "ipv4":case "ipv6":t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:c.identifier({text:"ip"})})});break;case "uri":t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:c.identifier({text:"url"})})});break;case "date":case "email":case "time":case "uuid":t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:c.identifier({text:e.format})})});break}return e.minLength===e.maxLength&&e.minLength!==void 0?t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:bp}),parameters:[c.valueToExpression({value:e.minLength})]}):(e.minLength!==void 0&&(t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:Rp}),parameters:[c.valueToExpression({value:e.minLength})]})),e.maxLength!==void 0&&(t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:Op}),parameters:[c.valueToExpression({value:e.maxLength})]}))),e.pattern&&(t=c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:af}),parameters:[c.regularExpressionLiteral({text:e.pattern})]})),t},hf=({context:e,schema:t})=>{if(t.const&&Array.isArray(t.const)){let r=t.const.map(o=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:xn}),parameters:[c.valueToExpression({value:o})]}));return c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"tuple"})}),parameters:[c.arrayLiteralExpression({elements:r})]})}return dr({schema:{}})},xf=({schema:e})=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"undefined"})})}),dr=({schema:e})=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"unknown"})})}),bf=({schema:e})=>c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:c.identifier({text:"void"})})}),xp=({context:e,result:t,schema:r})=>{switch(r.type){case "array":return {expression:cf({context:e,result:t,schema:r})};case "boolean":return {expression:mf({schema:r})};case "enum":return {expression:lf({context:e,schema:r})};case "integer":case "number":return {expression:df({schema:r})};case "never":return {expression:uf({schema:r})};case "null":return {expression:ff({schema:r})};case "object":return yf({context:e,result:t,schema:r});case "string":return {expression:gf({schema:r})};case "tuple":return {expression:hf({context:e,schema:r})};case "undefined":return {expression:xf({schema:r})};case "unknown":return {expression:dr({schema:r})};case "void":return {expression:bf({schema:r})}}},Of=({context:e,operation:t,result:r})=>{if(t.responses){let{response:n}=yt(t);n&&vt({$ref:_({case:"camelCase",id:t.id,type:"response"}),context:e,result:r,schema:n});}},vt=({$ref:e,context:t,optional:r,result:n,schema:o})=>{let s=t.file({id:yr}),i,a,p;if(e&&(n.circularReferenceTracker.add(e),p=s.identifier({$ref:e,create:true,nameTransformer:wo,namespace:"value"})),o.$ref){let m=n.circularReferenceTracker.has(o.$ref),l=s.identifier({$ref:o.$ref,nameTransformer:wo,namespace:"value"});if(!l.name){let u=t.resolveIrRef(o.$ref);a=vt({$ref:o.$ref,context:t,result:n,schema:u}),l=s.identifier({$ref:o.$ref,nameTransformer:wo,namespace:"value"});}if(l.name){let u=c.identifier({text:l.name});m?(a=c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:rf}),parameters:[c.arrowFunction({statements:[c.returnStatement({expression:u})]})]}),n.hasCircularReference=true):a=u;}}else if(o.type){let m=xp({context:t,result:n,schema:o});i=m.anyType,a=m.expression;}else if(o.items)if(o=Me({schema:o}),o.items){let m=o.items.map(l=>vt({context:t,result:n,schema:l}));if(o.logicalOperator==="and"){let l=o.items[0];l.logicalOperator==="or"||l.type&&l.type!=="object"?a=c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:tf}),parameters:m}):(a=m[0],m.slice(1).forEach(u=>{a=c.callExpression({functionName:c.propertyAccessExpression({expression:a,name:Zu}),parameters:[u]});}));}else a=c.callExpression({functionName:c.propertyAccessExpression({expression:M,name:pf}),parameters:[c.arrayLiteralExpression({elements:m})]});}else a=vt({context:t,result:n,schema:o});else {let m=xp({context:t,result:n,schema:{type:"unknown"}});i=m.anyType,a=m.expression;}if(e&&n.circularReferenceTracker.delete(e),a&&(o.accessScope==="read"&&(a=c.callExpression({functionName:c.propertyAccessExpression({expression:a,name:sf})})),r&&(a=c.callExpression({functionName:c.propertyAccessExpression({expression:a,name:of})})),o.default!==void 0)){let m=c.valueToExpression({value:o.default});m&&(a=c.callExpression({functionName:c.propertyAccessExpression({expression:a,name:ef}),parameters:[m]}));}if(p&&p.name&&p.created){let m=c.constVariable({exportConst:true,expression:a,name:p.name,typeName:n.hasCircularReference?c.propertyAccessExpression({expression:M,name:i||"ZodTypeAny"}):void 0});s.add(m);}return a},Sp=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:yr,identifierCase:"camelCase",path:t.output}).import({module:"zod",name:"z"}),e.subscribe("operation",({operation:n})=>{Of({context:e,operation:n,result:{circularReferenceTracker:new Set,hasCircularReference:false}});}),e.subscribe("schema",({$ref:n,schema:o})=>{vt({$ref:n,context:e,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:o});});};var Rf=({dataExpression:e})=>{let t=e!==void 0?c.callExpression({functionName:"BigInt",parameters:[c.callExpression({functionName:c.propertyAccessExpression({expression:e,name:"toString"})})]}):void 0;if(t){if(typeof e=="string")return [t];if(e)return [c.assignment({left:e,right:t})]}return []},Sf=({dataExpression:e})=>{let t=c.identifier({text:"Date"});return typeof e=="string"?[c.newExpression({argumentsArray:[c.identifier({text:e})],expression:t})]:e?[c.assignment({left:e,right:c.newExpression({argumentsArray:[e],expression:t})})]:[]},bn=({id:e,type:t})=>{let r="";switch(t){case "data":r="DataResponseTransformer";break;case "error":r="ErrorResponseTransformer";break;case "response":r="ResponseTransformer";break}return `${Ht}${A({case:"camelCase",value:e})}${r}`},Cf=({$ref:e,type:t})=>{let r="";switch(t){case "response":r="SchemaResponseTransformer";break}let n=e.split("/");return `${n.slice(0,n.length-1).join("/")}/${A({case:"camelCase",value:n[n.length-1]})}${r}`},Cp=({$ref:e})=>Cf({$ref:e,type:"response"}),xr="transformers",On="data",gr=e=>e.map(t=>y__default.default.isStatement(t)?t:c.expressionToStatement({expression:t})),Pp=({node:e})=>e.kind===y__default.default.SyntaxKind.ReturnStatement,Ip=({context:e,plugin:t,schema:r})=>{let n=c.identifier({text:On}),o=hr({context:e,dataExpression:n,plugin:t,schema:r});return o.length&&!Pp({node:o[o.length-1]})&&o.push(c.returnStatement({expression:n})),o},hr=({context:e,dataExpression:t,plugin:r,schema:n})=>{let o=e.file({id:xr});if(n.$ref){let s=o.identifier({$ref:Cp({$ref:n.$ref}),create:true,namespace:"value"});if(s.created&&s.name){let i=e.resolveIrRef(n.$ref),a=Ip({context:e,plugin:r,schema:i});if(a.length){let p=c.constVariable({expression:c.arrowFunction({async:false,multiLine:true,parameters:[{name:On,type:c.keywordTypeNode({keyword:"any"})}],statements:gr(a)}),name:s.name});o.add(p);}else s=o.blockIdentifier({$ref:Cp({$ref:n.$ref}),namespace:"value"});}if(s.name){let i=c.callExpression({functionName:s.name,parameters:[t]});if(t)return typeof t=="string"&&t==="item"?[c.returnStatement({expression:i})]:[typeof t=="string"?i:c.assignment({left:t,right:i})]}return []}if(n.type==="array"){if(!t||typeof t=="string")return [];let s=n.items?hr({context:e,dataExpression:"item",plugin:r,schema:n.items?.[0]?n.items[0]:{...n,type:void 0}}):[];if(!s.length)return [];let i=gr(s);return i.some(p=>Pp({node:p}))||i.push(c.returnStatement({expression:c.identifier({text:"item"})})),[c.assignment({left:t,right:c.callExpression({functionName:c.propertyAccessExpression({expression:t,name:"map"}),parameters:[c.arrowFunction({multiLine:true,parameters:[{name:"item",type:"any"}],statements:i})]})})]}if(n.type==="object"){let s=[],i=n.required??[];for(let a in n.properties){let p=n.properties[a],m=c.propertyAccessExpression({expression:t||On,name:a}),l=hr({context:e,dataExpression:m,plugin:r,schema:p});if(!l.length)continue;let u=!p.items?.find(d=>d.type==="null");i.includes(a)&&u?s=s.concat(l):s.push(c.ifStatement({expression:m,thenStatement:c.block({statements:gr(l)})}));}return s}if(r.dates&&n.type==="string"&&(n.format==="date"||n.format==="date-time"))return Sf({dataExpression:t});if(r.bigInt&&n.type==="integer"&&n.format==="int64")return Rf({dataExpression:t});if(n.items){if(n.items.length===1)return hr({context:e,dataExpression:"item",plugin:r,schema:n.items[0]});let s=[];if(n.logicalOperator==="and"||n.items.length===2&&n.items.find(i=>i.type==="null"||i.type==="void")){for(let i of n.items){let a=hr({context:e,dataExpression:t||"item",plugin:r,schema:i});if(a.length)if(t)s=s.concat(a);else {let p=c.identifier({text:"item"});s.push(c.ifStatement({expression:p,thenStatement:c.block({statements:gr(a)})}),c.returnStatement({expression:p}));}}return s}n.type!=="enum"&&console.warn(`\u2757\uFE0F Transformers warning: schema ${JSON.stringify(n)} is too complex and won't be currently processed. This will likely produce an incomplete transformer which is not what you want. Please open an issue if you'd like this improved https://github.com/hey-api/openapi-ts/issues`);}return []},Ap=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:xr,path:t.output});e.subscribe("operation",({operation:n})=>{let{response:o}=yt(n);if(!o)return;if(o.items&&o.items.length>1){e.config.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${`${n.method.toUpperCase()} ${n.path}`} has ${o.items.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);return}let s=e.file({id:I}).identifier({$ref:_({id:n.id,type:"response"}),namespace:"type"});if(!s.name)return;let i=r.identifier({$ref:bn({id:n.id,type:"response"}),create:true,namespace:"value"});if(!i.name)return;let a=Ip({context:e,plugin:t,schema:o});if(a.length){r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:s.name});let p=c.constVariable({exportConst:true,expression:c.arrowFunction({async:true,multiLine:true,parameters:[{name:On,type:c.keywordTypeNode({keyword:"any"})}],returnType:c.typeReferenceNode({typeArguments:[c.typeReferenceNode({typeName:s.name})],typeName:"Promise"}),statements:gr(a)}),name:i.name});r.add(p);}else i=r.blockIdentifier({$ref:bn({id:n.id,type:"response"}),namespace:"value"});});};var br="TComposable",tt="DefaultT",Do="ResT",Or="sdk";var Et=({meta:e,onImport:t,...r})=>{if(!e)return {created:false,name:""};let{created:n,name:o}=he({meta:e,...r});return o&&t(o),{created:n,name:o}},kp=e=>`${e}ModelResponseTransformer`,jt=e=>`${A({case:"PascalCase",value:e})}Data`,er=e=>`${A({case:"PascalCase",value:e})}Error`,Mo=e=>`${e}Transformer`,Fe=e=>`${A({case:"PascalCase",value:e})}Response`,Fo=({importedType:e,throwOnError:t})=>{let r=L.OptionsLegacyParser.name;return t?`${r}<${e||"unknown"}, ${t}>`:e?`${r}<${e}>`:r},vp=(e,t)=>{let r=b(),{name:n}=he({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:jt}),o=De(t.parameters);if(!j(r))return [{isRequired:o,name:"options",type:Fo({importedType:n,throwOnError:"ThrowOnError"})}];if(!t.parameters.length)return [];let s=i=>{if(i.default!==void 0)return JSON.stringify(i.default,null,4)};return r.useOptions?[{default:o?void 0:{},name:"data",type:n}]:t.parameters.map(i=>{let a=`${n}['${i.name}']`;return {default:i?.default,isRequired:(!i.isRequired&&!s(i)?"?":"")=="",name:i.name,type:a}})},Ep=(e,t)=>{let r=b(),n=c.typeNode("void");if(t.responses.filter(i=>i.responseTypes.includes("success")).length){let{name:i}=he({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:Fe});n=c.typeUnionNode({types:[i]});}return r.useOptions&&r.plugins["@hey-api/sdk"]?.response==="response"&&(n=c.typeNode("ApiResult",[n])),P(r).name==="legacy/angular"?n=c.typeNode("Observable",[n]):n=c.typeNode("CancelablePromise",[n]),n},jp=e=>{let t=b();if(!j(t))return [e.deprecated&&"@deprecated",e.summary&&k(e.summary),e.description&&k(e.description)];let r=[];e.parameters.length&&(t.useOptions?r=["@param data The data for the request.",...e.parameters.map(s=>`@param data.${s.name} ${s.description?k(s.description):""}`)]:r=e.parameters.map(s=>`@param ${s.name} ${s.description?k(s.description):""}`));let n=e.responses.filter(s=>s.responseTypes.includes("success"));return [e.deprecated&&"@deprecated",e.summary&&k(e.summary),e.description&&k(e.description),...r,...n.map(s=>`@returns ${s.type} ${s.description?k(s.description):""}`),"@throws ApiError"]},Tf=({client:e,onClientImport:t,onImport:r,operation:n})=>{let o=b(),s=Fe(n.name),{name:i}=he({client:e,meta:{$ref:`transformers/${s}`,name:s},nameTransformer:Mo});if(i&&r(i),!j(o)){let l=[{spread:"options"}],f=n.parameters.filter(d=>d.in==="body"||d.in==="formData").map(d=>d.mediaType||(d.in==="formData"?"multipart/form-data":void 0)).filter(Boolean).filter(ne);return f.length===1&&(f[0]==="multipart/form-data"&&(l=[...l,{spread:"formDataBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:null},{spread:"options?.headers"}]}],t?.("formDataBodySerializer")),f[0]==="application/x-www-form-urlencoded"&&(l=[...l,{spread:"urlSearchParamsBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:f[0]},{spread:"options?.headers"}]}],t?.("urlSearchParamsBodySerializer"))),l=[...l,{key:"url",value:n.path}],i&&(l=[...l,{key:"responseTransformer",value:i}]),c.objectExpression({identifiers:["responseTransformer"],obj:l})}let a=l=>l.reduce((u,f)=>{let d=f.prop,h=o.useOptions?`data.${f.name}`:f.name;return d===h?u[d]=d:me(d)===d?u[d]=h:u[`'${d}'`]=h,u},{}),p={method:n.method,url:n.path};n.parametersPath.length&&(p.path=a(n.parametersPath)),n.parametersCookie.length&&(p.cookies=a(n.parametersCookie)),n.parametersHeader.length&&(p.headers=a(n.parametersHeader)),n.parametersQuery.length&&(p.query=a(n.parametersQuery)),n.parametersForm.length&&(p.formData=a(n.parametersForm)),n.parametersBody&&(n.parametersBody.in==="formData"&&(o.useOptions?p.formData=`data.${n.parametersBody.name}`:p.formData=n.parametersBody.name),n.parametersBody.in==="body"&&(o.useOptions?p.body=`data.${n.parametersBody.name}`:p.body=n.parametersBody.name)),n.parametersBody?.mediaType&&(p.mediaType=n.parametersBody?.mediaType),n.responseHeader&&(p.responseHeader=n.responseHeader),i&&(p.responseTransformer=i);let m=n.responses.filter(l=>l.responseTypes.includes("error"));if(m.length>0){let l={};m.forEach(u=>{l[u.code]=u.description??"";}),p.errors=l;}return c.objectExpression({identifiers:["body","cookies","formData","headers","path","query","responseTransformer"],obj:p,shorthand:true})},F=({config:e,handleIllegal:t,id:r,operation:n})=>e.plugins["@hey-api/sdk"]?.methodNameBuilder?e.plugins["@hey-api/sdk"].methodNameBuilder(n):t&&r.match(ce)?`${r}_`:r,qp=({client:e,onClientImport:t,onImport:r,operation:n})=>{let o=b(),s=Tf({client:e,onClientImport:t,onImport:r,operation:n});if(!j(o)){let a=he({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:er}).name,m=n.responses.filter(l=>l.responseTypes.includes("success")).length?he({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:Fe}).name:"void";return [c.returnFunctionCall({args:[s],name:`(options?.client ?? client).${n.method.toLocaleLowerCase()}`,types:a&&m?[m,a,"ThrowOnError"]:a?["unknown",a,"ThrowOnError"]:m?[m,"unknown","ThrowOnError"]:[]})]}return D(o)?[c.returnFunctionCall({args:[s],name:"this.httpRequest.request"})]:P(o).name==="legacy/angular"?[c.returnFunctionCall({args:["OpenAPI","this.http",s],name:"__request"})]:[c.returnFunctionCall({args:["OpenAPI",s],name:"__request"})]},Pf=({client:e,onClientImport:t,onImport:r,onNode:n,service:o})=>{let s=b(),i=P(s),a=j(s);for(let u of o.operations)u.parameters.length&&Et({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:jt,onImport:r}),a||Et({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:er,onImport:r}),u.responses.filter(d=>d.responseTypes.includes("success")).length&&Et({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:Fe,onImport:r});let p={default:("throwOnError"in i?i.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"};if(!s.plugins["@hey-api/sdk"]?.asClass&&!D(s)){for(let u of o.operations){let f={parameters:vp(e,u),returnType:a?Ep(e,u):void 0,statements:qp({client:e,onClientImport:t,onImport:r,operation:u}),types:a?void 0:[p]},d=i.name==="legacy/angular"?c.anonymousFunction(f):c.arrowFunction(f),h=c.constVariable({comment:jp(u),exportConst:true,expression:d,name:F({config:s,handleIllegal:true,id:u.name,operation:u})});n(h);}return}let m=o.operations.map(u=>c.methodDeclaration({accessLevel:"public",comment:jp(u),isStatic:D(s)===void 0&&i.name!=="legacy/angular",name:F({config:s,id:u.name,operation:u}),parameters:vp(e,u),returnType:a?Ep(e,u):void 0,statements:qp({client:e,onClientImport:t,onImport:r,operation:u}),types:a?void 0:[p]}));if(!m.length)return;D(s)?m=[c.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"httpRequest",type:"BaseHttpRequest"}]}),...m]:i.name==="legacy/angular"&&(m=[c.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"http",type:"HttpClient"}]}),...m]);let l=c.classDeclaration({decorator:i.name==="legacy/angular"?{args:[{providedIn:"root"}],name:"Injectable"}:void 0,members:m,name:$e({config:s,name:o.name})});n(l);},Np=({client:e,files:t})=>{let r=b(),n=j(r),o="sdk";if(t.sdk=new se({dir:r.output.path,id:"sdk",name:`${o}.ts`}),!n)t.sdk.import({module:U({config:r,sourceOutput:o}),name:"createClient"}),t.sdk.import({module:U({config:r,sourceOutput:o}),name:"createConfig"}),t.sdk.import({...L.OptionsLegacyParser,module:U({config:r,sourceOutput:o})});else if(P(r).name==="legacy/angular"?(t.sdk.import({module:"@angular/core",name:"Injectable"}),D(r)||t.sdk.import({module:"@angular/common/http",name:"HttpClient"}),t.sdk.import({asType:true,module:"rxjs",name:"Observable"})):t.sdk.import({asType:true,module:"./core/CancelablePromise",name:"CancelablePromise"}),r.plugins["@hey-api/sdk"]?.response==="response"&&t.sdk.import({asType:true,module:"./core/ApiResult",name:"ApiResult"}),D(r)){let i=P(r);t.sdk.import({asType:i.name!=="legacy/angular",module:"./core/BaseHttpRequest",name:"BaseHttpRequest"});}else t.sdk.import({module:"./core/OpenAPI",name:"OpenAPI"}),t.sdk.import({alias:"__request",module:"./core/request",name:"request"});if(!n){let s=P(r),i=c.constVariable({exportConst:true,expression:c.callExpression({functionName:"createClient",parameters:[c.callExpression({functionName:"createConfig",parameters:["throwOnError"in s&&s.throwOnError?c.objectExpression({obj:[{key:"throwOnError",value:true}]}):void 0]})]}),name:"client"});t.sdk.add(i);}for(let s of e.services)Pf({client:e,onClientImport:i=>{t.sdk.import({module:U({config:r,sourceOutput:o}),name:i});},onImport:i=>{t.sdk.import({asType:!i.endsWith("Transformer"),module:`./${t.types.nameWithoutExtension()}`,name:i});},onNode:i=>{t.sdk.add(i);},service:s});};var $p=({clientOptions:e,context:t,plugin:r})=>{let n=t.file({id:Or}),s=P(t.config).name==="@hey-api/client-nuxt",i=U({config:t.config,sourceOutput:n.nameWithoutExtension()}),a=n.import({asType:true,module:i,name:"TDataShape"}),p=n.import({asType:true,module:i,name:"Client"}),m=c.typeAliasDeclaration({exportType:true,name:"Options",type:c.typeIntersectionNode({types:[c.typeReferenceNode({typeArguments:s?[c.typeReferenceNode({typeName:"TComposable"}),c.typeReferenceNode({typeName:"TData"}),c.typeReferenceNode({typeName:Do}),c.typeReferenceNode({typeName:tt})]:[c.typeReferenceNode({typeName:"TData"}),c.typeReferenceNode({typeName:"ThrowOnError"})],typeName:e.name}),c.typeInterfaceNode({properties:[{comment:["You can provide a client instance returned by `createClient()` instead of","individual options. This might be also useful if you want to implement a","custom client."],isRequired:!r.client,name:"client",type:c.typeReferenceNode({typeName:p.name})},{comment:["You can pass arbitrary values through the `meta` object. This can be","used to access values that aren't defined as part of the SDK function."],isRequired:false,name:"meta",type:c.typeReferenceNode({typeArguments:[c.keywordTypeNode({keyword:"string"}),c.keywordTypeNode({keyword:"unknown"})],typeName:"Record"})}],useLegacyResolution:false})]}),typeParameters:s?[c.typeParameterDeclaration({constraint:c.typeReferenceNode({typeName:"Composable"}),name:"TComposable"}),c.typeParameterDeclaration({constraint:c.typeReferenceNode({typeName:a.name}),defaultType:c.typeReferenceNode({typeName:a.name}),name:"TData"}),c.typeParameterDeclaration({defaultType:c.keywordTypeNode({keyword:"unknown"}),name:Do}),c.typeParameterDeclaration({defaultType:c.keywordTypeNode({keyword:"undefined"}),name:tt})]:[c.typeParameterDeclaration({constraint:c.typeReferenceNode({typeName:a.name}),defaultType:c.typeReferenceNode({typeName:a.name}),name:"TData"}),c.typeParameterDeclaration({constraint:c.keywordTypeNode({keyword:"boolean"}),defaultType:c.keywordTypeNode({keyword:"boolean"}),name:"ThrowOnError"})]});n.add(m);};var Rn=({context:e,file:t,operation:r,throwOnError:n})=>{let o=lp({context:e,file:t,operation:r}),s=At({context:e,file:t,operation:r}),i=L.Options.name;return P(e.config).name==="@hey-api/client-nuxt"?`${i}<${br}, ${o.name||"unknown"}, ${s.name||"unknown"}, ${tt}>`:n?`${i}<${o.name||"unknown"}, ${n}>`:o.name?`${i}<${o.name}>`:i},Sn="sdk",If=e=>{if(!e)return;let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return "json";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return "blob";if(t.startsWith("text/"))return "text"}},Af=({securitySchemeObject:e})=>{if(e.type==="openIdConnect")return {scheme:"bearer",type:"http"};if(e.type==="oauth2")return e.flows.password||e.flows.authorizationCode||e.flows.clientCredentials||e.flows.implicit?{scheme:"bearer",type:"http"}:void 0;if(e.type==="apiKey")return e.in==="header"?{name:e.name,type:"apiKey"}:e.in==="query"||e.in=="cookie"?{in:e.in,name:e.name,type:"apiKey"}:void 0;if(e.type==="http"){let t=e.scheme.toLowerCase();return t==="bearer"||t==="basic"?{scheme:t,type:"http"}:void 0}},vf=({operation:e,plugin:t})=>{if(!e.security||!t.auth)return [];let r=[];for(let n of e.security){let o=Af({securitySchemeObject:n});o?r.push(o):console.warn(`\u2757\uFE0F SDK warning: unsupported security scheme. Please open an issue if you'd like it added https://github.com/hey-api/openapi-ts/issues
${JSON.stringify(n,null,2)}`);}return r},wp=({context:e,isRequiredOptions:t,operation:r,plugin:n})=>{let o=e.file({id:Sn}),s=o.nameWithoutExtension(),i=yn({context:e,file:o,operation:r}),a=At({context:e,file:o,operation:r}),p=[];if(r.body)switch(r.body.type){case "form-data":p.push({spread:"formDataBodySerializer"}),o.import({module:U({config:e.config,sourceOutput:s}),name:"formDataBodySerializer"});break;case "json":break;case "text":case "octet-stream":p.push({key:"bodySerializer",value:null});break;case "url-search-params":p.push({spread:"urlSearchParamsBodySerializer"}),o.import({module:U({config:e.config,sourceOutput:s}),name:"urlSearchParamsBodySerializer"});break}let m=P(e.config);if(m.name==="@hey-api/client-axios"){for(let O in r.responses)if(No({statusCode:O})==="2XX"){let R=r.responses[O],v=If(R?.mediaType);v&&v!=="json"&&p.push({key:"responseType",value:v});}}let l=vf({operation:r,plugin:n});l.length&&p.push({key:"security",value:c.arrayLiteralExpression({elements:l})});for(let O in r.parameters?.query){let R=r.parameters.query[O];if((R.schema.type==="array"||R.schema.type==="tuple")&&(R.style!=="form"||!R.explode)){p.push({key:"querySerializer",value:[{key:"array",value:[{key:"explode",value:false},{key:"style",value:"form"}]}]});break}}if(n.transformer==="@hey-api/transformers"){let O=e.file({id:xr}).identifier({$ref:bn({id:r.id,type:"response"}),namespace:"value"});O.name&&(o.import({module:o.relativePathToFile({context:e,id:xr}),name:O.name}),p.push({key:"responseTransformer",value:O.name}));}if(n.validator==="zod"){let O=e.file({id:yr}).identifier({$ref:_({case:"camelCase",id:r.id,type:"response"}),namespace:"value"});O.name&&(o.import({module:o.relativePathToFile({context:e,id:yr}),name:O.name}),p.push({key:"responseValidator",value:c.arrowFunction({async:true,parameters:[{name:"data"}],statements:[c.returnStatement({expression:c.awaitExpression({expression:c.callExpression({functionName:c.propertyAccessExpression({expression:c.identifier({text:O.name}),name:c.identifier({text:"parseAsync"})}),parameters:[c.identifier({text:"data"})]})})})]})}));}p.push({key:"url",value:r.path}),p.push({spread:"options"}),r.body&&p.push({key:"headers",value:[{key:"Content-Type",value:r.body.type==="form-data"?null:r.body.mediaType},{spread:"options?.headers"}]});let u=m.name==="@hey-api/client-nuxt",f=a.name||"unknown",d=i.name||"unknown",h=n.client?o.import({alias:"_heyApiClient",module:o.relativePathToFile({context:e,id:Te}),name:"client"}):void 0,x=c.propertyAccessExpression({expression:c.identifier({text:"options"}),isOptional:!t,name:"client"});return [c.returnFunctionCall({args:[c.objectExpression({identifiers:["responseTransformer"],obj:p})],name:c.propertyAccessExpression({expression:h?.name?c.binaryExpression({left:x,operator:"??",right:c.identifier({text:h.name})}):x,name:c.identifier({text:r.method})}),types:u?[br,`${f} | ${tt}`,d,tt]:[f,d,"ThrowOnError"]})]},Ef=({context:e,plugin:t})=>{let r=P(e.config),n=r.name==="@hey-api/client-nuxt",o=e.file({id:Sn}),s=new Map;e.subscribe("operation",({operation:i})=>{let a=!t.client||n||et(i),p=At({context:e,file:o,operation:i}),m=c.methodDeclaration({accessLevel:"public",comment:[i.deprecated&&"@deprecated",i.summary&&k(i.summary),i.description&&k(i.description)],isStatic:true,name:F({config:e.config,handleIllegal:false,id:i.id,operation:i}),parameters:[{isRequired:a,name:"options",type:Rn({context:e,file:o,operation:i,throwOnError:n?void 0:"ThrowOnError"})}],returnType:void 0,statements:wp({context:e,isRequiredOptions:a,operation:i,plugin:t}),types:n?[{extends:c.typeNode("Composable"),name:br},{default:p.name?c.typeReferenceNode({typeName:p.name}):c.typeNode("undefined"),extends:p.name?c.typeReferenceNode({typeName:p.name}):void 0,name:tt}]:[{default:("throwOnError"in r?r.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]}),l=Array.from(new Set(i.tags));l.length||l.push("default");for(let u of l){let f=fr(u),d=s.get(f)??[];d.push(m),s.set(f,d);}}),e.subscribe("after",()=>{for(let[i,a]of s){let p=c.classDeclaration({decorator:void 0,members:a,name:$e({config:e.config,name:i})});o.add(p);}});},jf=({context:e,plugin:t})=>{let r=P(e.config),n=r.name==="@hey-api/client-nuxt",o=e.file({id:Sn});e.subscribe("operation",({operation:s})=>{let i=!t.client||n||et(s),a=At({context:e,file:o,operation:s}),p=c.constVariable({comment:[s.deprecated&&"@deprecated",s.summary&&k(s.summary),s.description&&k(s.description)],exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:i,name:"options",type:Rn({context:e,file:o,operation:s,throwOnError:n?void 0:"ThrowOnError"})}],returnType:void 0,statements:wp({context:e,isRequiredOptions:i,operation:s,plugin:t}),types:n?[{extends:c.typeNode("Composable"),name:br},{default:a.name?c.typeReferenceNode({typeName:a.name}):c.typeNode("undefined"),extends:a.name?c.typeReferenceNode({typeName:a.name}):void 0,name:tt}]:[{default:("throwOnError"in r?r.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]}),name:F({config:e.config,handleIllegal:true,id:s.id,operation:s})});o.add(p);});},Dp=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:Sn,path:t.output}),n=U({config:e.config,sourceOutput:r.nameWithoutExtension()}),o=r.import({...L.Options,alias:"ClientOptions",module:n});P(e.config).name==="@hey-api/client-nuxt"&&r.import({asType:true,module:n,name:"Composable"}),$p({clientOptions:o,context:e,plugin:t}),t.asClass?Ef({context:e,plugin:t}):jf({context:e,plugin:t});};var Lo={_dependencies:["@hey-api/typescript"],_handler:Dp,_handlerLegacy:Np,_infer:(e,t)=>{e.client&&(typeof e.client=="boolean"&&(e.client=t.pluginByTag("client","\u{1F6AB} client needs to be set to generate SDKs - which HTTP client do you want to use?")),t.ensureDependency(e.client)),e.transformer&&(typeof e.transformer=="boolean"&&(e.transformer=t.pluginByTag("transformer")),t.ensureDependency(e.transformer)),e.validator&&(typeof e.validator=="boolean"&&(e.validator=t.pluginByTag("validator")),t.ensureDependency(e.validator));},asClass:false,auth:true,client:true,exportFromIndex:true,name:"@hey-api/sdk",operationId:true,output:"sdk",response:"body",serviceNameBuilder:"{{name}}Service"};var qf="$OpenApiTs",Y={$refs:[],base:"",description:null,enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],template:null,type:""},kf=({comments:e,leadingComment:t,meta:r,obj:n,onNode:o,...s})=>{if(!r)return;let{created:i,name:a}=he({create:true,meta:r,...s});if(i){let p=c.enumDeclaration({comments:e,leadingComment:t,name:a,obj:n});o(p);}},rt=({comment:e,meta:t,onCreated:r,onNode:n,type:o,...s})=>{if(!t)return {created:false,name:""};let i=he({create:true,meta:t,...s}),{created:a,name:p}=i;if(a){let m=c.typeAliasDeclaration({comment:e,exportType:true,name:p,type:o});n(m),r?.(p);}return i},Nf=e=>{let t=b(),r=[];Fp(e),e.model.enums.forEach(n=>t.plugins["@hey-api/typescript"]?.enums!=="typescript+namespace"?Mp({...e,model:n}):$f({...e,model:n,onNode:o=>{r.push(o);}})),r.length&&e.onNode(c.namespaceDeclaration({name:e.model.name,statements:r}));},Mp=({client:e,model:t,onNode:r})=>{let n=b(),o={},s={};t.enum.forEach(a=>{let{key:p,value:m}=Qr(a);o[p]=m;let l=a.customDescription||a.description;l&&(s[p]=[k(l)]);});let i=[t.description&&k(t.description),t.deprecated&&"@deprecated"];if(n.plugins["@hey-api/typescript"]?.enums==="typescript"||n.plugins["@hey-api/typescript"]?.enums==="typescript+namespace"){kf({client:e,comments:s,leadingComment:i,meta:t.meta,obj:o,onNode:r});return}rt({client:e,comment:i,meta:t.meta,onCreated:a=>{if(n.plugins["@hey-api/typescript"]?.enums==="javascript"){let p=c.objectExpression({multiLine:true,obj:Object.entries(o).map(([l,u])=>({comments:s[l],key:l,value:u})),unescape:true}),m=c.constVariable({assertion:"const",comment:i,exportConst:true,expression:p,name:a});r(m);}},onNode:r,type:Ui(t.enum)});},$f=({model:e,onNode:t})=>{let r={},n={};e.enum.forEach(o=>{let{key:s,value:i}=Qr(o);r[s]=i;let a=o.customDescription||o.description;a&&(n[s]=[k(a)]);}),t(c.enumDeclaration({comments:n,leadingComment:[e.description&&k(e.description),e.deprecated&&"@deprecated"],name:e.meta?.name||e.name,obj:r}));},Fp=({client:e,model:t,onNode:r})=>{rt({client:e,comment:[t.description&&k(t.description),t.deprecated&&"@deprecated"],meta:t.meta,onNode:r,type:ge(t)});},wf=e=>{switch(e.model.export){case "all-of":case "any-of":case "one-of":case "interface":return Nf(e);case "enum":return Mp(e);default:return Fp(e)}},Df=({client:e,onNode:t})=>{let r={},n=b();if(!n.plugins["@hey-api/sdk"]&&!n.plugins["@hey-api/typescript"]?.tree)return;let o=j(n);for(let i of e.services)for(let a of i.operations){if(!a.parameters.length&&!a.responses.length)continue;r[a.path]||(r[a.path]={});let p=r[a.path];p[a.method]||(p[a.method]={});let m=p[a.method];if(m.$ref=a.name,a.responses.length>0){if(m.res||(m.res={}),Array.isArray(m.res))continue;a.responses.forEach(u=>{m.res[u.code]=u;});}if(a.parameters.length>0){let u={mediaType:null,...Y,in:"body",name:"body",prop:"body"},f=a.parameters.filter(R=>R.in==="body");f.length||(f=a.parameters.filter(R=>R.in==="formData")),f.length===1?u={...Y,...f[0],in:"body",isRequired:f[0].isRequired,name:"body",prop:"body"}:f.length>1&&(u={...Y,in:"body",isRequired:f.some(R=>R.isRequired),mediaType:"multipart/form-data",name:"body",prop:"body",properties:f});let d={...Y,in:"header",isRequired:De(a.parameters.filter(R=>R.in==="header")),mediaType:null,name:o?"header":"headers",prop:o?"header":"headers",properties:a.parameters.filter(R=>R.in==="header").sort(ar)},h={...Y,in:"path",isRequired:De(a.parameters.filter(R=>R.in==="path")),mediaType:null,name:"path",prop:"path",properties:a.parameters.filter(R=>R.in==="path").sort(ar)},x={...Y,in:"query",isRequired:De(a.parameters.filter(R=>R.in==="query")),mediaType:null,name:"query",prop:"query",properties:a.parameters.filter(R=>R.in==="query").sort(ar)},O=o?pr([...a.parameters]):[u,d,h,x].filter(R=>R.properties.length||R.$refs.length||R.mediaType);m.req=O,rt({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:jt,onNode:t,type:ge({...Y,properties:O})});}let l=a.responses.filter(u=>u.responseTypes.includes("success"));if(l.length>0){rt({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:Fe,onNode:t,type:ge({...Y,export:"any-of",properties:l})});let u=a.responses.filter(f=>f.responseTypes.includes("error"));o||rt({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:er,onNode:t,type:ge(u.length?{...Y,export:"one-of",properties:u}:{...Y,base:"unknown"})});}}let s=Object.entries(r).map(([i,a])=>{let p=Object.entries(a).map(([l,u])=>{let f=l,d=[];if(u.req){let x=u.$ref,{name:O}=he({client:e,meta:{$ref:x,name:x},nameTransformer:jt}),R={...Y,base:O,export:"reference",isRequired:true,name:"req",properties:[],type:O};d=[...d,R];}if(u.res){let x=Object.entries(u.res).map(([R,v])=>({...Y,...v,isRequired:true,name:String(R)})),O={...Y,isRequired:true,name:"res",properties:x};d=[...d,O];}return {...Y,isRequired:true,name:f.toLocaleLowerCase(),properties:d}}).filter(Boolean);return {...Y,isRequired:true,name:`'${i}'`,properties:p}});n.plugins["@hey-api/typescript"]?.tree&&rt({client:e,meta:{$ref:"@hey-api/openapi-ts",name:qf},onNode:t,type:ge({...Y,properties:s})});},Lp=({client:e,files:t})=>{let r=b();t.types=new se({dir:r.output.path,id:"types",name:"types.ts"});let n=o=>{t.types?.add(o);};for(let o of e.models)wf({client:e,model:o,onNode:n});Df({client:e,onNode:n});};var gt="data",Mf=e=>e.base==="unknown"&&e.export==="generic"&&e.type==="unknown",_p=({client:e,model:t})=>t.$refs.map(n=>{let o=e.models.find(s=>s.meta?.$ref===n);if(!o)throw new Error(`Ref ${n} could not be found. Transformers cannot be generated without having access to all refs.`);return o}),Bp=e=>{let t=e.model.meta.name,{name:r}=rt({...e,meta:{$ref:`transformers/${t}`,name:t},nameTransformer:kp,onCreated:o=>{let s=Cn({...e,meta:{$ref:`transformers/${t}`,name:o},path:[gt]});Hp({...e,async:false,name:o,statements:s});},type:`(${gt}: any) => ${t}`});return {created:!!e.client.types[r],name:r}},Ff=e=>{let{model:t}=e,r=_p(e);if(r.length===1){let{created:n,name:o}=Bp({...e,model:r[0]});return n?[c.transformArrayMutation({path:e.path,transformerName:o})]:[]}return ur(t)||t.link&&!Array.isArray(t.link)&&t.link.export==="any-of"&&t.link.properties.find(n=>ur(n))?[c.transformArrayMap({path:e.path,transformExpression:c.conditionalExpression({condition:c.identifier({text:"item"}),whenFalse:c.identifier({text:"item"}),whenTrue:c.transformNewDate({parameterName:"item"})})})]:[]},Lf=e=>{let{model:t}=e,r=[...e.path,t.name];return t.type==="string"&&t.export!=="array"&&ur(t)?[c.transformDateMutation({path:r})]:Cn({...e,model:t,path:r})},Cn=e=>{let{model:t}=e;switch(t.export){case "array":return Ff(e);case "interface":return t.properties.flatMap(r=>Lf({...e,model:r}));case "reference":{if(t.$refs.length!==1)return [];let r=_p(e),{created:n,name:o}=Bp({...e,model:r[0]});return n?t.in==="response"?[c.expressionToStatement({expression:c.callExpression({functionName:o,parameters:[gt]})})]:c.transformFunctionMutation({path:e.path,transformerName:o}):[]}default:return []}},Hp=({async:e,client:t,name:r,onNode:n,onRemoveNode:o,statements:s})=>{let i={created:false,name:r};if(!s.length)return zi({client:t,name:r}),o?.(),i;let a=c.arrowFunction({async:e,multiLine:true,parameters:[{name:gt}],statements:[...s,c.returnVariable({expression:gt})]}),p=c.constVariable({exportConst:true,expression:a,name:r,typeName:r});return n(p),{created:true,name:r}},Kp=({client:e,files:t})=>{let r=b(),n=s=>{t.types?.add(s);},o=()=>{t.types?.removeNode();};for(let s of e.services)for(let i of s.operations){let a=i.responses.filter(l=>l.responseTypes.includes("success"));if(!a.length)continue;let p=a.filter(l=>!Mf(l));if(!p.length)continue;if(p.length>1){r.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${ut(i)} has ${p.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);continue}let m=Fe(i.name);rt({client:e,meta:{$ref:`transformers/${m}`,name:m},nameTransformer:Mo,onCreated:l=>{let u=a.length>1?a.flatMap(f=>{let d=Cn({client:e,meta:{$ref:`transformers/${m}`,name:m},model:f,onNode:n,onRemoveNode:o,path:[gt]});return d.length?[c.ifStatement({expression:c.safeAccessExpression(["data"]),thenStatement:c.block({statements:d})})]:[]}):Cn({client:e,meta:{$ref:`transformers/${m}`,name:m},model:a[0],onNode:n,onRemoveNode:o,path:[gt]});Hp({async:true,client:e,name:l,onNode:n,onRemoveNode:o,statements:u});},onNode:n,type:`(${gt}: any) => Promise<${m}>`});}};var _o={_dependencies:["@hey-api/typescript"],_handler:Ap,_handlerLegacy:Kp,_tags:["transformer"],bigInt:true,dates:true,exportFromIndex:false,name:"@hey-api/transformers",output:"transformers"};var Wp=({context:e,name:t})=>(He.lastIndex=0,He.test(t)?t.startsWith("-")?y__default.default.factory.createStringLiteral(t):y__default.default.factory.createNumericLiteral(t):A({case:e.config.output.case,value:t}));var Tn=c.keywordTypeNode({keyword:"string"}),Bf=({server:e})=>{let t=je(e.url);return t.protocol&&t.host?c.literalTypeNode({literal:c.stringLiteral({text:e.url})}):c.templateLiteralType({value:[t.protocol||Tn,"://",t.host||Tn,t.port?`:${t.port}`:"",t.path||""]})},Up=({context:e,identifier:t,servers:r})=>{let n=e.file({id:I});if(!t.name)return;let o=P(e.config),s=r.map(a=>Bf({server:a}));r.length?"strictBaseUrl"in o&&o.strictBaseUrl||s.push(c.typeIntersectionNode({types:[Tn,y__default.default.factory.createTypeLiteralNode([])]})):s.push(Tn);let i=c.typeAliasDeclaration({exportType:true,name:t.name,type:c.typeInterfaceNode({properties:[{name:le(e.config),type:c.typeUnionNode({types:s})}],useLegacyResolution:false})});n.add(i);};var tr=({schema:e})=>{let t=[e.description&&k(e.description),e.deprecated&&"@deprecated"].filter(Boolean);if(t.length)return t},Ho=({$ref:e,accessScope:t,plugin:r})=>{if(!t||t==="both")return e;let n=e.split("/"),o=n.pop(),s=t==="read"?r.readableNameBuilder:r.writableNameBuilder,i=Hf({name:o,nameBuilder:s});return n.push(i),n.join("/")},Hf=({name:e,nameBuilder:t})=>t?t.replace("{{name}}",e):e,Kf=({schema:e,state:t})=>!!(t?.accessScope&&e.accessScope&&t.accessScope!==e.accessScope),Vf=({$ref:e,context:t,plugin:r,schema:n})=>{let s=t.file({id:I}).identifier({$ref:e,create:true,namespace:"value"});if(!s.created)return;let i=zp({plugin:r,schema:n}),a=c.objectExpression({multiLine:true,obj:i.obj});return c.constVariable({assertion:"const",comment:tr({schema:n}),exportConst:true,expression:a,name:s.name||""})},zp=({plugin:e,schema:t})=>{let r=[];return {obj:(t.items??[]).map(o=>{let s=typeof o.const;r.includes(s)||r.push(s);let i;return o.title?i=o.title:s==="number"||s==="string"?i=`${o.const}`:s==="boolean"?i=o.const?"true":"false":o.const===null&&(i="null"),i&&(i=A({case:e.enumsCase,stripLeadingSeparators:false,value:i}),He.lastIndex=0,He.test(i)&&(e.enums==="typescript"||e.enums==="typescript+namespace")&&(i=`_${i}`)),{comments:tr({schema:o}),key:i,value:o.const}}),typeofItems:r}},Ko=({$ref:e,context:t,plugin:r,schema:n,state:o})=>{let i=t.file({id:I}).identifier({$ref:e,create:true,namespace:"type"});if(!i.created&&!Mr(e)&&r.enums!=="typescript+namespace")return;let a=V({context:t,plugin:r,schema:{...n,type:void 0},state:o});if(a)return c.typeAliasDeclaration({comment:tr({schema:n}),exportType:true,name:i.name||"",type:a})},Qp=({$ref:e,context:t,plugin:r,schema:n,state:o})=>{let i=t.file({id:I}).identifier({$ref:e,create:true,namespace:"value"});if(!i.created&&r.enums!=="typescript+namespace")return;let a=zp({plugin:r,schema:n});return a.typeofItems.filter(m=>m!=="number"&&m!=="string").length?Ko({$ref:e,context:t,plugin:r,schema:n,state:o}):c.enumDeclaration({leadingComment:tr({schema:n}),name:i.name||"",obj:a.obj})},Wf=({context:e,namespace:t,plugin:r,schema:n,state:o})=>{if(!n.items)return c.typeArrayNode(c.keywordTypeNode({keyword:"unknown"}));n=Me({schema:n});let s=[];for(let i of n.items){let a=V({context:e,namespace:t,plugin:r,schema:i,state:o});a&&s.push(a);}return s.length===1?c.typeArrayNode(s[0]):n.logicalOperator==="and"?c.typeArrayNode(c.typeIntersectionNode({types:s})):c.typeArrayNode(c.typeUnionNode({types:s}))},Uf=({schema:e})=>e.const!==void 0?c.literalTypeNode({literal:c.ots.boolean(e.const)}):c.keywordTypeNode({keyword:"boolean"}),Qf=({$ref:e,context:t,namespace:r,plugin:n,schema:o,state:s})=>{let i=t.file({id:I}),a=e?Mr(e):false,p=a||!!n.exportInlineEnums;if(e&&p){if(!n.enums){let l=Ko({$ref:e,context:t,plugin:n,schema:o,state:s});l&&i.add(l);}if(n.enums==="javascript"){let l=Ko({$ref:e,context:t,plugin:n,schema:o,state:s});l&&i.add(l);let u=Vf({$ref:e,context:t,plugin:n,schema:o});u&&i.add(u);}if(n.enums==="typescript"){let l=Qp({$ref:e,context:t,plugin:n,schema:o,state:s});l&&i.add(l);}if(n.enums==="typescript+namespace"){let l=Qp({$ref:e,context:t,plugin:n,schema:o,state:s});l&&(a?i.add(l):r.push(l));}}return V({context:t,plugin:n,schema:{...o,type:void 0},state:s})},Xf=({context:e,schema:t})=>t.const!==void 0?c.literalTypeNode({literal:c.ots.number(t.const)}):t.type==="integer"&&t.format==="int64"&&e.config.plugins["@hey-api/transformers"]?.bigInt?c.typeReferenceNode({typeName:"bigint"}):c.keywordTypeNode({keyword:"number"}),zf=({context:e,namespace:t,plugin:r,schema:n,state:o})=>{let s,i=[],a=[],p=n.required??[],m=false,l=false;for(let u in n.properties){let f=n.properties[u];if(Kf({schema:f,state:o})){l=true;continue}let h=p.includes(u);i.push({comment:tr({schema:f}),isReadOnly:f.accessScope==="read",isRequired:h,name:Wp({context:e,name:u}),type:V({$ref:`${Ht}${u}`,context:e,namespace:t,plugin:r,schema:f,state:o})}),a.push(f),h||(m=true);}if(n.additionalProperties&&(n.additionalProperties.type!=="never"||!a.length)&&(n.additionalProperties.type==="never"?a=[n.additionalProperties]:a.unshift(n.additionalProperties),m&&a.push({type:"undefined"}),s={isRequired:true,name:"key",type:V({context:e,namespace:t,plugin:r,schema:a.length===1?a[0]:{items:a,logicalOperator:"or"},state:o})}),!(l&&!i.length&&!s))return c.typeInterfaceNode({indexProperty:s,properties:i,useLegacyResolution:false})},Gf=({context:e,schema:t})=>{if(t.const!==void 0)return c.literalTypeNode({literal:c.stringLiteral({text:t.const})});if(t.format){if(t.format==="binary")return c.typeUnionNode({types:[c.typeReferenceNode({typeName:"Blob"}),c.typeReferenceNode({typeName:"File"})]});if((t.format==="date-time"||t.format==="date")&&e.config.plugins["@hey-api/transformers"]?.dates)return c.typeReferenceNode({typeName:"Date"})}return c.keywordTypeNode({keyword:"string"})},Jf=({context:e,namespace:t,plugin:r,schema:n,state:o})=>{let s=[];if(n.const&&Array.isArray(n.const))s=n.const.map(i=>c.valueToExpression({value:i})??c.identifier({text:"unknown"}));else if(n.items)for(let i of n.items){let a=V({context:e,namespace:t,plugin:r,schema:i,state:o});a&&s.push(a);}return c.typeTupleNode({types:s})},Xp=({$ref:e,context:t,namespace:r,plugin:n,schema:o,state:s})=>{switch(o.type){case "array":return Wf({context:t,namespace:r,plugin:n,schema:o,state:s});case "boolean":return Uf({schema:o});case "enum":return Qf({$ref:e,context:t,namespace:r,plugin:n,schema:o,state:s});case "integer":case "number":return Xf({context:t,schema:o});case "never":return c.keywordTypeNode({keyword:"never"});case "null":return c.literalTypeNode({literal:c.null()});case "object":return zf({context:t,namespace:r,plugin:n,schema:o,state:s});case "string":return Gf({context:t,schema:o});case "tuple":return Jf({context:t,namespace:r,plugin:n,schema:o,state:s});case "undefined":return c.keywordTypeNode({keyword:"undefined"});case "unknown":return c.keywordTypeNode({keyword:"unknown"});case "void":return c.keywordTypeNode({keyword:"void"})}},Bo=({parameters:e})=>{let t={type:"object"};if(e){let r={},n=[];for(let o in e){let s=e[o];r[o]=Me({schema:s.schema}),s.required&&n.push(o);}t.properties=r,n.length&&(t.required=n);}return t},Zf=({context:e,operation:t,plugin:r})=>{let n=e.file({id:I}),o={type:"object"},s=[];o.properties||(o.properties={}),t.body?(o.properties.body=t.body.schema,t.body.required&&s.push("body")):o.properties.body={type:"never"},t.parameters?.header&&(o.properties.headers=Bo({parameters:t.parameters.header}),o.properties.headers.required&&s.push("headers")),t.parameters?.path?(o.properties.path=Bo({parameters:t.parameters.path}),o.properties.path.required&&s.push("path")):o.properties.path={type:"never"},t.parameters?.query?(o.properties.query=Bo({parameters:t.parameters.query}),o.properties.query.required&&s.push("query")):o.properties.query={type:"never"},o.properties.url={const:t.path,type:"string"},s.push("url"),o.required=s;let i=n.identifier({$ref:_({id:t.id,type:"data"}),create:true,namespace:"type"}),a=V({context:e,plugin:r,schema:o,state:r.readOnlyWriteOnlyBehavior==="off"?void 0:{accessScope:"write"}});if(a){let p=c.typeAliasDeclaration({exportType:true,name:i.name||"",type:a});n.add(p);}},Yf=({context:e,operation:t,plugin:r})=>{Zf({context:e,operation:t,plugin:r});let n=e.file({id:I}),{error:o,errors:s,response:i,responses:a}=yt(t);if(s){let p=n.identifier({$ref:_({id:t.id,type:"errors"}),create:true,namespace:"type"});if(p.name){let m=V({context:e,plugin:r,schema:s,state:r.readOnlyWriteOnlyBehavior==="off"?void 0:{accessScope:"read"}});if(m){let l=c.typeAliasDeclaration({exportType:true,name:p.name,type:m});n.add(l);}if(o){let l=n.identifier({$ref:_({id:t.id,type:"error"}),create:true,namespace:"type"});if(l.name){let u=c.typeReferenceNode({typeName:p.name}),f=y__default.default.factory.createTypeOperatorNode(y__default.default.SyntaxKind.KeyOfKeyword,u),d=c.typeAliasDeclaration({exportType:true,name:l.name,type:c.indexedAccessTypeNode({indexType:f,objectType:u})});n.add(d);}}}}if(a){let p=n.identifier({$ref:_({id:t.id,type:"responses"}),create:true,namespace:"type"});if(p.name){let m=V({context:e,plugin:r,schema:a,state:r.readOnlyWriteOnlyBehavior==="off"?void 0:{accessScope:"read"}});if(m){let l=c.typeAliasDeclaration({exportType:true,name:p.name,type:m});n.add(l);}if(i){let l=n.identifier({$ref:_({id:t.id,type:"response"}),create:true,namespace:"type"});if(l.name){let u=c.typeReferenceNode({typeName:p.name}),f=y__default.default.factory.createTypeOperatorNode(y__default.default.SyntaxKind.KeyOfKeyword,u),d=c.typeAliasDeclaration({exportType:true,name:l.name,type:c.indexedAccessTypeNode({indexType:f,objectType:u})});n.add(d);}}}}},Gp=({schema:e})=>{let t=e.accessScopes;return t!==void 0&&t.length>1},Vo=({accessScope:e,schema:t})=>{let r=t.accessScopes;return !r||r!==void 0&&(r.includes(e)||r.includes("both"))},V=({$ref:e,context:t,namespace:r=[],plugin:n,schema:o,state:s})=>{let i=t.file({id:I}),a;if(o.$ref){let p=t.resolveIrRef(o.$ref);if(!s?.accessScope||Vo({accessScope:s.accessScope,schema:p})){let m=Ho({$ref:o.$ref,accessScope:Gp({schema:p})?s?.accessScope:void 0,plugin:n}),l=i.identifier({$ref:m,create:true,namespace:"type"});a=c.typeReferenceNode({typeName:l.name||""});}}else if(o.type)a=Xp({$ref:e,context:t,namespace:r,plugin:n,schema:o,state:s});else if(o.items)if(o=Me({schema:o}),o.items){let p=[];for(let m of o.items){let l=V({context:t,namespace:r,plugin:n,schema:m,state:s});l&&p.push(l);}a=o.logicalOperator==="and"?c.typeIntersectionNode({types:p}):c.typeUnionNode({types:p});}else a=V({context:t,namespace:r,plugin:n,schema:o,state:s});else a=Xp({context:t,namespace:r,plugin:n,schema:{type:"unknown"},state:s});if(e&&Mr(e)){if(r.length){let p=i.identifier({$ref:e,create:true,namespace:"value"}),m=c.namespaceDeclaration({name:p.name||"",statements:r});i.add(m);}if(o.type!=="enum"&&a){let p=i.identifier({$ref:e,create:true,namespace:"type"}),m=c.typeAliasDeclaration({comment:tr({schema:o}),exportType:true,name:p.name||"",type:a});i.add(m);}}return a},Jp=({context:e,plugin:t})=>{let n=e.createFile({exportFromIndex:t.exportFromIndex,id:I,identifierCase:t.identifierCase,path:t.output}).identifier({$ref:"ClientOptions",create:true,namespace:"type"});e.subscribe("schema",({$ref:s,schema:i})=>{if(t.readOnlyWriteOnlyBehavior==="off"||!Gp({schema:i})){V({$ref:s,context:e,plugin:t,schema:i,state:void 0});return}Vo({accessScope:"read",schema:i})&&V({$ref:Ho({$ref:s,accessScope:"read",plugin:t}),context:e,plugin:t,schema:i,state:{accessScope:"read"}}),Vo({accessScope:"write",schema:i})&&V({$ref:Ho({$ref:s,accessScope:"write",plugin:t}),context:e,plugin:t,schema:i,state:{accessScope:"write"}});}),e.subscribe("parameter",({$ref:s,parameter:i})=>{V({$ref:s,context:e,plugin:t,schema:i.schema,state:void 0});}),e.subscribe("requestBody",({$ref:s,requestBody:i})=>{V({$ref:s,context:e,plugin:t,schema:i.schema,state:t.readOnlyWriteOnlyBehavior==="off"?void 0:{accessScope:"write"}});}),e.subscribe("operation",({operation:s})=>{Yf({context:e,operation:s,plugin:t});});let o=[];e.subscribe("server",({server:s})=>{o.push(s);}),e.subscribe("after",()=>{Up({context:e,identifier:n,servers:o});});};var Wo={_handler:Jp,_handlerLegacy:Lp,enums:false,enumsCase:"SCREAMING_SNAKE_CASE",exportFromIndex:true,exportInlineEnums:false,identifierCase:"PascalCase",name:"@hey-api/typescript",output:"types",readOnlyWriteOnlyBehavior:"split",readableNameBuilder:"{{name}}Readable",style:"preserve",tree:false,writableNameBuilder:"{{name}}Writable"};var ht=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return Rn({context:e,file:n,operation:t})},In=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name}),s={asType:true,name:yn({context:e,file:n,operation:t}).name||""};if(s.name||(s=n.import({asType:true,module:r.name,name:"DefaultError"})),P(e.config).name==="@hey-api/client-axios"){let a=n.import({asType:true,module:"axios",name:"AxiosError"});s={...a,name:`${a.name}<${s.name}>`};}return s},An=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return At({context:e,file:n,operation:t}).name||"unknown"};var Yp="createQueryKey",En="QueryKey",Rr="TOptions",Zp=c.identifier({text:"infinite"}),vn=c.identifier({text:"options"}),jn=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=r.identifier({$ref:`#/ir/${Yp}`,create:true,namespace:"value"});if(n.name){let o=c.indexedAccessTypeNode({indexType:c.literalTypeNode({literal:c.ots.number(0)}),objectType:c.typeReferenceNode({typeArguments:[c.typeReferenceNode({typeName:Rr})],typeName:En})}),s=c.constVariable({expression:c.arrowFunction({multiLine:true,parameters:[{name:"id",type:c.typeReferenceNode({typeName:"string"})},{isRequired:false,name:"options",type:c.typeReferenceNode({typeName:Rr})},{isRequired:false,name:"infinite",type:c.typeReferenceNode({typeName:"boolean"})}],returnType:c.typeTupleNode({types:[o]}),statements:[c.constVariable({assertion:o,expression:c.objectExpression({multiLine:false,obj:[{key:"_id",value:c.identifier({text:"id"})},{key:le(e.config),value:c.identifier({text:`(options?.client ?? _heyApiClient).getConfig().${le(e.config)}`})}]}),name:"params",typeName:o}),c.ifStatement({expression:Zp,thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"_infinite"}),right:Zp})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:vn,isOptional:true,name:c.identifier({text:"body"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"body"}),right:c.propertyAccessExpression({expression:"options",name:"body"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:vn,isOptional:true,name:c.identifier({text:"headers"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"headers"}),right:c.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:vn,isOptional:true,name:c.identifier({text:"path"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"path"}),right:c.propertyAccessExpression({expression:"options",name:"path"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:vn,isOptional:true,name:c.identifier({text:"query"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"query"}),right:c.propertyAccessExpression({expression:"options",name:"query"})})})]})}),c.returnStatement({expression:c.arrayLiteralExpression({elements:[c.identifier({text:"params"})]})})],types:[{extends:c.typeReferenceNode({typeName:c.identifier({text:L.Options.name})}),name:Rr}]}),name:n.name});r.add(s);}},ed=({context:e,id:t,isInfinite:r,plugin:n})=>{let s=e.file({id:n.name}).identifier({$ref:`#/ir/${Yp}`,namespace:"value"});return c.callExpression({functionName:s.name||"",parameters:[c.ots.string(t),"options",r?c.ots.boolean(true):void 0]})},qn=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=[{name:"_id",type:c.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:c.keywordTypeNode({keyword:"boolean"})}],o=c.typeAliasDeclaration({exportType:true,name:En,type:c.typeTupleNode({types:[c.typeIntersectionNode({types:[c.typeReferenceNode({typeName:`Pick<${Rr}, '${le(e.config)}' | 'body' | 'headers' | 'path' | 'query'>`}),c.typeInterfaceNode({properties:n,useLegacyResolution:true})]})]}),typeParameters:[{extends:c.typeReferenceNode({typeName:c.identifier({text:L.Options.name})}),name:Rr}]});r.add(o);},Sr=({context:e,isInfinite:t,operation:r})=>`${F({config:e.config,id:r.id,operation:r})}${t?"Infinite":""}QueryKey`,kn=({context:e,isInfinite:t,operation:r,plugin:n,typeQueryKey:o})=>{let s=e.file({id:n.name}),i=ht({context:e,operation:r,plugin:n}),a=Sr({context:e,isInfinite:t,operation:r}),p=s.identifier({$ref:`#/queryKey/${a}`,create:true,namespace:"value"});return c.constVariable({exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:et(r),name:"options",type:i}],returnType:t?o:void 0,statements:ed({context:e,id:r.id,isInfinite:t,plugin:n})}),name:p.name||""})};var tc="createInfiniteParams",ec="infiniteQueryOptions",rd=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=c.constVariable({expression:c.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:c.typeReferenceNode({typeName:`QueryKey<${L.Options.name}>`})},{name:"page",type:c.typeReferenceNode({typeName:"K"})}],statements:[c.constVariable({expression:c.identifier({text:"queryKey[0]"}),name:"params"}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"body"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"body"}),right:c.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"headers"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"headers"}),right:c.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"path"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"path"}),right:c.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].path"},{assertion:"any",spread:"page.path"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"query"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"query"}),right:c.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].query"},{assertion:"any",spread:"page.query"}]})})})]})}),c.returnVariable({expression:c.asExpression({expression:c.asExpression({expression:c.identifier({text:"params"}),type:c.keywordTypeNode({keyword:"unknown"})}),type:y__default.default.factory.createTypeQueryNode(c.identifier({text:"page"}))})})],types:[{extends:c.typeReferenceNode({typeName:c.identifier({text:`Pick<QueryKey<${L.Options.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:tc});r.add(n);},nd=({context:e,operation:t})=>`${F({config:e.config,id:t.id,operation:t})}InfiniteOptions`,rc=({context:e,operation:t,plugin:r,queryFn:n,state:o})=>{if(!r.infiniteQueryOptions||!["get","post"].includes(t.method))return o;let s=hp({context:e,operation:t});if(!s)return o;let i=e.file({id:r.name}),a=et(t);o.hasInfiniteQueries||(o.hasInfiniteQueries=true,o.hasCreateQueryKeyParamsFunction||(qn({context:e,plugin:r}),jn({context:e,plugin:r}),o.hasCreateQueryKeyParamsFunction=true),o.hasCreateInfiniteParamsFunction||(rd({context:e,plugin:r}),o.hasCreateInfiniteParamsFunction=true),i.import({module:r.name,name:ec}),o.typeInfiniteData=i.import({asType:true,module:r.name,name:"InfiniteData"})),o.hasUsedQueryFn=true;let p=ht({context:e,operation:t,plugin:r}),m=In({context:e,operation:t,plugin:r}),l=An({context:e,operation:t,plugin:r}),u=`${En}<${p}>`,f=`Pick<${u}[0], 'body' | 'headers' | 'path' | 'query'>`,d=V({context:e,plugin:e.config.plugins["@hey-api/typescript"],schema:s.schema,state:void 0}),h=d?`${Pe({node:d,unescape:true})} | ${f}`:`${f}`,x=kn({context:e,isInfinite:true,operation:t,plugin:r,typeQueryKey:u});i.add(x);let O=Sr({context:e,isInfinite:true,operation:t}),R=i.identifier({$ref:`#/queryKey/${O}`,namespace:"value"}),v=c.constVariable({comment:[],exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:a,name:"options",type:p}],statements:[c.returnFunctionCall({args:[c.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[c.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:c.conditionalExpression({condition:c.binaryExpression({left:c.typeOfExpression({text:"pageParam"}),operator:"===",right:c.ots.string("object")}),whenFalse:c.objectExpression({multiLine:true,obj:[{key:s.in,value:c.objectExpression({multiLine:true,obj:[{key:s.name,value:c.identifier({text:"pageParam"})}]})}]}),whenTrue:c.identifier({text:"pageParam"})}),name:"page",typeName:f}),c.constVariable({expression:c.callExpression({functionName:tc,parameters:["queryKey","page"]}),name:"params"}),c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:n,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:c.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})},{key:"queryKey",value:c.callExpression({functionName:R.name||"",parameters:["options"]})}]})],name:ec,types:[l,m.name,`${typeof o.typeInfiniteData=="string"?o.typeInfiniteData:o.typeInfiniteData.name}<${l}>`,u,h]})]}),name:nd({context:e,operation:t})});i.add(v);};var nc="mutationOptions",od=({context:e,operation:t})=>`${F({config:e.config,id:t.id,operation:t})}Mutation`,oc=({context:e,operation:t,plugin:r,queryFn:n,state:o})=>{if(!r.mutationOptions||!["delete","patch","post","put"].includes(t.method))return o;let s=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",i=e.file({id:r.name});o.hasMutations||(o.hasMutations=true,i.import({asType:true,module:r.name,name:s})),o.hasUsedQueryFn=true;let a=ht({context:e,operation:t,plugin:r}),p=In({context:e,operation:t,plugin:r}),m=An({context:e,operation:t,plugin:r}),l=`${s}<${m}, ${p.name}, ${a}>`,u=c.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${a}>`}],returnType:l,statements:[c.constVariable({expression:c.objectExpression({obj:[{key:"mutationFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:[c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:n,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})}]}),name:nc,typeName:l}),c.returnVariable({expression:nc})]}),f=c.constVariable({comment:[],exportConst:true,expression:u,name:od({context:e,operation:t})});return i.add(f),o};var sc="queryOptions",sd=({context:e,operation:t})=>`${F({config:e.config,id:t.id,operation:t})}Options`,ic=({context:e,operation:t,plugin:r,queryFn:n,state:o})=>{if(!r.queryOptions||!["get","post"].includes(t.method))return o;let s=e.file({id:r.name}),i=et(t);o.hasQueries||(o.hasQueries=true,o.hasCreateQueryKeyParamsFunction||(qn({context:e,plugin:r}),jn({context:e,plugin:r}),o.hasCreateQueryKeyParamsFunction=true),s.import({module:r.name,name:sc})),o.hasUsedQueryFn=true;let a=kn({context:e,isInfinite:false,operation:t,plugin:r});s.add(a);let p=ht({context:e,operation:t,plugin:r}),m=Sr({context:e,isInfinite:false,operation:t}),l=s.identifier({$ref:`#/queryKey/${m}`,namespace:"value"}),u=c.constVariable({comment:[],exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:i,name:"options",type:p}],statements:[c.returnFunctionCall({args:[c.objectExpression({obj:[{key:"queryFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:n,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:c.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})},{key:"queryKey",value:c.callExpression({functionName:l.name||"",parameters:["options"]})}]})],name:sc})]}),name:sd({context:e,operation:t})});return s.add(u),o};var Le=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:t.name,path:t.output}),n={hasCreateInfiniteParamsFunction:false,hasCreateQueryKeyParamsFunction:false,hasInfiniteQueries:false,hasMutations:false,hasQueries:false,hasUsedQueryFn:false,typeInfiniteData:void 0};e.subscribe("before",()=>{r.import({...L.Options,module:r.relativePathToFile({context:e,id:Or})});}),e.subscribe("operation",({operation:o})=>{n.hasUsedQueryFn=false;let s=[e.config.plugins["@hey-api/sdk"]?.asClass&&$e({config:e.config,name:fr(o.tags?.[0]||"default")}),F({config:e.config,handleIllegal:!e.config.plugins["@hey-api/sdk"]?.asClass,id:o.id,operation:o})].filter(Boolean).join(".");ic({context:e,operation:o,plugin:t,queryFn:s,state:n}),rc({context:e,operation:o,plugin:t,queryFn:s,state:n}),oc({context:e,operation:o,plugin:t,queryFn:s,state:n}),n.hasUsedQueryFn&&r.import({module:r.relativePathToFile({context:e,id:Or}),name:s.split(".")[0]});}),e.subscribe("after",()=>{(n.hasQueries||n.hasInfiniteQueries)&&r.import({alias:"_heyApiClient",module:r.relativePathToFile({context:e,id:Te}),name:"client"});});};var id=e=>`${F({config:b(),id:e.name,operation:e})}InfiniteOptions`,ad=e=>`${F({config:b(),id:e.name,operation:e})}Mutation`,pd=({config:e,id:t,operation:r})=>`${F({config:e,id:t,operation:r})}Options`,Nn=({config:e,id:t,isInfinite:r,operation:n})=>`${F({config:e,id:t,operation:n})}${r?"Infinite":""}QueryKey`,cd=e=>{switch(e.in){case "formData":return "body";case "header":return "headers";default:return e.in}},md="createInfiniteParams",yc="createQueryKey",ac="infiniteQueryOptions",pc="mutationOptions",Qo="QueryKey",cc="queryOptions",Tr="TOptions",ld=({file:e})=>{let t=c.constVariable({expression:c.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:c.typeNode(`QueryKey<${L.OptionsLegacyParser.name}>`)},{name:"page",type:c.typeNode("K")}],statements:[c.constVariable({expression:c.identifier({text:"queryKey[0]"}),name:"params"}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"body"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"body"}),right:c.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"headers"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"headers"}),right:c.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"path"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"path"}),right:c.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].path"},{spread:"page.path"}]})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"page"}),name:c.identifier({text:"query"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"query"}),right:c.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].query"},{spread:"page.query"}]})})})]})}),c.returnVariable({expression:y__default.default.factory.createAsExpression(y__default.default.factory.createAsExpression(c.identifier({text:"params"}),y__default.default.factory.createKeywordTypeNode(y__default.default.SyntaxKind.UnknownKeyword)),y__default.default.factory.createTypeQueryNode(c.identifier({text:"page"})))})],types:[{extends:c.typeReferenceNode({typeName:c.identifier({text:`Pick<QueryKey<${L.OptionsLegacyParser.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:md});e.add(t);},mc=({file:e})=>{let t=c.indexedAccessTypeNode({indexType:c.typeNode(0),objectType:c.typeNode(Qo,[c.typeNode(Tr)])}),r=c.identifier({text:"infinite"}),n=c.constVariable({expression:c.arrowFunction({multiLine:true,parameters:[{name:"id",type:c.typeNode("string")},{isRequired:false,name:"options",type:c.typeNode(Tr)},{isRequired:false,name:"infinite",type:c.typeNode("boolean")}],returnType:t,statements:[c.constVariable({assertion:t,expression:c.objectExpression({multiLine:false,obj:[{key:"_id",value:c.identifier({text:"id"})},{key:le(b()),value:c.identifier({text:`(options?.client ?? _heyApiClient).getConfig().${le(b())}`})}]}),name:"params",typeName:t}),c.ifStatement({expression:r,thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"_infinite"}),right:r})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"options"}),isOptional:true,name:c.identifier({text:"body"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"body"}),right:c.propertyAccessExpression({expression:"options",name:"body"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"options"}),isOptional:true,name:c.identifier({text:"headers"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"headers"}),right:c.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"options"}),isOptional:true,name:c.identifier({text:"path"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"path"}),right:c.propertyAccessExpression({expression:"options",name:"path"})})})]})}),c.ifStatement({expression:c.propertyAccessExpression({expression:c.identifier({text:"options"}),isOptional:true,name:c.identifier({text:"query"})}),thenStatement:c.block({statements:[c.expressionToStatement({expression:c.binaryExpression({left:c.propertyAccessExpression({expression:"params",name:"query"}),right:c.propertyAccessExpression({expression:"options",name:"query"})})})]})}),c.returnVariable({expression:"params"})],types:[{extends:c.typeReferenceNode({typeName:c.identifier({text:L.OptionsLegacyParser.name})}),name:Tr}]}),name:yc});e.add(n);},lc=({file:e})=>{let t=[{name:"_id",type:c.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:c.keywordTypeNode({keyword:"boolean"})}],r=c.typeAliasDeclaration({name:Qo,type:c.typeTupleNode({types:[c.typeIntersectionNode({types:[c.typeReferenceNode({typeName:`Pick<${Tr}, '${le(b())}' | 'body' | 'headers' | 'path' | 'query'>`}),c.typeInterfaceNode({properties:t,useLegacyResolution:true})]})]}),typeParameters:[{extends:c.typeReferenceNode({typeName:c.identifier({text:L.OptionsLegacyParser.name})}),name:Tr}]});e.add(r);},Uo=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:o}=Et({client:e,meta:r.parameters.length?{$ref:r.name,name:r.name}:void 0,nameTransformer:jt,onImport:i=>{t.import({asType:true,module:n,name:i});}});return {typeData:Fo({importedType:o})}},uc=({client:e,file:t,operation:r,pluginName:n,typesModulePath:o})=>{let s=b(),{name:i}=Et({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:er,onImport:m=>{t.import({asType:true,module:o,name:m});}}),a={asType:true,name:i};if(a.name||(a=t.import({asType:true,module:n,name:"DefaultError"})),P(s).name==="@hey-api/client-axios"){let m=t.import({asType:true,module:"axios",name:"AxiosError"});a={...m,name:`${m.name}<${a.name}>`};}return {typeError:a}},fc=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:o}=Et({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:Fe,onImport:i=>{t.import({asType:true,module:n,name:i});}});return {typeResponse:o||"void"}},dc=({id:e,isInfinite:t})=>c.arrayLiteralExpression({elements:[c.callExpression({functionName:yc,parameters:[c.ots.string(e),"options",t?c.ots.boolean(true):void 0]})],multiLine:false}),_e=({client:e,files:t,plugin:r})=>{let n=b();if(j(n))throw new Error("\u{1F6AB} TanStack Query plugin does not support legacy clients");let o=t[r.name];o.import({...L.OptionsLegacyParser,module:U({config:n,sourceOutput:r.output})});let s=Lt({moduleOutput:t.types.nameWithoutExtension(),sourceOutput:r.output}),i=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",a,p=false,m=false,l=false,u=false,f=false,d=new Map;for(let h of e.services)for(let x of h.operations){let O=ut(x);if(d.has(O))continue;d.set(O,true);let R=[n.plugins["@hey-api/sdk"]?.asClass&&$e({config:n,name:h.name}),F({config:n,handleIllegal:!n.plugins["@hey-api/sdk"]?.asClass,id:x.name,operation:x})].filter(Boolean).join("."),v=false;if(r.queryOptions&&["GET","POST"].includes(x.method)){f||(f=true,m||(lc({file:o}),mc({file:o}),m=true),o.import({module:r.name,name:cc})),v=true;let{typeData:X}=Uo({client:e,file:o,operation:x,typesModulePath:s}),Ce=De(x.parameters),W=c.constVariable({exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:Ce,name:"options",type:X}],statements:dc({id:x.name})}),name:Nn({config:n,id:x.name,operation:x})});o.add(W);let H=c.constVariable({comment:[],exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:Ce,name:"options",type:X}],statements:[c.returnFunctionCall({args:[c.objectExpression({obj:[{key:"queryFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:R,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:c.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})},{key:"queryKey",value:c.callExpression({functionName:Nn({config:n,id:x.name,operation:x}),parameters:["options"]})}]})],name:cc})]}),name:pd({config:n,id:x.name,operation:x})});o.add(H);}if(r.infiniteQueryOptions&&["GET","POST"].includes(x.method)){let X,Ce=x.parameters.find(W=>{if(pe(n.input.pagination).test(W.name))return X=W,true;if(W.in==="body"){if(W.export==="reference"){let Be=W.$refs[0];return e.models.find(nt=>nt.meta?.$ref===Be)?.properties.find(nt=>{if(pe(n.input.pagination).test(nt.name))return X=nt,true})}return W.properties.find(Be=>{if(pe(n.input.pagination).test(Be.name))return X=Be,true})}});if(Ce&&X){l||(l=true,m||(lc({file:o}),mc({file:o}),m=true),p||(ld({file:o}),p=true),o.import({module:r.name,name:ac}),a=o.import({asType:true,module:r.name,name:"InfiniteData"})),v=true;let{typeData:W}=Uo({client:e,file:o,operation:x,typesModulePath:s}),{typeError:H}=uc({client:e,file:o,operation:x,pluginName:r.name,typesModulePath:s}),{typeResponse:Be}=fc({client:e,file:o,operation:x,typesModulePath:s}),Pr=De(x.parameters),nt=`${Qo}<${W}>`,wn=`Pick<${nt}[0], 'body' | 'headers' | 'path' | 'query'>`,lm=`${X.base} | ${wn}`,um=c.constVariable({exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:Pr,name:"options",type:W}],returnType:nt,statements:dc({id:x.name,isInfinite:true})}),name:Nn({config:n,id:x.name,isInfinite:true,operation:x})});o.add(um);let fm=c.constVariable({comment:[],exportConst:true,expression:c.arrowFunction({parameters:[{isRequired:Pr,name:"options",type:W}],statements:[c.returnFunctionCall({args:[c.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[c.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:c.conditionalExpression({condition:c.binaryExpression({left:c.typeOfExpression({text:"pageParam"}),operator:"===",right:c.ots.string("object")}),whenFalse:c.objectExpression({multiLine:true,obj:[{key:cd(Ce),value:c.objectExpression({multiLine:true,obj:[{key:X.name,value:c.identifier({text:"pageParam"})}]})}]}),whenTrue:c.identifier({text:"pageParam"})}),name:"page",typeName:wn}),c.constVariable({expression:c.callExpression({functionName:"createInfiniteParams",parameters:["queryKey","page"]}),name:"params"}),c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:R,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:c.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})},{key:"queryKey",value:c.callExpression({functionName:Nn({config:n,id:x.name,isInfinite:true,operation:x}),parameters:["options"]})}]})],name:ac,types:[Be,H.name,`${typeof a=="string"?a:a.name}<${Be}>`,nt,lm]})]}),name:id(x)});o.add(fm);}}if(r.mutationOptions&&["DELETE","PATCH","POST","PUT"].includes(x.method)){u||(u=true,o.import({asType:true,module:r.name,name:i})),v=true;let{typeData:X}=Uo({client:e,file:o,operation:x,typesModulePath:s}),{typeError:Ce}=uc({client:e,file:o,operation:x,pluginName:r.name,typesModulePath:s}),{typeResponse:W}=fc({client:e,file:o,operation:x,typesModulePath:s}),H=c.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${X}>`}],statements:[c.constVariable({expression:c.objectExpression({obj:[{key:"mutationFn",value:c.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:[c.constVariable({destructure:true,expression:c.awaitExpression({expression:c.callExpression({functionName:R,parameters:[c.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),name:"data"}),c.returnVariable({expression:"data"})]})}]}),name:pc,typeName:`${i}<${W}, ${Ce.name}, ${X}>`}),c.returnVariable({expression:pc})]}),Be=c.constVariable({comment:[],exportConst:true,expression:H,name:ad(x)});o.add(Be);}(f||l)&&o.import({alias:"_heyApiClient",module:Lt({moduleOutput:t.client.nameWithoutExtension(),sourceOutput:r.output}),name:"client"}),v&&o.import({module:Lt({moduleOutput:t.sdk.nameWithoutExtension(),sourceOutput:r.output}),name:R.split(".")[0]});}};var Xo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:Le,_handlerLegacy:_e,exportFromIndex:false,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/angular-query-experimental",output:"@tanstack/angular-query-experimental",queryOptions:true};var zo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:Le,_handlerLegacy:_e,exportFromIndex:false,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/react-query",output:"@tanstack/react-query",queryOptions:true};var Go={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:Le,_handlerLegacy:_e,exportFromIndex:false,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/solid-query",output:"@tanstack/solid-query",queryOptions:true};var Jo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:Le,_handlerLegacy:_e,exportFromIndex:false,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/svelte-query",output:"@tanstack/svelte-query",queryOptions:true};var Zo={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:Le,_handlerLegacy:_e,exportFromIndex:false,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/vue-query",output:"@tanstack/vue-query",queryOptions:true};var gc="fastify",ud=({context:e,operation:t})=>{let r=e.file({id:gc}),n=e.file({id:I}),o=[],s=n.identifier({$ref:_({id:t.id,type:"data"}),namespace:"type"});s.name&&(t.body&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:s.name}),o.push({isRequired:t.body.required,name:"Body",type:`${s.name}['body']`})),t.parameters&&(t.parameters.header&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:s.name}),o.push({isRequired:dt(t.parameters.header),name:"Headers",type:`${s.name}['headers']`})),t.parameters.path&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:s.name}),o.push({isRequired:dt(t.parameters.path),name:"Params",type:`${s.name}['path']`})),t.parameters.query&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:s.name}),o.push({isRequired:dt(t.parameters.query),name:"Querystring",type:`${s.name}['query']`}))));let{errors:i,responses:a}=yt(t),p,m=n.identifier({$ref:_({id:t.id,type:"errors"}),namespace:"type"});if(m.name&&i&&i.properties){let h=Object.keys(i.properties);if(h.length){if(!h.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:m.name}),p=c.typeReferenceNode({typeName:m.name});else if(h.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:m.name});let O=c.typeReferenceNode({typeName:m.name}),R=c.literalTypeNode({literal:c.stringLiteral({text:"default"})});p=c.typeReferenceNode({typeArguments:[O,R],typeName:"Omit"});}}}let l,u=n.identifier({$ref:_({id:t.id,type:"responses"}),namespace:"type"});if(u.name&&a&&a.properties){let h=Object.keys(a.properties);if(h.length){if(!h.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:u.name}),l=c.typeReferenceNode({typeName:u.name});else if(h.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:I}),name:u.name});let O=c.typeReferenceNode({typeName:u.name}),R=c.literalTypeNode({literal:c.stringLiteral({text:"default"})});l=c.typeReferenceNode({typeArguments:[O,R],typeName:"Omit"});}}}let f=[p,l].filter(Boolean);return f.length&&o.push({name:"Reply",type:c.typeIntersectionNode({types:f})}),o.length?{name:t.id,type:c.typeNode("RouteHandler",[c.typeInterfaceNode({properties:o,useLegacyResolution:false})])}:void 0},hc=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:gc,path:t.output}),n=[];e.subscribe("operation",({operation:o})=>{let s=ud({context:e,operation:o});s&&n.push(s);}),e.subscribe("after",()=>{let o=r.identifier({$ref:"RouteHandlers",create:true,namespace:"type"});o.name&&(n.length&&r.import({asType:true,module:"fastify",name:"RouteHandler"}),r.add(c.typeAliasDeclaration({exportType:true,name:o.name,type:c.typeInterfaceNode({properties:n,useLegacyResolution:false})})));});};var Yo={_dependencies:["@hey-api/typescript"],_handler:hc,_handlerLegacy:()=>{},exportFromIndex:false,name:"fastify",output:"fastify"};var es={_handler:Sp,_handlerLegacy:()=>{},_tags:["validator"],exportFromIndex:false,name:"zod",output:"zod"};var $n={"@hey-api/client-axios":bo,"@hey-api/client-fetch":Oo,"@hey-api/client-next":Ro,"@hey-api/client-nuxt":So,"@hey-api/schemas":qo,"@hey-api/sdk":Lo,"@hey-api/transformers":_o,"@hey-api/typescript":Wo,"@tanstack/angular-query-experimental":Xo,"@tanstack/react-query":zo,"@tanstack/solid-query":Go,"@tanstack/svelte-query":Jo,"@tanstack/vue-query":Zo,fastify:Yo,"legacy/angular":Co,"legacy/axios":To,"legacy/fetch":Po,"legacy/node":Io,"legacy/xhr":Ao,zod:es};var ts=["@hey-api/typescript","@hey-api/sdk"],yd=e=>{let t={path:""};return typeof e.input=="string"?t.path=e.input:e.input&&(e.input.path||e.input.organization)?t={...t,path:"https://get.heyapi.dev",...e.input}:t={...t,path:e.input},t},gd=({pluginConfigs:e,userPlugins:t,userPluginsConfig:r})=>{let n=new Set,o=new Set,s={},i=a=>{if(n.has(a))throw new Error(`Circular reference detected at '${a}'`);if(!o.has(a)){if(n.add(a),!e[a])throw new Error(`\u{1F6AB} unknown plugin dependency "${a}" - do you need to register a custom plugin with this name?`);let m=$n[a],l=r[a];if(l&&m){let f=Object.keys(l).find(d=>d.startsWith("_"));if(f)throw new Error(`\u{1F6AB} cannot register plugin "${a}" - attempting to override a native plugin option "${f}"`)}let u={_dependencies:[],...m,...l};if(u._infer){let f={ensureDependency:d=>{typeof d=="string"&&!u._dependencies.includes(d)&&(u._dependencies=[...u._dependencies,d]);},pluginByTag:(d,h)=>{for(let x of t){let O=$n[x]||e[x];if(O&&O._tags?.includes(d)&&x!==a)return x}throw new Error(h||`\u{1F6AB} missing plugin - no plugin with tag "${d}" found`)}};u._infer(u,f);}for(let f of u._dependencies)i(f);n.delete(a),o.add(a),s[a]=u;}};for(let a of t)i(a);return {pluginOrder:Array.from(o),plugins:s}},hd=e=>{let t={clean:true,format:false,indexFile:true,lint:false,path:""};return typeof e.output=="string"?t.path=e.output:t={...t,...e.output},t},xd=e=>typeof e=="string"?e.startsWith("@hey-api/client")||e.startsWith("legacy/"):e.name.startsWith("@hey-api/client")||e.name.startsWith("legacy/")||e._tags&&e._tags.includes("client"),bd=e=>{let t={},r=ts;e.plugins&&(e.plugins=e.plugins.filter(o=>typeof o=="string"&&o||typeof o!="string"&&o.name),e.plugins.length===1&&xd(e.plugins[0])?r=[...ts,...e.plugins]:r=e.plugins);let n=r.map(o=>typeof o=="string"?o:(o.name&&(t[o.name]=o),o.name)).filter(Boolean);return gd({pluginConfigs:{...t,...$n},userPlugins:n,userPluginsConfig:t})},Od=e=>{let t={enabled:false,interval:1e3,timeout:6e4};return typeof e.input.path!="string"||(typeof e.watch=="boolean"?t.enabled=e.watch:typeof e.watch=="number"?(t.enabled=true,t.interval=e.watch):e.watch&&(t={...t,...e.watch})),t},xc=async e=>{let t;if(e?.configFile){let o=e.configFile.split(".");t=o.slice(0,o.length-1).join(".");}let{config:r}=await c12.loadConfig({configFile:t,name:"openapi-ts"});return (Array.isArray(e)?e:Array.isArray(r)?r.map(o=>({...o,...e})):[{...r??{},...e}]).map(o=>{let{base:s,configFile:i="",dryRun:a=false,experimentalParser:p=true,exportCore:m=true,name:l,request:u,useOptions:f=true}=o,d=dn(o);d.level==="debug"&&console.warn("userConfig:",o);let h=yd(o),x=hd(o);if(!h.path)throw new Error("\u{1F6AB} missing input - which OpenAPI specification should we use to generate your output?");if(!x.path)throw new Error("\u{1F6AB} missing output - where should we generate your output?");f||console.warn("\u2757\uFE0F Deprecation warning: useOptions set to false. This setting will be removed in future versions. Please migrate useOptions to true https://heyapi.dev/openapi-ts/migrating.html#v0-27-38"),x.path=re__default.default.resolve(process.cwd(),x.path);let O=ps({...bd(o),base:s,configFile:i,dryRun:a,experimentalParser:p,exportCore:false,input:h,logs:d,name:l,output:x,request:u,useOptions:f,watch:Od({...o,input:h})});return O.exportCore=j(O)?m:false,d.level==="debug"&&console.warn("config:",O),O})};var bc={1:function(e,t,r,n,o){return `import { NgModule} from '@angular/core';
import { HttpClientModule } from '@angular/common/http';

import { AngularHttpRequest } from './core/AngularHttpRequest';
import { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { OpenAPI } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
`},3:function(e,t,r,n,o){var s,i=e.strict,a=e.lambda;return `import type { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
import { `+((s=a(i(t,"httpRequest",{start:{line:14,column:12},end:{line:14,column:23}}),t))!=null?s:"")+" } from './core/"+((s=a(i(t,"httpRequest",{start:{line:14,column:45},end:{line:14,column:56}}),t))!=null?s:"")+`';
`},5:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return (s=i(r,"each").call(t??(e.nullContext||{}),i(t,"services"),{name:"each",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:0},end:{line:20,column:9}}}))!=null?s:""},6:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return "import { "+((s=i(r,"transformServiceName").call(t??(e.nullContext||{}),i(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:19,column:9},end:{line:19,column:40}}}))!=null?s:"")+` } from './sdk.gen';
`},8:function(e,t,r,n,o){var s,i=e.strict,a=e.lambda,p=e.lookupProperty||function(m,l){if(Object.prototype.hasOwnProperty.call(m,l))return m[l]};return `@NgModule({
	imports: [HttpClientModule],
	providers: [
		{
			provide: OpenAPI,
			useValue: {
				BASE: OpenAPI?.BASE ?? '`+((s=a(i(t,"server",{start:{line:30,column:31},end:{line:30,column:37}}),t))!=null?s:"")+`',
				VERSION: OpenAPI?.VERSION ?? '`+((s=a(i(t,"version",{start:{line:31,column:37},end:{line:31,column:44}}),t))!=null?s:"")+`',
				WITH_CREDENTIALS: OpenAPI?.WITH_CREDENTIALS ?? false,
				CREDENTIALS: OpenAPI?.CREDENTIALS ?? 'include',
				TOKEN: OpenAPI?.TOKEN,
				USERNAME: OpenAPI?.USERNAME,
				PASSWORD: OpenAPI?.PASSWORD,
				HEADERS: OpenAPI?.HEADERS,
				ENCODE_PATH: OpenAPI?.ENCODE_PATH,
				interceptors: {
					response: OpenAPI?.interceptors?.response ?? new Interceptors(),
				},
			} as OpenAPIConfig,
		},
		{
			provide: BaseHttpRequest,
			useClass: AngularHttpRequest,
		},
`+((s=p(r,"each").call(t??(e.nullContext||{}),p(t,"services"),{name:"each",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:48,column:2},end:{line:50,column:11}}}))!=null?s:"")+`	]
})
export class `+((s=a(i(p(p(o,"root"),"$config"),"name",{start:{line:53,column:16},end:{line:53,column:34}}),t))!=null?s:"")+` {}
`},9:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return "		"+((s=i(r,"transformServiceName").call(t??(e.nullContext||{}),i(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:49,column:2},end:{line:49,column:33}}}))!=null?s:"")+`,
`},11:function(e,t,r,n,o){var s,i=e.strict,a=e.lambda,p=t??(e.nullContext||{}),m=e.lookupProperty||function(l,u){if(Object.prototype.hasOwnProperty.call(l,u))return l[u]};return `type HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;

export class `+((s=a(i(m(m(o,"root"),"$config"),"name",{start:{line:57,column:16},end:{line:57,column:34}}),t))!=null?s:"")+` {

`+((s=m(r,"each").call(p,m(t,"services"),{name:"each",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:59,column:1},end:{line:61,column:10}}}))!=null?s:"")+`
	public readonly request: BaseHttpRequest;

	constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = `+((s=a(i(t,"httpRequest",{start:{line:65,column:87},end:{line:65,column:98}}),t))!=null?s:"")+`) {
		this.request = new HttpRequest({
			BASE: config?.BASE ?? '`+((s=a(i(t,"server",{start:{line:67,column:29},end:{line:67,column:35}}),t))!=null?s:"")+`',
			VERSION: config?.VERSION ?? '`+((s=a(i(t,"version",{start:{line:68,column:35},end:{line:68,column:42}}),t))!=null?s:"")+`',
			WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,
			CREDENTIALS: config?.CREDENTIALS ?? 'include',
			TOKEN: config?.TOKEN,
			USERNAME: config?.USERNAME,
			PASSWORD: config?.PASSWORD,
			HEADERS: config?.HEADERS,
			ENCODE_PATH: config?.ENCODE_PATH,
			interceptors: {
				request: config?.interceptors?.request ?? new Interceptors(),
				response: config?.interceptors?.response ?? new Interceptors(),
      },
		});

`+((s=m(r,"each").call(p,m(t,"services"),{name:"each",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o,loc:{start:{line:82,column:2},end:{line:84,column:11}}}))!=null?s:"")+`	}
}
`},12:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return "	public readonly "+((s=a(r,"camelCase").call(i,a(t,"name"),{name:"camelCase",hash:{},data:o,loc:{start:{line:60,column:17},end:{line:60,column:37}}}))!=null?s:"")+": "+((s=a(r,"transformServiceName").call(i,a(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:60,column:39},end:{line:60,column:70}}}))!=null?s:"")+`;
`},14:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return "		this."+((s=a(r,"camelCase").call(i,a(t,"name"),{name:"camelCase",hash:{},data:o,loc:{start:{line:83,column:7},end:{line:83,column:27}}}))!=null?s:"")+" = new "+((s=a(r,"transformServiceName").call(i,a(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:83,column:34},end:{line:83,column:65}}}))!=null?s:"")+`(this.request);
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return ((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:15,column:11}}}))!=null?s:"")+`
`+((s=a(r,"if").call(i,a(t,"services"),{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:17,column:0},end:{line:21,column:7}}}))!=null?s:"")+`
`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(8,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:23,column:0},end:{line:87,column:11}}}))!=null?s:"")},useData:true};var Oc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Observable<HttpHeaders> => {
	return forkJoin({
		// @ts-ignore
		token: resolve(options, config.TOKEN),
		// @ts-ignore
		username: resolve(options, config.USERNAME),
		// @ts-ignore
		password: resolve(options, config.PASSWORD),
		// @ts-ignore
		additionalHeaders: resolve(options, config.HEADERS),
	}).pipe(
		map(({ token, username, password, additionalHeaders }) => {
			const headers = Object.entries({
				Accept: 'application/json',
				...additionalHeaders,
				...options.headers,
			})
				.filter(([, value]) => value !== undefined && value !== null)
				.reduce((headers, [key, value]) => ({
					...headers,
					[key]: String(value),
				}), {} as Record<string, string>);

			if (isStringWithValue(token)) {
				headers['Authorization'] = \`Bearer \${token}\`;
			}

			if (isStringWithValue(username) && isStringWithValue(password)) {
				const credentials = base64(\`\${username}:\${password}\`);
				headers['Authorization'] = \`Basic \${credentials}\`;
			}

			if (options.body !== undefined) {
				if (options.mediaType) {
					headers['Content-Type'] = options.mediaType;
				} else if (isBlob(options.body)) {
					headers['Content-Type'] = options.body.type || 'application/octet-stream';
				} else if (isString(options.body)) {
					headers['Content-Type'] = 'text/plain';
				} else if (!isFormData(options.body)) {
					headers['Content-Type'] = 'application/json';
				}
			}

			return new HttpHeaders(headers);
		}),
	);
};`},useData:true};var Rc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Sc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = <T>(response: HttpResponse<T>): T | undefined => {
	if (response.status !== 204 && response.body !== null) {
		return response.body;
	}
	return undefined;
};`},useData:true};var Cc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = <T>(response: HttpResponse<T>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const value = response.headers.get(responseHeader);
		if (isString(value)) {
			return value;
		}
	}
	return undefined;
};`},useData:true};var Tc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return `import { HttpClient, HttpHeaders } from '@angular/common/http';
import type { HttpResponse, HttpErrorResponse } from '@angular/common/http';
import { forkJoin, of, throwError } from 'rxjs';
import { catchError, map, switchMap } from 'rxjs/operators';
import type { Observable } from 'rxjs';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(i(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"angular/getHeaders"),t,{name:"angular/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"angular/getRequestBody"),t,{name:"angular/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"angular/sendRequest"),t,{name:"angular/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"angular/getResponseHeader"),t,{name:"angular/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"angular/getResponseBody"),t,{name:"angular/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(i(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param http The Angular HTTP client
 * @param options The request options from the service
 * @returns Observable<T>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, http: HttpClient, options: ApiRequestOptions<T>): Observable<T> => {
	const url = getUrl(config, options);
	const formData = getFormData(options);
	const body = getRequestBody(options);

	return getHeaders(config, options).pipe(
		switchMap(headers => {
			return sendRequest<T>(config, options, http, url, body, formData, headers);
		}),
		switchMap(async response => {
			for (const fn of config.interceptors.response._fns) {
				response = await fn(response);
			}
			const responseBody = getResponseBody(response);
			const responseHeader = getResponseHeader(response, options.responseHeader);

			let transformedBody = responseBody;
			if (options.responseTransformer && response.ok) {
				transformedBody = await options.responseTransformer(responseBody)
			}

			return {
				url,
				ok: response.ok,
				status: response.status,
				statusText: response.statusText,
				body: responseHeader ?? transformedBody,
			} as ApiResult;
		}),
		catchError((error: HttpErrorResponse) => {
			if (!error.status) {
				return throwError(() => error);
			}
			return of({
				url,
				ok: error.ok,
				status: error.status,
				statusText: error.statusText,
				body: error.error ?? error.statusText,
			} as ApiResult);
		}),
		map(result => {
			catchErrorCodes(options, result);
			return result.body as T;
		}),
		catchError((error: ApiError) => {
			return throwError(() => error);
		}),
	);
};`},usePartial:true,useData:true};var Pc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	http: HttpClient,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: HttpHeaders
): Observable<HttpResponse<T>> => {
	return http.request<T>(options.method, url, {
		headers,
		body: body ?? formData,
		withCredentials: config.WITH_CREDENTIALS,
		observe: 'response',
	});
};`},useData:true};var Ic={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';

export class ApiError extends Error {
	public readonly url: string;
	public readonly status: number;
	public readonly statusText: string;
	public readonly body: unknown;
	public readonly request: ApiRequestOptions;

	constructor(request: ApiRequestOptions, response: ApiResult, message: string) {
		super(message);

		this.name = 'ApiError';
		this.url = response.url;
		this.status = response.status;
		this.statusText = response.statusText;
		this.body = response.body;
		this.request = request;
	}
}`},useData:true};var Ac={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export type ApiRequestOptions<T = unknown> = {
	readonly body?: any;
	readonly cookies?: Record<string, unknown>;
	readonly errors?: Record<number | string, string>;
	readonly formData?: Record<string, unknown> | any[] | Blob | File;
	readonly headers?: Record<string, unknown>;
	readonly mediaType?: string;
	readonly method:
		| 'DELETE'
		| 'GET'
		| 'HEAD'
		| 'OPTIONS'
		| 'PATCH'
		| 'POST'
		| 'PUT';
	readonly path?: Record<string, unknown>;
	readonly query?: Record<string, unknown>;
	readonly responseHeader?: string;
	readonly responseTransformer?: (data: unknown) => Promise<T>;
	readonly url: string;
};`},useData:true};var vc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export type ApiResult<TData = any> = {
	readonly body: TData;
	readonly ok: boolean;
	readonly status: number;
	readonly statusText: string;
	readonly url: string;
};`},useData:true};var Ec={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Record<string, string>> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
	.filter(([, value]) => value !== undefined && value !== null)
	.reduce((headers, [key, value]) => ({
		...headers,
		[key]: String(value),
	}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	} else if (options.formData !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		}
	}

	return headers;
};`},useData:true};var jc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		return options.body;
	}
	return undefined;
};`},useData:true};var qc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = (response: AxiosResponse<unknown>): unknown => {
	if (response.status !== 204) {
		return response.data;
	}
	return undefined;
};`},useData:true};var kc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (response: AxiosResponse<unknown>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers[responseHeader];
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var Nc={1:function(e,t,r,n,o){return "ApiResult<T>"},3:function(e,t,r,n,o){return "T"},5:function(e,t,r,n,o){return "result.body"},7:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return `import axios from 'axios';
import type { AxiosError, AxiosRequestConfig, AxiosResponse, AxiosInstance } from 'axios';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"axios/getHeaders"),t,{name:"axios/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"axios/getRequestBody"),t,{name:"axios/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"axios/sendRequest"),t,{name:"axios/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"axios/getResponseHeader"),t,{name:"axios/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"axios/getResponseBody"),t,{name:"axios/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @param axiosClient The axios client instance to use
 * @returns CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:64,column:30},end:{line:64,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>, axiosClient: AxiosInstance = axios): CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:67,column:136},end:{line:67,column:214}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest<T>(config, options, url, body, formData, headers, onCancel, axiosClient);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:100,column:12},end:{line:100,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var $c={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = async <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: Record<string, string>,
	onCancel: OnCancel,
	axiosClient: AxiosInstance
): Promise<AxiosResponse<T>> => {
	const controller = new AbortController();

	let requestConfig: AxiosRequestConfig = {
		data: body ?? formData,
		headers,
		method: options.method,
		signal: controller.signal,
		url,
		withCredentials: config.WITH_CREDENTIALS,
	};

	onCancel(() => controller.abort());

	for (const fn of config.interceptors.request._fns) {
		requestConfig = await fn(requestConfig);
	}

	try {
		return await axiosClient.request(requestConfig);
	} catch (error) {
		const axiosError = error as AxiosError<T>;
		if (axiosError.response) {
			return axiosError.response;
		}
		throw error;
	}
};`},useData:true};var wc={1:function(e,t,r,n,o){return `import type { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import type { OpenAPIConfig } from './OpenAPI';
`},3:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
`},5:function(e,t,r,n,o){return `	constructor(
		public readonly config: OpenAPIConfig,
		public readonly http: HttpClient,
	) {}
`},7:function(e,t,r,n,o){return `	constructor(public readonly config: OpenAPIConfig) {}
`},9:function(e,t,r,n,o){return `	public abstract request<T>(options: ApiRequestOptions<T>): Observable<T>;
`},11:function(e,t,r,n,o){return `	public abstract request<T>(options: ApiRequestOptions<T>): CancelablePromise<T>;
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return ((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:11,column:11}}}))!=null?s:"")+`
export abstract class BaseHttpRequest {

`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:15,column:1},end:{line:22,column:12}}}))!=null?s:"")+`
`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:24,column:1},end:{line:28,column:12}}}))!=null?s:"")+"}"},useData:true};var Dc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export class CancelError extends Error {
	constructor(message: string) {
		super(message);
		this.name = 'CancelError';
	}

	public get isCancelled(): boolean {
		return true;
	}
}

export interface OnCancel {
	readonly isResolved: boolean;
	readonly isRejected: boolean;
	readonly isCancelled: boolean;

	(cancelHandler: () => void): void;
}

export class CancelablePromise<T> implements Promise<T> {
	private _isResolved: boolean;
	private _isRejected: boolean;
	private _isCancelled: boolean;
	readonly cancelHandlers: (() => void)[];
	readonly promise: Promise<T>;
	private _resolve?: (value: T | PromiseLike<T>) => void;
	private _reject?: (reason?: unknown) => void;

	constructor(
		executor: (
			resolve: (value: T | PromiseLike<T>) => void,
			reject: (reason?: unknown) => void,
			onCancel: OnCancel
		) => void
	) {
		this._isResolved = false;
		this._isRejected = false;
		this._isCancelled = false;
		this.cancelHandlers = [];
		this.promise = new Promise<T>((resolve, reject) => {
			this._resolve = resolve;
			this._reject = reject;

			const onResolve = (value: T | PromiseLike<T>): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isResolved = true;
				if (this._resolve) this._resolve(value);
			};

			const onReject = (reason?: unknown): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isRejected = true;
				if (this._reject) this._reject(reason);
			};

			const onCancel = (cancelHandler: () => void): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this.cancelHandlers.push(cancelHandler);
			};

			Object.defineProperty(onCancel, 'isResolved', {
				get: (): boolean => this._isResolved,
			});

			Object.defineProperty(onCancel, 'isRejected', {
				get: (): boolean => this._isRejected,
			});

			Object.defineProperty(onCancel, 'isCancelled', {
				get: (): boolean => this._isCancelled,
			});

			return executor(onResolve, onReject, onCancel as OnCancel);
		});
	}

	get [Symbol.toStringTag]() {
		return "Cancellable Promise";
	}

	public then<TResult1 = T, TResult2 = never>(
		onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,
		onRejected?: ((reason: unknown) => TResult2 | PromiseLike<TResult2>) | null
	): Promise<TResult1 | TResult2> {
		return this.promise.then(onFulfilled, onRejected);
	}

	public catch<TResult = never>(
		onRejected?: ((reason: unknown) => TResult | PromiseLike<TResult>) | null
	): Promise<T | TResult> {
		return this.promise.catch(onRejected);
	}

	public finally(onFinally?: (() => void) | null): Promise<T> {
		return this.promise.finally(onFinally);
	}

	public cancel(): void {
		if (this._isResolved || this._isRejected || this._isCancelled) {
			return;
		}
		this._isCancelled = true;
		if (this.cancelHandlers.length) {
			try {
				for (const cancelHandler of this.cancelHandlers) {
					cancelHandler();
				}
			} catch (error) {
				console.warn('Cancellation threw an error', error);
				return;
			}
		}
		this.cancelHandlers.length = 0;
		if (this._reject) this._reject(new CancelError('Request aborted'));
	}

	public get isCancelled(): boolean {
		return this._isCancelled;
	}
}`},useData:true};var Mc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var Fc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Lc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = async (response: Response): Promise<unknown> => {
	if (response.status !== 204) {
		try {
			const contentType = response.headers.get('Content-Type');
			if (contentType) {
				const binaryTypes = ['application/octet-stream', 'application/pdf', 'application/zip', 'audio/', 'image/', 'video/'];
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return await response.json();
				} else if (binaryTypes.some(type => contentType.includes(type))) {
					return await response.blob();
				} else if (contentType.includes('multipart/form-data')) {
					return await response.formData();
				} else if (contentType.includes('text/')) {
					return await response.text();
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var _c={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers.get(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var Bc={1:function(e,t,r,n,o){return `import fetch, { FormData, Headers } from 'node-fetch';
import type { RequestInit, Response } from 'node-fetch';

`},3:function(e,t,r,n,o){return "ApiResult<T>"},5:function(e,t,r,n,o){return "T"},7:function(e,t,r,n,o){return "result.body"},9:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return ((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:5,column:11}}}))!=null?s:"")+`import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/getRequestBody"),t,{name:"fetch/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/sendRequest"),t,{name:"fetch/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/getResponseHeader"),t,{name:"fetch/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/getResponseBody"),t,{name:"fetch/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:62,column:30},end:{line:62,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:65,column:100},end:{line:65,column:178}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = await getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && response.ok) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: response.ok,
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:98,column:12},end:{line:98,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Hc={1:function(e,t,r,n,o){return `	if (config.WITH_CREDENTIALS) {
		request.credentials = config.CREDENTIALS;
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<Response> => {
	const controller = new AbortController();

	let request: RequestInit = {
		headers,
		body: body ?? formData,
		method: options.method,
		signal: controller.signal,
	};

`+((s=i(r,"equals").call(t??(e.nullContext||{}),i(i(i(i(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:1},end:{line:23,column:12}}}))!=null?s:"")+`
	for (const fn of config.interceptors.request._fns) {
		request = await fn(request);
	}

	onCancel(() => controller.abort());

	return await fetch(url, request);
};`},useData:true};var Kc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const base64 = (str: string): string => {
	try {
		return btoa(str);
	} catch (err) {
		// @ts-ignore
		return Buffer.from(str).toString('base64');
	}
};`},useData:true};var Vc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {
	const errors: Record<number, string> = {
		400: 'Bad Request',
		401: 'Unauthorized',
		402: 'Payment Required',
		403: 'Forbidden',
		404: 'Not Found',
		405: 'Method Not Allowed',
		406: 'Not Acceptable',
		407: 'Proxy Authentication Required',
		408: 'Request Timeout',
		409: 'Conflict',
		410: 'Gone',
		411: 'Length Required',
		412: 'Precondition Failed',
		413: 'Payload Too Large',
		414: 'URI Too Long',
		415: 'Unsupported Media Type',
		416: 'Range Not Satisfiable',
		417: 'Expectation Failed',
		418: 'Im a teapot',
		421: 'Misdirected Request',
		422: 'Unprocessable Content',
		423: 'Locked',
		424: 'Failed Dependency',
		425: 'Too Early',
		426: 'Upgrade Required',
		428: 'Precondition Required',
		429: 'Too Many Requests',
		431: 'Request Header Fields Too Large',
		451: 'Unavailable For Legal Reasons',
		500: 'Internal Server Error',
		501: 'Not Implemented',
		502: 'Bad Gateway',
		503: 'Service Unavailable',
		504: 'Gateway Timeout',
		505: 'HTTP Version Not Supported',
		506: 'Variant Also Negotiates',
		507: 'Insufficient Storage',
		508: 'Loop Detected',
		510: 'Not Extended',
		511: 'Network Authentication Required',
		...options.errors,
	}

	const error = errors[result.status];
	if (error) {
		throw new ApiError(options, result, error);
	}

	if (!result.ok) {
		const errorStatus = result.status ?? 'unknown';
		const errorStatusText = result.statusText ?? 'unknown';
		const errorBody = (() => {
			try {
				return JSON.stringify(result.body, null, 2);
			} catch (e) {
				return undefined;
			}
		})();

		throw new ApiError(options, result,
			\`Generic Error: status: \${errorStatus}; status text: \${errorStatusText}; body: \${errorBody}\`
		);
	}
};`},useData:true};var Wc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getFormData = (options: ApiRequestOptions): FormData | undefined => {
	if (options.formData) {
		const formData = new FormData();

		const process = (key: string, value: unknown) => {
			if (isString(value) || isBlob(value)) {
				formData.append(key, value);
			} else {
				formData.append(key, JSON.stringify(value));
			}
		};

		Object.entries(options.formData)
			.filter(([, value]) => value !== undefined && value !== null)
			.forEach(([key, value]) => {
				if (Array.isArray(value)) {
					value.forEach(v => process(key, v));
				} else {
					process(key, value);
				}
			});

		return formData;
	}
	return undefined;
};`},useData:true};var Uc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getQueryString = (params: Record<string, unknown>): string => {
	const qs: string[] = [];

	const append = (key: string, value: unknown) => {
		qs.push(\`\${encodeURIComponent(key)}=\${encodeURIComponent(String(value))}\`);
	};

	const encodePair = (key: string, value: unknown) => {
		if (value === undefined || value === null) {
			return;
		}

		if (value instanceof Date) {
			append(key, value.toISOString());
		} else if (Array.isArray(value)) {
			value.forEach(v => encodePair(key, v));
		} else if (typeof value === 'object') {
			Object.entries(value).forEach(([k, v]) => encodePair(\`\${key}[\${k}]\`, v));
		} else {
			append(key, value);
		}
	};

	Object.entries(params).forEach(([key, value]) => encodePair(key, value));

	return qs.length ? \`?\${qs.join('&')}\` : '';
};`},useData:true};var Qc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `const getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {
	const encoder = config.ENCODE_PATH || encodeURI;

	const path = options.url
		.replace('{api-version}', config.VERSION)
		.replace(/{(.*?)}/g, (substring: string, group: string) => {
			if (options.path?.hasOwnProperty(group)) {
				return encoder(String(options.path[group]));
			}
			return substring;
		});

	const url = config.BASE + path;
	return options.query ? url + getQueryString(options.query) : url;
};`},useData:true};var Xc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isBlob = (value: any): value is Blob => {
	return value instanceof Blob;
};`},useData:true};var zc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isFormData = (value: unknown): value is FormData => {
	return value instanceof FormData;
};`},useData:true};var Gc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isString = (value: unknown): value is string => {
	return typeof value === 'string';
};`},useData:true};var Jc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isStringWithValue = (value: unknown): value is string => {
	return isString(value) && value !== '';
};`},useData:true};var Zc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isSuccess = (status: number): boolean => {
	return status >= 200 && status < 300;
};`},useData:true};var Yc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export const resolve = async <T>(options: ApiRequestOptions<T>, resolver?: T | Resolver<T>): Promise<T | undefined> => {
	if (typeof resolver === 'function') {
		return (resolver as Resolver<T>)(options);
	}
	return resolver;
};`},useData:true};var em={1:function(e,t,r,n,o){return `import { Inject, Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { OpenAPIConfig } from './OpenAPI';
import { OpenAPI } from './OpenAPI';
import { request as __request } from './request';
`},3:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
import { request as __request } from './request';
`},5:function(e,t,r,n,o){return `@Injectable()
`},7:function(e,t,r,n,o){return `	constructor(
		@Inject(OpenAPI)
		config: OpenAPIConfig,
		http: HttpClient,
	) {
		super(config, http);
	}
`},9:function(e,t,r,n,o){return `	constructor(config: OpenAPIConfig) {
		super(config);
	}
`},11:function(e,t,r,n,o){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns Observable<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): Observable<T> {
		return __request(this.config, this.http, options);
	}
`},13:function(e,t,r,n,o){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns CancelablePromise<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): CancelablePromise<T> {
		return __request(this.config, options);
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return ((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:17,column:11}}}))!=null?s:"")+`
`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:0},end:{line:21,column:11}}}))!=null?s:"")+"export class "+((s=e.lambda(e.strict(t,"httpRequest",{start:{line:22,column:15},end:{line:22,column:26}}),t))!=null?s:"")+` extends BaseHttpRequest {

`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:24,column:1},end:{line:36,column:12}}}))!=null?s:"")+`
`+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:38,column:1},end:{line:58,column:12}}}))!=null?s:"")+"}"},useData:true};var tm={1:function(e,t,r,n,o){return `import type { HttpResponse } from '@angular/common/http';
`},3:function(e,t,r,n,o){return `import type { AxiosRequestConfig, AxiosResponse } from 'axios';
`},5:function(e,t,r,n,o){return `import type { RequestInit, Response } from 'node-fetch';
`},7:function(e,t,r,n,o){return `		response: Interceptors<HttpResponse<any>>;
`},9:function(e,t,r,n,o){return `		request: Interceptors<AxiosRequestConfig>;
		response: Interceptors<AxiosResponse>;
`},11:function(e,t,r,n,o){return `		request: Interceptors<RequestInit>;
		response: Interceptors<Response>;
`},13:function(e,t,r,n,o){return `		request: Interceptors<XMLHttpRequest>;
		response: Interceptors<XMLHttpRequest>;
`},15:function(e,t,r,n,o){return `		request: new Interceptors(),
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.strict,p=e.lambda,m=e.lookupProperty||function(l,u){if(Object.prototype.hasOwnProperty.call(l,u))return l[u]};return ((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:11}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:6,column:11}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:0},end:{line:9,column:11}}}))!=null?s:"")+`import type { ApiRequestOptions } from './ApiRequestOptions';

type Headers = Record<string, string>;
type Middleware<T> = (value: T) => T | Promise<T>;
type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export class Interceptors<T> {
  _fns: Middleware<T>[];

  constructor() {
    this._fns = [];
  }

  eject(fn: Middleware<T>): void {
    const index = this._fns.indexOf(fn);
    if (index !== -1) {
      this._fns = [...this._fns.slice(0, index), ...this._fns.slice(index + 1)];
    }
  }

  use(fn: Middleware<T>): void {
    this._fns = [...this._fns, fn];
  }
}

export type OpenAPIConfig = {
	BASE: string;
	CREDENTIALS: 'include' | 'omit' | 'same-origin';
	ENCODE_PATH?: ((path: string) => string) | undefined;
	HEADERS?: Headers | Resolver<Headers> | undefined;
	PASSWORD?: string | Resolver<string> | undefined;
	TOKEN?: string | Resolver<string> | undefined;
	USERNAME?: string | Resolver<string> | undefined;
	VERSION: string;
	WITH_CREDENTIALS: boolean;
	interceptors: {
`+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:46,column:2},end:{line:48,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:49,column:2},end:{line:52,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:53,column:2},end:{line:56,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:57,column:2},end:{line:60,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:61,column:2},end:{line:64,column:13}}}))!=null?s:"")+`	};
};

export const OpenAPI: OpenAPIConfig = {
	BASE: '`+((s=p(a(t,"server",{start:{line:69,column:11},end:{line:69,column:17}}),t))!=null?s:"")+`',
	CREDENTIALS: 'include',
	ENCODE_PATH: undefined,
	HEADERS: undefined,
	PASSWORD: undefined,
	TOKEN: undefined,
	USERNAME: undefined,
	VERSION: '`+((s=p(a(t,"version",{start:{line:76,column:14},end:{line:76,column:21}}),t))!=null?s:"")+`',
	WITH_CREDENTIALS: false,
	interceptors: {
`+((s=m(r,"notEquals").call(i,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"notEquals",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:79,column:2},end:{line:81,column:16}}}))!=null?s:"")+`		response: new Interceptors(),
	},
};`},useData:true};var rm={1:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return (s=e.invokePartial(i(n,"angular/request"),t,{name:"angular/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},3:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return (s=e.invokePartial(i(n,"axios/request"),t,{name:"axios/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},5:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return (s=e.invokePartial(i(n,"fetch/request"),t,{name:"fetch/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},7:function(e,t,r,n,o){var s,i=e.lookupProperty||function(a,p){if(Object.prototype.hasOwnProperty.call(a,p))return a[p]};return (s=e.invokePartial(i(n,"xhr/request"),t,{name:"xhr/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return ((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:1,column:87}}}))!=null?s:"")+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:83}}}))!=null?s:"")+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:3,column:83}}}))!=null?s:"")+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:4,column:82}}}))!=null?s:"")+((s=a(r,"equals").call(i,a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:0},end:{line:5,column:79}}}))!=null?s:"")},usePartial:true,useData:true};var nm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var om={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var sm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = (xhr: XMLHttpRequest): unknown => {
	if (xhr.status !== 204) {
		try {
			const contentType = xhr.getResponseHeader('Content-Type');
			if (contentType) {
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return JSON.parse(xhr.responseText);
				} else {
					return xhr.responseText;
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var im={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (xhr: XMLHttpRequest, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = xhr.getResponseHeader(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var am={1:function(e,t,r,n,o){return "ApiResult<T>"},3:function(e,t,r,n,o){return "T"},5:function(e,t,r,n,o){return "result.body"},7:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,i=t??(e.nullContext||{}),a=e.lookupProperty||function(p,m){if(Object.prototype.hasOwnProperty.call(p,m))return p[m]};return `import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"xhr/getRequestBody"),t,{name:"xhr/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"xhr/sendRequest"),t,{name:"xhr/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"xhr/getResponseHeader"),t,{name:"xhr/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"xhr/getResponseBody"),t,{name:"xhr/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:60,column:30},end:{line:60,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((s=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:63,column:100},end:{line:63,column:178}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:96,column:12},end:{line:96,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var pm={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<XMLHttpRequest> => {
	let xhr = new XMLHttpRequest();
	xhr.open(options.method, url, true);
	xhr.withCredentials = config.WITH_CREDENTIALS;

	headers.forEach((value, key) => {
		xhr.setRequestHeader(key, value);
	});

	return new Promise<XMLHttpRequest>(async (resolve, reject) => {
		xhr.onload = () => resolve(xhr);
		xhr.onabort = () => reject(new Error('Request aborted'));
		xhr.onerror = () => reject(new Error('Network error'));

		for (const fn of config.interceptors.request._fns) {
			xhr = await fn(xhr);
		}

		xhr.send(body ?? formData);

		onCancel(() => xhr.abort());
	});
};`},useData:true};var Rd=()=>{g__default.default.registerHelper("camelCase",function(e){return A({case:"camelCase",value:e})}),g__default.default.registerHelper("equals",function(e,t,r){return e===t?r.fn(this):r.inverse(this)}),g__default.default.registerHelper("ifServicesResponse",function(e,t){return b().plugins["@hey-api/sdk"]?.response===e?t.fn(this):t.inverse(this)}),g__default.default.registerHelper("ifdef",function(...e){let t=e.pop();return e.every(r=>!r)?t.inverse(this):t.fn(this)}),g__default.default.registerHelper("notEquals",function(e,t,r){return e!==t?r.fn(this):r.inverse(this)}),g__default.default.registerHelper("transformServiceName",function(e){return $e({config:b(),name:e})});},cm=()=>{Rd();let e={client:g__default.default.template(bc),core:{apiError:g__default.default.template(Ic),apiRequestOptions:g__default.default.template(Ac),apiResult:g__default.default.template(vc),baseHttpRequest:g__default.default.template(wc),cancelablePromise:g__default.default.template(Dc),httpRequest:g__default.default.template(em),request:g__default.default.template(rm),settings:g__default.default.template(tm)}};return g__default.default.registerPartial("functions/base64",g__default.default.template(Kc)),g__default.default.registerPartial("functions/catchErrorCodes",g__default.default.template(Vc)),g__default.default.registerPartial("functions/getFormData",g__default.default.template(Wc)),g__default.default.registerPartial("functions/getQueryString",g__default.default.template(Uc)),g__default.default.registerPartial("functions/getUrl",g__default.default.template(Qc)),g__default.default.registerPartial("functions/isBlob",g__default.default.template(Xc)),g__default.default.registerPartial("functions/isFormData",g__default.default.template(zc)),g__default.default.registerPartial("functions/isString",g__default.default.template(Gc)),g__default.default.registerPartial("functions/isStringWithValue",g__default.default.template(Jc)),g__default.default.registerPartial("functions/isSuccess",g__default.default.template(Zc)),g__default.default.registerPartial("functions/resolve",g__default.default.template(Yc)),g__default.default.registerPartial("fetch/getHeaders",g__default.default.template(Mc)),g__default.default.registerPartial("fetch/getRequestBody",g__default.default.template(Fc)),g__default.default.registerPartial("fetch/getResponseBody",g__default.default.template(Lc)),g__default.default.registerPartial("fetch/getResponseHeader",g__default.default.template(_c)),g__default.default.registerPartial("fetch/request",g__default.default.template(Bc)),g__default.default.registerPartial("fetch/sendRequest",g__default.default.template(Hc)),g__default.default.registerPartial("xhr/getHeaders",g__default.default.template(nm)),g__default.default.registerPartial("xhr/getRequestBody",g__default.default.template(om)),g__default.default.registerPartial("xhr/getResponseBody",g__default.default.template(sm)),g__default.default.registerPartial("xhr/getResponseHeader",g__default.default.template(im)),g__default.default.registerPartial("xhr/request",g__default.default.template(am)),g__default.default.registerPartial("xhr/sendRequest",g__default.default.template(pm)),g__default.default.registerPartial("axios/getHeaders",g__default.default.template(Ec)),g__default.default.registerPartial("axios/getRequestBody",g__default.default.template(jc)),g__default.default.registerPartial("axios/getResponseBody",g__default.default.template(qc)),g__default.default.registerPartial("axios/getResponseHeader",g__default.default.template(kc)),g__default.default.registerPartial("axios/request",g__default.default.template(Nc)),g__default.default.registerPartial("axios/sendRequest",g__default.default.template($c)),g__default.default.registerPartial("angular/getHeaders",g__default.default.template(Oc)),g__default.default.registerPartial("angular/getRequestBody",g__default.default.template(Rc)),g__default.default.registerPartial("angular/getResponseBody",g__default.default.template(Sc)),g__default.default.registerPartial("angular/getResponseHeader",g__default.default.template(Cc)),g__default.default.registerPartial("angular/request",g__default.default.template(Tc)),g__default.default.registerPartial("angular/sendRequest",g__default.default.template(Pc)),e};var Sd={stringCase:A};var Ej=async e=>{let t=typeof e=="function"?await e():e,r=[];try{K.start("createClient"),K.start("config"),r=await xc(t),K.end("config"),K.start("handlebars");let n=cm();K.end("handlebars");let s=(await Promise.all(r.map(a=>ho({config:a,templates:n})))).filter(a=>!!a);K.end("createClient");let i=r[0];return i&&i.logs.level==="debug"&&new fn({totalMark:"createClient"}).report({marks:["config","openapi","handlebars","parser","generator","postprocess"]}),s}catch(n){let o=r[0];if(!(o?o.dryRun:t?.dryRun)){let i=o?.logs??dn(t);if(i.level!=="silent"&&i.file){let a=`openapi-ts-error-${Date.now()}.log`,p=re__default.default.resolve(process.cwd(),i.path??"");it(p);let m=re__default.default.resolve(p,a);fe__default.default.writeFileSync(m,`${n.message}
${n.stack}`),console.error(`\u{1F525} Unexpected error occurred. Log saved to ${m}`);}}throw console.error(`\u{1F525} Unexpected error occurred. ${n.message}`),n}},jj=async e=>typeof e=="function"?await e():e;exports.clientDefaultConfig=Je;exports.clientPluginHandler=Ze;exports.createClient=Ej;exports.defaultPlugins=ts;exports.defineConfig=jj;exports.utils=Sd;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map